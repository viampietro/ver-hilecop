\documentclass[dvipsnames,12pt]{article}

\usepackage[top=1cm,left=1cm,right=1cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{makeidx}
\usepackage{url}
\usepackage[fleqn]{amsmath}
\usepackage{amsfonts,amssymb,amsthm}
\usepackage{stackengine}
\usepackage{float}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{listings,lstautogobble,lstvhdl,lstpseudocoq}
\usepackage{subfig}
\usepackage{todonotes}
\usepackage{mathtools}
\usepackage{ebproof}
\usepackage{tikz,tikz-cd}
\usepackage{titlesec}
\usepackage{framed}
\usepackage{caption}

\usepackage[backend=biber,% style=authoryear,
natbib=true]{biblatex}
\addbibresource{references.bib} % The filename of the bibliography

\input{packages}

\input{macros}

\title{Proof of correctness of the \hilecop{} model-to-text
  transformation}

\author{VINCENT~IAMPIETRO%  \and DAVID~DELAHAYE\\
  % \lirmm{}, \um{}, \cnrs{}, Montpellier, France
  % \and DAVID~ANDREU\\
  % \lirmm{}, \um{}, \cnrs{}, Montpellier, France\\
  % and \neurin, Montpellier, France
}

\begin{document}

% Macros to put after the beginning of the document

\input{docmacros}

% \maketitle

% \tableofcontents
% \listoftables

\section{Preliminary definitions}
\label{sec:prelim-defs}

\begin{definition}[General state similarity]
  \label{def:state-sim}
  For a given $sitpn\in{}SITPN$, an \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, an SITPN state $s\in{}S(sitpn)$ and a
  design state $\sigma\in\Sigma$ are similar, written
  $\gamma\vdash{}s\sim\sigma$ if
  \begin{enumerate}
  \item\label{item:sim-mark} $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
    $~s.M(p)=\sigma(id_p)($\texttt{s\_marking}$)$.
  \item\label{item:sim-tc}
    $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
    $\big(u(I_s(t))=\infty\land{}s.I(t)\le{}l(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)($\texttt{s\_time\_counter}$)\big)$\\
    $\land\big(u(I_s(t))=\infty\land{}s.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)($\texttt{s\_time\_counter}$)=l(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)($\texttt{s\_time\_counter}$)=u(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)\le{}u(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)($\texttt{s\_time\_counter}$)\big)$.
  \item\label{item:sim-reset}
    $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $s.reset_t(t)=\sigma(id_t)($\texttt{s\_reinit\_time\_counter}$)$.
  \item\label{item:sim-cond}
    $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s.cond(c)=\sigma(id_c)$.
  \item\label{item:sim-act}
    $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s.ex(a)=\sigma(id_a)$.
  \item\label{item:sim-fun}
    $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s.ex(f)=\sigma(id_f)$.
  \end{enumerate}
\end{definition}

\begin{definition}[Post rising edge state similarity]
  \label{def:post-re-state-sim}
  For a given $sitpn\in{}SITPN$, an \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, an SITPN state $s\in{}S(sitpn)$ and a
  design state $\sigma\in\Sigma$ are similar after a rising edge,
  written $\gamma\vdash{}s\stackrel{\uparrow}{\sim}\sigma$ iff
  \begin{enumerate}
  \item
    $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,~s.M(p)=\sigma(id_p)(\texttt{s\_marking})$.
  \item
    $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
    $\big(u(I_s(t))=\infty\land{}s.I(t)\le{}l(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$\\
    $\land\big(u(I_s(t))=\infty\land{}s.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)\le{}u(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$.
  \item
    $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $s.reset_t(t)=\sigma(id_t)(\texttt{s\_reinit\_time\_counter})$.
  \item
    $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s.ex(a)=\sigma(id_a)$.
  \item
    $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s.ex(f)=\sigma(id_f)$.
  \end{enumerate}
\end{definition}

\begin{definition}[Full post rising edge state similarity]
  \label{def:full-post-re-state-sim}
  For a given $sitpn\in{}SITPN$, an \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, a clock cycle count $\tau\in\mathbb{N}$,
  and an SITPN execution environment
  $E_c\in\mathbb{N}\rightarrow\mathcal{C}\rightarrow\mathbb{B}$, an
  SITPN state $s\in{}S(sitpn)$ and a design state $\sigma\in\Sigma$
  are fully similar after a rising edge happening at clock cycle count
  $\tau$, written
  $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$, if
  $\gamma\vdash{}s\stackrel{\uparrow}{\sim}\sigma$
  (Definition~\ref{def:post-re-state-sim}) and
  \begin{enumerate}
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\in{}Sens(s.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{true}$.
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\notin{}Sens(s.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{false}$.
  \item
    $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
    $\sigma(id_t)(\texttt{s\_condition\_combination})=
    \prod\limits_{c\in{}conds(t)}
    \begin{cases}
      E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
      \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
    \end{cases}$\\
    where
    $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.
  \item $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)$
    s.t. $\gamma(c)=id_c$, $\sigma(id_c)=E_c(\tau,c)$.
  \end{enumerate}
\end{definition}

\begin{definition}[Post falling edge state similarity]
  \label{def:post-fe-state-sim}
  For a given $sitpn\in{}SITPN$, an \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, an SITPN state $s\in{}S(sitpn)$ and a
  design state $\sigma\in\Sigma$ are similar after a falling edge,
  written $\gamma\vdash{}s\stackrel{\downarrow}{\sim}\sigma$, if
  \begin{enumerate}
  \item $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
    $~s.M(p)=\sigma(id_p)(\texttt{s\_marking})$.
  \item
    $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
    $\big(u(I_s(t))=\infty\land{}s.I(t)\le{}l(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$\\
    $\land\big(u(I_s(t))=\infty\land{}s.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
    $\land\big(u(I_s(t))\neq\infty\land{}s.I(t)\le{}u(I_s(t))\Rightarrow{}s.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$.
  \item
    $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s.cond(c)=\sigma(id_c)$.
  \item
    $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s.ex(a)=\sigma(id_a)$.
  \item
    $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s.ex(f)=\sigma(id_f)$.
  \end{enumerate}
\end{definition}

\begin{definition}[Full post falling edge state similarity]
  \label{def:full-post-fe-state-sim}
  For a given $sitpn\in{}SITPN$, an \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, an SITPN state $s\in{}S(sitpn)$ and a
  design state $\sigma\in\Sigma$ are fully similar after a falling
  edge, written $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$,
  if $\gamma\vdash{}s\stackrel{\downarrow}{\sim}\sigma$
  (Definition~\ref{def:post-fe-state-sim}) and
  \begin{enumerate}
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\in{}Firable(s)\Leftrightarrow\sigma(id_t)(\texttt{s\_firable})=\mathtt{true}$.
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\notin{}Firable(s)\Leftrightarrow\sigma(id_t)(\texttt{s\_firable})=\mathtt{false}$.
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\in{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{true}$.
  \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
    $t\notin{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{false}$.
  \item $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
    $\sum\limits_{t\in{}Fired(s)}pre(p,t)=\sigma(id_p)(\texttt{s\_output\_token\_sum})$.
  \item $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
    $\sum\limits_{t\in{}Fired(s)}post(t,p)=\sigma(id_p)(\texttt{s\_input\_token\_sum})$.
  \end{enumerate}
\end{definition}

\begin{definition}[Similar environments]
  \label{def:sim-env}
  For a given $sitpn\in{}SITPN$, a \hvhdl{} design $d\in{}design$, a
  design store
  $\mathcal{D}\in{}entity\mhyphen{}id\nrightarrow{}design$, an
  elaborated version $\Delta\in{}ElDesign$ of design $d$, and a binder
  $\gamma\in{}WM(sitpn,d)$, the environment
  $E_p\in{}\mathbb{N}\rightarrow{}Ins(\Delta)\rightarrow{}value$, that
  yields the value of the primary input ports of $\Delta$ at a given
  simulation cycle, and the environment $E_c$, that yields the value
  of conditions of $sitpn$ at a given execution cycle, are similar,
  written $\gamma\vdash{}E_p\stackrel{env}{=}E_c$, if for all
  $\tau\in{}\mathbb{N}$, $c\in\mathcal{C}$, $id_c\in{}Ins(\Delta)$
  s.t.  $\gamma(c)=id_c$, $E_p(\tau)(id_c)=E_c(\tau)(c)$.
\end{definition}

\begin{definition}[Execution trace similarity]
  \label{def:exec-trace-sim}
  For a given $sitpn\in{}SITPN$, a \hvhdl{} design $d\in{}design$, an
  elaborated design $\Delta\in{}ElDesign$, and a binder
  $\gamma\in{}WM(sitpn,d)$, the execution trace
  $\theta_s\in{}\mathtt{list}(S(sitpn))$ and the simulation trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ are similar if
  $\gamma\vdash{}\theta_s\stackrel{clk}{\sim}\theta_\sigma$ (where
  $clk\in\{\uparrow,\downarrow\}$) is derivable according to the
  following rules:

  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{SimTraceNil}} \\
    
    {\begin{prooftree}[template={\fontsize{11}{13}\selectfont\inserttext}]        
        \infer0[$clk\in{}\{\uparrow,\downarrow\}$]{$\gamma\vdash{}[~]\stackrel{clk}{\sim}{}[~]$}
      \end{prooftree}} 
  \end{tabular}
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{SimTrace$\uparrow$}} \\
    
    {\begin{prooftree}[template={\fontsize{11}{13}\selectfont\inserttext}]

        \hypo{$\gamma\vdash{}s\stackrel{\uparrow}{\sim}\sigma$}
        \hypo{$\gamma\vdash{}\theta_s\stackrel{\downarrow}{\sim}{}\theta_\sigma$}
        \infer2{$\gamma\vdash{}(s :: \theta_s)\stackrel{\uparrow}{\sim}{}(\sigma :: \theta_\sigma)$}
      \end{prooftree}} 
  \end{tabular}
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{SimTrace$\downarrow$}} \\
    
    {\begin{prooftree}[template={\fontsize{11}{13}\selectfont\inserttext}]

        \hypo{$\gamma\vdash{}s\stackrel{\downarrow}{\sim}\sigma$}
        \hypo{$\gamma\vdash{}\theta_s\stackrel{\uparrow}{\sim}{}\theta_\sigma$}
        \infer2{$\gamma\vdash{}(s :: \theta_s)\stackrel{\downarrow}{\sim}{}(\sigma :: \theta_\sigma)$}
      \end{prooftree}} 
  \end{tabular}
\end{definition}

\begin{definition}[Full execution trace similarity]
  \label{def:full-exec-trace-sim} For a given $sitpn\in{}SITPN$, a
  \hvhdl{} design $d\in{}design$, an elaborated design
  $\Delta\in{}ElDesign(d,\mathcal{D}_\mathcal{H})$, and a binder
  $\gamma\in{}WM(sitpn,d)$, the execution trace
  $\theta_s\in{}\mathtt{list}(S(sitpn))$ and the simulation trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ are fully similar, written
  $\gamma\vdash{}\theta_s\sim\theta_\sigma$, according to the
  following rules:

  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FullSimTraceNil}} \\
    
    {\begin{prooftree}[template={\fontsize{11}{13}\selectfont\inserttext}]
        \infer0{$\gamma\vdash{}[~]\sim{}[~]$}
      \end{prooftree}}
  \end{tabular}
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FullSimTraceCons}} \\
    
    {\begin{prooftree}[template={\fontsize{11}{13}\selectfont\inserttext}]

        \hypo{$\gamma\vdash{}s\sim\sigma$}
        \hypo{$\gamma\vdash{}\theta_s\stackrel{\uparrow}{\sim}{}\theta_\sigma$}
        \infer2{$\gamma\vdash{}(s :: \theta_s)\sim{}(\sigma ::
          \theta_\sigma)$}
      \end{prooftree}}
  \end{tabular}
\end{definition}

\section{Correctness, behavior preservation, or semantic preservation
  theorem}
\label{sec:corr-thms}

\begin{thm}[Behavior preservation]
  \label{thm:beh-pres}
  For all well-defined $sitpn\in{}SITPN$, \hvhdl{} design
  $d\in{}design$, binder $\gamma\in{}WM(sitpn,d)$, clock cycle count
  $\tau\in\mathbb{N}$, execution environment
  $E_c\in{}\mathbb{N}\rightarrow{}\mathcal{C}\rightarrow{}\mathbb{B}$,
  execution trace $\theta_s\in\mathtt{list}(S(sitpn))$ and maximal
  marking function $b\in{}P\rightarrow\mathbb{N}$ such that
  \begin{itemize}
  \item SITPN $sitpn$ is transformed into the \hvhdl{} design $d$ and
    yields the binder $\gamma$: $\lfloor{}sitpn\rfloor_b=(d,\gamma)$
  \item SITPN $sitpn$ is bounded through $b$: $\lceil{}sitpn\rceil^b$
  \item SITPN $sitpn$ yields the execution trace $\theta_s$ after
    $\tau$ execution cycles in environment $E_c$:\\
    $E_c,\tau\vdash{}sitpn\xrightarrow{full}\theta_s$
  \end{itemize}
  
  \noindent{}then there exist an elaborated design
  $\Delta\in{}ElDesign$ and a simulation trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ s.t.\\
  for all simulation environment
  $E_p\in{}\mathbb{N}\rightarrow{}Ins(\Delta)\rightarrow{}value$
  verifying $\gamma\vdash{}E_p\stackrel{env}{=}E_c$ (simulation and
  execution environments are similar), we have:
  \begin{itemize}
  \item In the context of the \hilecop{} design store
    $\mathcal{D}_\mathcal{H}$ and with an empty generic constant
    dimensioning function ($\emptyset$), design d elaborates into
    $\Delta$ and yields the simulation trace $\theta_\sigma$ after
    $\tau$
    simulation cycles:\\
    $\mathcal{D}_\mathcal{H},\Delta,\emptyset,E_p,\tau\vdash{}\mathrm{d}\xrightarrow{full}\theta_\sigma$
  \item Traces $\theta_s$ and $\theta_\sigma$ are fully similar:
    $\theta_s\sim\theta_\sigma$
  \end{itemize}
\end{thm}

\begin{niproof}
  Given a $sitpn\in{}SITPN$, a $d\in{}design$, a
  $\gamma\in{}WM(sitpn,d)$, a $\tau\in\mathbb{N}$, an
  $E_c\in{}\mathbb{N}\rightarrow{}\mathcal{C}\rightarrow{}\mathbb{B}$,
  a $\theta_s\in\mathtt{list}(S(sitpn))$, and a $b\in{}P\rightarrow\mathbb{N}$, let us show that\\
  \framebox{$\exists\Delta,\theta_\sigma,\forall{}E_p,~\gamma\vdash{}E_p\stackrel{env}{=}E_c\Rightarrow$
    $(\mathcal{D}_\mathcal{H},\Delta,\emptyset,E_p,\tau\vdash{}\mathrm{d}\xrightarrow{full}\theta_\sigma)\land\theta_s\sim\theta_\sigma$}\\

  Appealing to Theorems~\ref{thm:elab-ex} (p.~\pageref{thm:elab-ex}),
  \ref{thm:init-ex} (p.~\pageref{thm:init-ex}) and \ref{thm:sim-ex}
  (p.~\pageref{thm:sim-ex}), let us take an elaborated design
  $\Delta\in{}ElDesign$, two design states
  $\sigma_e,\sigma_0\in\Sigma$, and a simulation trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ such that:
  \begin{itemize}[label=--]
  \item $\Delta$ is the elaborated version of design $d$, and
    $\sigma_e$ is the default design state of $\Delta$:\\
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$
  \item $\sigma_0$ is the initial simulation state:
    $\mathcal{D}_\mathcal{H},\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0$
  \item Design $d$ yields the simulation trace $\theta_\sigma$ after
    $\tau$ simulation cycles, starting from initial state $\sigma_0$:\\
    $\mathcal{D}_\mathcal{H},E_p,\Delta,\tau,\sigma_0\vdash{}\mathrm{d.cs}\rightarrow\theta_\sigma$
  \end{itemize}

  Let us use this $\Delta$ and this $\theta_\sigma$ to prove the
  current goal. Given an $E_p$ such that
  $\gamma\vdash{}E_p\stackrel{env}{=}E_c$, it remains to be proved
  that:

  \framebox{$(\mathcal{D}_\mathcal{H},\Delta,\emptyset,E_p,\tau\vdash{}\mathrm{d}\xrightarrow{full}\theta_\sigma)\land\theta_s\sim\theta_\sigma$}\\
  
  \noindent{}First, we must prove that
  \fbox{$(\mathcal{D}_\mathcal{H},\Delta,\emptyset,E_p,\tau\vdash{}\mathrm{d}\xrightarrow{full}\theta_\sigma)$}
  holds.  By definition of the \hvhdl{} full simulation relation, we
  have:
  \begin{equation}
    \begin{split}
      \mathcal{D}_\mathcal{H},\Delta,\emptyset,E_p,\tau\vdash{}\mathrm{d}\xrightarrow{full}\theta_\sigma\equiv
      \exists\sigma_e,\sigma_0\in\Sigma(\Delta),~\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})\\
      \land\mathcal{D}_\mathcal{H},\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0\\
      \land\mathcal{D}_\mathcal{H},E_p,\Delta,\tau,\sigma_0\vdash{}\mathrm{d.cs}\rightarrow\theta_\sigma
    \end{split}
  \label{eq:full-sim}
  \end{equation}
  
  Thus, it is equivalent to prove:
  \begin{frameb}
    $\exists\sigma_e,\sigma_0$
    s.t.
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})
    \land\mathcal{D}_\mathcal{H},\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0
    \land\mathcal{D}_\mathcal{H},E_p,\Delta,\tau,\sigma_0\vdash{}\mathrm{d.cs}\rightarrow\theta_\sigma$
  \end{frameb}

  To prove the goal, let us use $\sigma_e$, $\sigma_0\in\Sigma$
  previously introduced by the invocation of
  Theorems~\ref{thm:elab-ex}, \ref{thm:init-ex} and \ref{thm:sim-ex}.
  Then, the three first points of the goal are previously assumed
  hypotheses.

  Finally, appealing to Theorem~\ref{thm:full-trace-sim}, we can prove
  final point of the theorem, i.e. \fbox{$\theta_s\sim\theta_\sigma$}.

\end{niproof}

\begin{thm}[Elaboration]
  \label{thm:elab-ex}
  For all well-defined $sitpn\in{}SITPN$, $d\in{}design$,
  $\gamma\in{}WM(sitpn,d)$ and $b\in{}P\rightarrow\mathbb{N}$ such
  that
  \begin{itemize}
  \item $\lfloor{}sitpn\rfloor_b=(d,\gamma)$
  \end{itemize}
  \noindent{}then there exists an elaborated design
  $\Delta\in{}ElDesign$ and a design state $\sigma_e\in\Sigma$ s.t.
  $\Delta$ is the elaborated version of design $d$, and $\sigma_e$ is
  the default design state of $\Delta$:
  $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$.
\end{thm}

\begin{thm}[Initialization]
  \label{thm:init-ex}
  For all well-defined $sitpn\in{}SITPN$, $d\in{}design$,
  $b\in{}P\rightarrow\mathbb{N}$, $\gamma\in{}WM(sitpn,d)$,
  $\Delta\in{}ElDesign$, $\sigma_e\in\Sigma(\Delta)$ s.t.
  \begin{itemize}
  \item $\lfloor{}sitpn\rfloor_b=(d,\gamma)$ and
    $\lceil{}sitpn\rceil^b$ and
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$
  \end{itemize}
  \noindent{}then there exists a design state
  $\sigma_0\in\Sigma(\Delta)$ s.t. $\sigma_0$ is the initial
  simulation state:
  $\mathcal{D}_\mathcal{H},\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0$.
\end{thm}

\begin{thm}[Trace existence]
  \label{thm:sim-ex}
  For all well-defined $sitpn\in{}SITPN$, $d\in{}design$,
  $b\in{}P\rightarrow\mathbb{N}$, $\gamma\in{}WM(sitpn,d)$,
  $\Delta\in{}ElDesign$, $\sigma_e,\sigma_0\in\Sigma$ s.t.
  \begin{itemize}
  \item $\lfloor{}sitpn\rfloor_b=(d,\gamma)$ and
    $\lceil{}sitpn\rceil^b$ and
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$
    and
    $\mathcal{D}_\mathcal{H},\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0$
  \end{itemize}
  
  \noindent{}then there exists a simulation trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ such that for all simulation
  environment
  $E_p\in{}\mathbb{N}\rightarrow{}Ins(\Delta)\rightarrow{}value$ and
  simulation cycle count $\tau\in\mathbb{N}$, design $d$ yields the
  simulation trace $\theta_\sigma$ after
  $\tau$ simulation cycles, starting from initial state $\sigma_0$:\\
  $\mathcal{D}_\mathcal{H},E_p,\Delta,\tau,\sigma_0\vdash{}\mathrm{d.cs}\rightarrow\theta_\sigma$
\end{thm}

\section{Trace similarity theorem}
\label{sec:trace-sim-thms}

\begin{definition}[HM2T hypotheses]
  \label{def:hm2t-hyps}
  For all well-defined $sitpn\in{}SITPN$, bounding function
  $b\in{}P\rightarrow\mathbb{N}$, \hvhdl{} design $d\in{}design$,
  binder $\gamma\in{}WM(sitpn,d)$, elaborated design
  $\Delta\in{}ElDesign$, default state $\sigma_e\in\Sigma$, simulation
  environment $E_p\in\mathbb{N}\rightarrow{}(id\nrightarrow{}v)$, and
  execution environment
  $E_c\in\mathbb{N}\rightarrow(\mathcal{C}\rightarrow\mathbb{B})$,
  assume that:
  \begin{enumerate}
  \item\label{it:HM2T-some} Taking the SITPN model $sitpn$ and the
    bounding function $b$ as inputs, the HM2T returns an output design
    $d$ and a binder $\gamma$, written
    $\mathtt{sitpn2hvhdl}(sitpn, b)=\lfloor(d,\gamma)\rfloor$ where
    $\mathtt{sitpn2hvhdl}\in{}SITPN\rightarrow(P\rightarrow\mathbb{N})\nrightarrow(design\times{}WM(sitpn,d))$.
  \item\label{it:sitpn-is-bounded} $sitpn$ is bounded through $b$,
    written $\lceil{}sitpn\rceil^b$.
  \item In the context of the \hilecop{} design store
    $\mathcal{D}_\mathcal{H}$ and with an empty generic constant
    dimensioning function ($\emptyset$), $d$ is elaborated into
    $\Delta$ with a default state $\sigma_e$, written
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\xrightarrow{elab}\Delta,\sigma_e$.
  \item\label{it:env-are-sim} Simulation and execution environments
    are similar, written $\gamma\vdash{}E_p\stackrel{env}{=}E_c$.
  \end{enumerate}
  
\end{definition}

\def\hm2thyps{well-defined $sitpn\in{}SITPN$,
  $b\in{}P\rightarrow\mathbb{N}$, $d\in{}design$,
  $\gamma\in{}WM(sitpn,d)$, $\Delta\in{}ElDesign,\sigma_{e}\in\Sigma$,
  $E_p\in\mathbb{N}\rightarrow{}(id\nrightarrow{}v)$, and
  $E_c\in\mathbb{N}\rightarrow(\mathcal{C}\rightarrow\mathbb{B})$ that
  verify the hypotheses of Definition~\ref{def:hm2t-hyps}}

\begin{thm}[Full trace similarity]
  \label{thm:full-trace-sim}
  For all well-defined $sitpn\in{}SITPN$, bounding function
  $b\in{}P\rightarrow\mathbb{N}$, \hvhdl{} design $d\in{}design$,
  binder $\gamma\in{}WM(sitpn,d)$, default state $\sigma_e\in\Sigma$,
  simulation environment
  $E_p\in\mathbb{N}\rightarrow{}(id\nrightarrow{}v)$, execution
  environment
  $E_c\in\mathbb{N}\rightarrow(\mathcal{C}\rightarrow\mathbb{B})$,
  $\tau\in\mathbb{N}$, SITPN model trace
  $\theta_s\in\mathtt{list}(S(sitpn))$, and \hvhdl{} design trace
  $\theta_\sigma\in\mathtt{list}(\Sigma)$ such that:
  \begin{enumerate}
  \item $\mathtt{sitpn2hvhdl}(sitpn, b)=\lfloor(d,\gamma)\rfloor$
  \item $\lceil{}sitpn\rceil^b$
  \item $\gamma\vdash{}E_p\stackrel{env}{=}E_c$
  \item $E_c,\tau\vdash{}sitpn\xrightarrow{full}\theta_s$
  \item
    $\mathcal{D}_\mathcal{H},\emptyset,E_p,\tau\vdash{}d\xrightarrow{full}\theta_\sigma$
  \end{enumerate}
  then $\gamma\vdash\theta_s\sim\theta_\sigma$.
\end{thm}

\begin{niproof}
  
  Proceeding by case analysis on the number of clock cycles $\tau$,
  there are two cases. First $\tau=0$, and then we must prove that the
  initial states are similar, which is true appealing to
  Lemma~\ref{lem:sim-init-states}. Otherwise, $\tau>0$ and then at
  least the first clock cycle is executed. Thanks to
  Lemmas~\ref{lem:fst-re-lock-step} and \ref{lem:fe-lock-step}, we can
  show that the states are similar during the first clock cycle. Then,
  we can reason by induction over $\tau$ to prove that the remnant of
  the execution traces are similar. We can appeal to
  Lemmas~\ref{lem:re-lock-step} and \ref{lem:fe-lock-step} to prove
  that states are similar during the induction step (corresponding to
  an arbitrary clock cycle step), and then use the induction
  hypothesis to complete the proof.

\end{niproof}

\section{Similar initial states}
\label{sec:sim-init-states}

\begin{lemma}[Similar initial states]
  \label{lem:sim-init-states}
  For all \hm2thyps{}, and for all $\sigma_0,\sigma_i\in{}\Sigma$ such that:
  \begin{itemize}
  \item $\sigma_0$ is the initial state of design $d$:\\
    $\mathcal{D},\Delta,\sigma_e\vdash{}d.beh\xrightarrow{cs_i}{}\sigma_i$ and
    $\mathcal{D},\Delta,\sigma_i\vdash{}d.beh\xrightarrow{\rightsquigarrow}{}\sigma_0$
  \end{itemize}
  then $\gamma\vdash{}s_0\approx\sigma_0$.
\end{lemma}

\begin{niproof}
  By definition of the \nameref{def:state-sim} relation, there are 6
  points to prove.
  \begin{frameb}
    \begin{enumerate}
    \item\label{item:init-sim-mark} $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
      $~s_0.M(p)=\sigma_0(id_p)(\texttt{s\_marking})$.
    \item\label{item:init-sim-tc}
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $\big(u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})\big)$.
    \item\label{item:init-sim-reset}
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $s_0.reset_t(t)=\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})$.
    \item\label{item:init-sim-cond}
      $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s_0.cond(c)=\sigma_0(id_c)$.
    \item\label{item:init-sim-act}
      $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s_0.ex(a)=\sigma_0(id_a)$.
    \item\label{item:init-sim-fun}
      $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s_0.ex(f)=\sigma_0(id_f)$.
    \end{enumerate}
  \end{frameb}

  \begin{itemize}
  \item Apply the \nameref{lem:init-states-eq-marking} lemma to solve \ref{item:init-sim-mark}.
  \item Apply the \nameref{lem:init-states-eq-tc} lemma to solve \ref{item:init-sim-tc}.
  \item Apply the \nameref{lem:init-states-eq-rorders} lemma to solve \ref{item:init-sim-reset}.
  \item Apply the \nameref{lem:init-states-cond-vals} lemma to solve \ref{item:init-sim-cond}.
  \item Apply the \nameref{lem:init-states-act-exec} lemma to solve \ref{item:init-sim-act}.
  \item Apply the \nameref{lem:init-states-fun-exec} lemma to solve \ref{item:init-sim-fun}.
  \end{itemize}
\end{niproof}

\begin{definition}[Initial state hypotheses]
  \label{def:init-states-hyps}
  Given an $sitpn\in{}SITPN$, $b\in{}P\rightarrow\mathbb{N}$,
  $d\in{}design$, $\gamma\in{}WM(sitpn,$ $d)$,
  $\Delta\in{}ElDesign,\sigma_{e},\sigma_0\in{}\Sigma$, assume that:
  \begin{itemize}
  \item SITPN $sitpn$ is transformed into the design $d$ and yields
    the binder $\gamma$: $\lfloor{}sitpn\rfloor_b=(d,\gamma)$
  \item $\Delta$ is the elaborated version of $d$, $\sigma_e$ is the
    default state of $\Delta$, i.e. the state of $\Delta$ where all signals are initialized to their default value:\\
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$
    
  \item $\sigma_0$ is the initial state of $\Delta$: 
    $\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0$
  \end{itemize}
\end{definition}

\def\inithyps{For all $sitpn\in{}SITPN$,
  $b\in{}P\rightarrow\mathbb{N}$, $d\in{}design$,
  $\gamma\in{}WM(sitpn,d)$,
  $\Delta\in{}ElDesign,\sigma_{e},\sigma_0\in{}\Sigma$ that verify the
  hypotheses of Definition~\ref{def:init-states-hyps},}

\subsection{Initial states and marking}
\label{sec:init-states-marking}

\begin{lemma}[Initial states equal marking]
  \label{lem:init-states-eq-marking}
  \inithyps{} then
  $\forall{}p\in{}P,id_p\in{}Comps(\Delta)$ s.t. $\gamma(p)=id_p$,
  $~s_0.M(p)=\sigma_0(id_p)(\texttt{s\_marking})$.
\end{lemma}

\begin{niproof}
  Given a $p\in{}P$ and an $id_p\in{}Comps(\Delta)$
  s.t. $\gamma(p)=id_p$, let us show that\\
  \framebox{$s_0.M(p)=\sigma_0(id_p)(\texttt{s\_marking})$.}

  \exP{}
  
  By property of the \hvhdl{} initialization relation, \InCsCompP{},
  and through the examination of the \texttt{marking} process defined
  in the place design architecture, we can deduce
  $\sigma_0(id_p)(\texttt{s\_marking})=\sigma_0(id_p)(\texttt{initial\_marking})$.

  Rewriting $\sigma_0(id_p)(\texttt{sm})$ as
  $\sigma_0(id_p)(\texttt{initial\_marking})$,\\
  \framebox{$\sigma_0(id_p)(\texttt{initial\_marking})=s_0.M(p)$.}
  
  By construction,
  ${<}\mathtt{initial\_marking\Rightarrow}M_0(p){>}\in{}i_p$.

  By property of the \hvhdl{} initialization relation, and \InCsCompP,
  then $\sigma_0(id_p)(\texttt{initial\_marking})=M_0(p)$.  Rewriting
  $\sigma_0(id_p)(\texttt{initial\_marking})$ as $M_0(p)$ in the current
  goal: \framebox{$M_0(p)=s_0.M(p)$.}
  
  By definition of $s_0$, we can rewrite $s_0.M(p)$ as $M_0(p)$ in the
  current goal, \qedbox{tautology.}
  
\end{niproof}

\begin{lemma}[Null input token sum at initial state]
  \label{lem:init-states-sits-zero}
  \inithyps{} then
  $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p$,
  $\sigma_0(id_p)(\texttt{s\_input\_token\_sum})=0$.
\end{lemma}

\begin{niproof}
  Given a $p$ and an $id_p$ s.t. $\gamma(p)=id_p$, let us show that
  \fbox{$\sigma_0(id_p)(\texttt{s\_input\_token\_sum})=0$.}

  \exP{}
  
  By property of the initialization relation, \InCsCompP{}, and
  through the examination of the \texttt{input\_tokens\_sum} process
  defined in the place design architecture, we can deduce:
  \begin{equation}
    \label{eq:sits-at-init-state}
    \sigma_0(id_p)(\texttt{sits})=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}
    \begin{cases}
      \sigma_0(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[i]\\
      0~otherwise \\
    \end{cases}
  \end{equation}
  
  Rewriting the goal with Equation~\eqref{eq:sits-at-init-state}:\\
  \fbox{$\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}\begin{cases}
      \sigma_0(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[i]\\
      0~otherwise \\
    \end{cases}=0$.}

  \noindent{}Let us perform case analysis on $input(p)$; there are two cases:

  \begin{enumerate}
  \item $input(p)=\emptyset$:
    
    By construction, we have
    ${<}$\texttt{input\_arcs\_number}$\Rightarrow{}1{>}\in{}g_p$,\\
    ${<}$\texttt{input\_transitions\_fired(0)}$\Rightarrow{}\mathtt{true}{>}\in{}i_p$,\\
    and
    ${<}\texttt{input\_arcs\_weights(0)}\Rightarrow{}0{>}\in{}i_p$.

  By property of the elaboration relation, \InCsCompP{}, and
  ${<}$\texttt{input\_arcs\_number}$\Rightarrow{}1{>}\in{}g_p$, we
  can deduce $\Delta(id_p)(\texttt{ian})=1$.

  By property of the initialization relation, \InCsCompP,
  ${<}$\texttt{input\_transitions\_fired(0)}$\Rightarrow{}\mathtt{true}{>}\in{}i_p$
  and
  ${<}\mathtt{input\_arcs\_weights(0)\Rightarrow{}0}{>}\in{}i_p$, we
  can deduce $\sigma_0(id_p)(\texttt{itf})[0]=\mathtt{true}$ and
  $\sigma_0(id_p)(\texttt{iaw})[0]=0$.

  Rewriting the goal with $\Delta(id_p)(\texttt{ian})=1$,
  $\sigma_0(id_p)(\texttt{itf})[0]=\mathtt{true}$,
  $\sigma_0(id_p)(\texttt{iaw})[0]=0$ and simplifying the goal,
  \qedbox{tautology.}
  
\item $input(p)\neq\emptyset$:

  By construction,
  ${<}\texttt{input\_arcs\_number}\Rightarrow{}\vert{}input(p)\vert{>}\in{}g_p$,
  and by property of the elaboration relation, and \InCsCompP{}, we
  can deduce $\Delta(id_p)(\texttt{ian})=\vert{}input(p)\vert$.
  
  Let us reason by induction on the sum term of the goal.

  \begin{itemize}
  \item \textbf{BASE CASE}: The sum term equals 0, then \qedbox{tautology.}

  \item \textbf{INDUCTION CASE}:
    \begin{ih}
      $\sum\limits_{i=1}^{\Delta(id_p)(\texttt{ian})-1}\begin{cases}
        \sigma_0(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[i]\\
        0~otherwise \\
      \end{cases}=0$
    \end{ih}

    \begin{frameb}
      \begin{tabular}{c}
        $\begin{cases}
          \sigma_0(id_p)(\texttt{iaw})[0]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[0]\\
          0~otherwise \\
        \end{cases}$ \\
        $+$ \\
        $\sum\limits_{i=1}^{\Delta(id_p)(\texttt{ian})-1}\begin{cases}
        \sigma_0(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[i]\\
        0~otherwise \\
      \end{cases}=0$
      \end{tabular}
    \end{frameb}

    Using the induction hypothesis to rewrite the goal:\\
    \fbox{$\begin{cases}
        \sigma_0(id_p)(\texttt{iaw})[0]~\mathtt{if}~\sigma_0(id_p)(\texttt{itf})[0]\\
        0~otherwise \\
      \end{cases}=0$}
    
    Since $input(p)\neq\emptyset$, by construction, there exist an
    $id_t\in{}Comps(\Delta),g_t,i_t,o_t$ s.t. \InCsCompT{},
    $id_{ft}\in{}Sigs(\Delta)$ s.t.
    ${<}\mathtt{fired\Rightarrow}id_{ft}{>}\in{}o_t$ and\\
    ${<}\mathtt{input\_transitions\_fired(0)\Rightarrow{}id_{ft}}{>}\in{}i_p$.

    By property of the initialization relation, \InCsCompP{},
    \InCsCompT{}, ${<}\mathtt{fired\Rightarrow}id_{ft}{>}\in{}o_t$
    and
    ${<}$\texttt{input\_transitions\_fired(0)}$\Rightarrow{}\mathtt{id_{ft}}{>}\in{}i_p$,
    we can deduce $\sigma_0(id_p)(\texttt{itf})[0]=\sigma_0(id_t)(\texttt{fired})$.

    Rewriting the goal with $\sigma_0(id_p)(\texttt{itf})[0]=\sigma_0(id_t)(\texttt{fired})$:\\
    \fbox{$\begin{cases}
        \sigma_0(id_p)(\texttt{iaw})[0]~\mathtt{if}~\sigma_0(id_t)(\texttt{fired})\\
        0~otherwise \\
      \end{cases}=0$}

    Appealing to Lemma~\ref{lem:init-states-fired-false}, we can
    deduce $\sigma_0(id_t)(\texttt{fired})=\mathtt{false}$.

    Rewriting the goal with $\sigma_0(id_t)(\texttt{fired})=\mathtt{false}$,
    and simplifying the goal, \qedbox{tautology.}
  \end{itemize}
\end{enumerate}
  
\end{niproof}

\begin{lemma}[Null output token sum at initial state]
  \label{lem:init-states-sots-zero}
  \inithyps{} then
  $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p$,
  $\sigma_0(id_p)(\texttt{s\_output\_token\_sum})=0$.
\end{lemma}

\begin{niproof}
  The proof is similar to the proof of
  Lemma~\ref{lem:init-states-sits-zero}.
\end{niproof}

\subsection{Initial states and time counters}
\label{sec:init-states-tc}

\begin{lemma}[Initial states equal time counters]
  \label{lem:init-states-eq-tc}
  \inithyps{} then
  $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)$ s.t. $\gamma(t)=id_t$,\\
  $u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})\land{}$\\
  $u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\land{}$\\
  $u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\land{}$\\
  $u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show that:
  \begin{enumerate}
  \item \framebox{$u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})$}
  \item \framebox{$u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=l(I_s(t))$}
  \item \framebox{$u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma_0(id_t)(\texttt{s\_time\_counter})=u(I_s(t))$}
  \item \framebox{$u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})$}
  \end{enumerate}

  \exP

  Then, let us show the 4 previous points.
  
  \begin{enumerate}
  \item Assuming that $u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))$, then let us show\\
    \framebox{${}s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})$.}
    
    Rewriting $s_0.I(t)$ as $0$, by definition of $s_0$,
    \framebox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=0$.}

    \noindent By property of the \hvhdl{} initialization relation,
    \InCsCompT, and through the examination of the
    \texttt{time\_counter} process defined in the transition design
    architecture, we can deduce
    \qedbox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=0$.}
    
  \item Assuming that $u(I_s(t))=\infty$ and
    $s_0.I(t)>{}l(I_s(t))$, let us show\\
    \framebox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=l(I_s(t))$}.

    By definition, $l(I_s(t))\in\mathbb{N}^{*}$ and
    $s_0.I(t)=0$. Then, \qedbox{$l(I_s(t)){}<0$ is a
      contradiction.}
    
  \item Assuming that $u(I_s(t))\neq\infty$ and
    $s_0.I(t)>{}u(I_s(t))$, let us show\\
    \framebox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=u(I_s(t))$}.

    By definition, $u(I_s(t))\in\mathbb{N}^{*}$ and
    $s_0.I(t)=0$. Then, \qedbox{$u(I_s(t)){}<0$ is a
      contradiction.}
    
  \item Assuming that $u(I_s(t))\neq\infty$ and
    $s_0.I(t)\le{}u(I_s(t))$, let us
    show\\ \framebox{$s_0.I(t)=\sigma_0(id_t)(\texttt{s\_time\_counter})$}.
 
    Rewriting $s_0.I(t)$ as $0$, by definition of $s_0$,
    \framebox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=0$.}

    By property of the \hvhdl{} initialization relation, \InCsCompT,
    and through the examination of the \texttt{time\_counter} process
    defined in the transition design architecture, we can deduce
    \qedbox{$\sigma_0(id_t)(\texttt{s\_time\_counter})=0$.}
  \end{enumerate}
\end{niproof}

\subsection{Initial states and reset orders}
\label{sec:init-states-rorders}

\begin{lemma}[Initial states equal reset orders]
  \label{lem:init-states-eq-rorders}
  \inithyps{} then $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$,
  $s_0.reset_t(t)=\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$ s.t.
  $\gamma(t)=id_t$, let us show
  that\\
  \framebox{$s_0.reset_t(t)=\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})$.}
  
  Rewriting $s_0.reset_t(t)$ as $\mathtt{false}$, by definition of
  $s_0$,
  \fbox{$\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})=\mathtt{false}$.}
  
  \exT{}
  
  \noindent By property of the \hvhdl{} initialization relation,
  \InCsCompT, and through the examination of the \texttt{reinit\_time\_counter\_evaluation} process defined in the \texttt{transition} design architecture\\
  we can deduce
  $\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})=\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma_0(id_t)(\texttt{rt})[i]$.

  Rewriting
  $\sigma_0(id_t)(\texttt{s\_reinit\_time\_counter})$ as $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma_0(id_t)(\texttt{rt})[i]$,\\
  \fbox{$\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma_0(id_t)(\texttt{rt})[i]=\mathtt{false}$.}
  
  For all $t\in{}T$ (resp. $p\in{}P$), let $input(t)$
  (resp. $input(p)$) be the set of input places of $t$ (resp. input
  transitions of $p$), and let $output(t)$ (resp. $output(p)$) be the
  set of output places of $t$ (resp. output transitions of $p$).

  Let us perform case analysis on $input(t)$; there are 2 cases:

  \begin{itemize}
  \item \textbf{CASE} $input(t)=\emptyset$.

    By construction,
    ${<}\mathtt{input\_arcs\_number\Rightarrow}1{>}\in{}g_t$, and by
    property of the elaboration relation, and \InCsCompT{}, we can
    deduce $\Delta(id_t)(\texttt{ian})=1$.

    By construction, $<\mathtt{reinit\_time(0)\Rightarrow{}false}>\in{}i_t$, and
    by property of the initialization relation and \InCsCompT, we can
    deduce $\sigma_0(id_t)(\texttt{rt})[0]=\mathtt{false}$.

    Rewriting $\Delta(id_t)(\texttt{ian})$ as $1$ and
    $\sigma_0(id_t)(\texttt{rt})[0]$ as $\mathtt{false}$, \qedbox{tautology.}
    
  \item \textbf{CASE} $input(t)\neq\emptyset$.

    To prove the current goal, we can equivalently prove that\\
    \fbox{$\exists{}i\in[0,\Delta(id_t)(\texttt{ian})-1]~s.t.~\sigma_0(id_t)(\texttt{rt})[i]=\mathtt{false}$.}

    Since $input(t)\neq\emptyset,~\exists{}p~s.t.~p\in{}input(t)$. Let
    us take such a $p\in{}input(t)$.
    
    By construction, for all $p\in{}P$, there exist
    $id_p~s.t.~\gamma(p)=id_p$.

    \exP{}

    \noindent{}By construction, there exist
    $i\in[0,\vert{}input(t)\vert{}-1]$,
    $j\in[0,\vert{}output(p)\vert{}-1]$, $id_{ji}\in{}Sigs(\Delta)$
    s.t.
    ${<}\mathtt{reinit\_transitions\_time(j)\Rightarrow}id_{ji}{>}\in{}o_p$
    and
    ${<}\mathtt{reinit\_time(i)\Rightarrow}id_{ji}{>}\in{}i_t$. Let us take such a $i$, $j$ and $id_{ji}$.

    By construction and $input(t)\neq\emptyset$,
    ${<}\mathtt{input\_arcs\_number\Rightarrow}\vert{}input(t)\vert{}{>}\in{}g_t$.

    By property of the \hvhdl{} elaboration relation and
    ${<}\mathtt{input\_arcs\_number\Rightarrow}\vert{}input(t)\vert{}{>}\in{}g_t$,
    we can deduce $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$.

    Since $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$ and we have an
    $i\in[0,\vert{}input(t)\vert-1]$, then, we have an
    $i\in[0, \Delta(id_t)(\texttt{ian})-1]$. Let us take that i to
    prove the goal.

    Then, we must show \framebox{$\sigma_0(id_t)(\texttt{rt})[i]=\mathtt{false}$.}

    By property of the \hvhdl{} initialization relation and
    ${<}\mathtt{reinit\_time(i)\Rightarrow}id_{ji}{>}\in{}i_t$, we can
    deduce $\sigma_0(id_t)(\texttt{rt})[i]=\sigma_0(id_{ji})$.

    Rewriting $\sigma_0(id_t)(\texttt{rt})[i]$ as $\sigma_0(id_{ji})$,
    \framebox{$\sigma_0(id_{ji})=\mathtt{false}$.}

    By property of the \hvhdl{} initialization relation and\\
    ${<}\mathtt{reinit\_transitions\_time(j)\Rightarrow}id_{ji}{>}\in{}o_p$,
    we can deduce
    $\sigma_0(id_{ji})=\sigma_0(id_p)(\texttt{rtt})[j]$.

    Rewriting $\sigma_0(id_{ji})$ as
    $\sigma_0(id_p)(\texttt{rtt})[j]$,
    \framebox{$\sigma_0(id_p)(\texttt{rtt})[j]=\mathtt{false}$.}

    Since $t\in{}output(p)$, then we know that
    $output(p)\neq\emptyset$.

    Then, by construction,
    ${<}\mathtt{output\_arcs\_number\Rightarrow}\vert{}output(p)\vert{>}\in{}g_p$.

    By property of the elaboration relation and
    ${<}\mathtt{output\_arcs\_number}\Rightarrow\vert{}output(p)\vert{>}\in{}g_p$,
    we can deduce that $\Delta(id_p)(\texttt{oan})=\vert{}output(p)\vert$.

    Since $\Delta(id_p)(\texttt{oan})=\vert{}output(p)\vert$ and
    $j\in[0,\vert{}output(p)\vert-1]$, then
    $j\in[0,\Delta(id_p)(\texttt{oan})-1]$.
    
    By property of the \hvhdl{} initialization relation, \InCsCompP,
    through the examination of the
    \texttt{reinit\_transitions\_time\_evaluation} process defined in
    the \texttt{place} design architecture, and since
    $j\in[0,\Delta(id_p)(\texttt{oan})-1]$,
    \qedbox{$\sigma_0(id_p)(\texttt{rtt})[j]=\mathtt{false}$.}

  \end{itemize}
  
\end{niproof}

\subsection{Initial states and condition values}
\label{sec:init-states-cond-vals}

\begin{lemma}[Initial states equal condition values]
  \label{lem:init-states-cond-vals}
  \inithyps{} 
  then
  $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s_0.cond(c)=\sigma_0(id_c)$.
\end{lemma}

\begin{niproof}
  Given a $c\in\mathcal{C}$ and an
  $id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c$, let us show that
  \fbox{$s_0.cond(c)=\sigma_0(id_c)$.}\\

  Rewriting $s_0.cond(c)$ as $\mathtt{false}$, by definition of $s_0$,
  \fbox{$\sigma_0(id_c)=\mathtt{false}$.}

  By construction, $id_c$ is an input port identifier of Boolean type
  in the \hvhdl{} design $d$, and thus, by property of the \hvhdl{}
  elaboration relation, we can deduce $\sigma_e(id_c)=\mathtt{false}$.

  By property of the \hvhdl{} initialization relation and
  $id_c\in{}Ins(\Delta)$, we can deduce
  $\sigma_e(id_c)=\sigma_0(id_c)$.

  Rewriting $\sigma_0(id_c)$ as $\sigma_e(id_c)$ and $\sigma_e(id_c)$
  as $\mathtt{false}$, \qedbox{tautology.}
  
\end{niproof}

\subsection{Initial states and action executions}
\label{sec:init-states-act-exec}

\begin{lemma}[Initial states equal action executions]
  \label{lem:init-states-act-exec}
  \inithyps{} 
  then
  $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s_0.ex(a)=\sigma_0(id_a)$.
\end{lemma}

\begin{niproof}
  Given a $a\in\mathcal{A}$ and an
  $id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a$, let us show that
  \fbox{$s_0.ex(a)=\sigma_0(id_a)$.}\\

  Rewriting $s_0.ex(a)$ as $\mathtt{false}$, by definition of $s_0$,
  \fbox{$\sigma_0(id_a)=\mathtt{false}$.}

  By construction, $id_a$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$. Moreover, we know that the output port
  identifier $id_a$ is assigned to $\mathtt{false}$ in the generated
  \texttt{action} process during the initialization phase (i.e. the
  assignment is a part of a \emph{reset} block). Thus, we can deduce
  that $\sigma_0(id_a)=\mathtt{false}$.
  
  Rewriting $\sigma_0(id_a)$ as $\mathtt{false}$, \qedbox{tautology.}
  
\end{niproof}

\subsection{Initial states and function executions}
\label{sec:init-states-fun-exec}

\begin{lemma}[Initial states equal function executions]
  \label{lem:init-states-fun-exec}
  \inithyps{} 
  then
  $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s_0.ex(f)=\sigma_0(id_f)$.
\end{lemma}

\begin{niproof}
  Given a $f\in\mathcal{F}$ and an
  $id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f$, let us show that
  \fbox{$s_0.ex(f)=\sigma_0(id_f)$.}\\

  Rewriting $s_0.ex(f)$ as $\mathtt{false}$, by definition of $s_0$,
  \fbox{$\sigma_0(id_f)=\mathtt{false}$.}

  By construction, $id_f$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$, and thus, by property of the \hvhdl{}
  elaboration relation, we can deduce $\sigma_e(id_f)=\mathtt{false}$.

  By construction, and by property of the initialization relation, we
  know that the output port identifier $id_f$ is assigned to
  \texttt{false} in the generated \texttt{function} process during the
  initialization phase (i.e. the assignment is a part of a
  \emph{reset} block). Thus, we can deduce
  $\sigma_0(id_f)=\mathtt{false}$.
  
  \noindent{}Rewriting $\sigma_0(id_f)$ as $\mathtt{false}$,
  \qedbox{tautology.}
  
\end{niproof}

\subsection{Initial states and fired transitions}
\label{sec:init-states-fired-false}

\begin{lemma}[No fired at initial state]
  \label{lem:init-states-fired-false}
  $\forall{}d\in{}design,\Delta\in{}ElDesign,\sigma_e,\sigma_0\in\Sigma,id_t\in{}Comps(\Delta),$
  $g_t,$ $i_t,$ $o_t$ s.t. :
  \begin{itemize}
  \item $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d.cs\xrightarrow{elab}\sigma_0$
  \item $\Delta,\sigma_e\vdash{}d.cs\xrightarrow{init}\sigma_0$
  \item $\mathtt{comp}(id_t$, $\texttt{transition}$, $g_t$, $i_t$,
    $o_t)\in{}d.cs$
  \end{itemize}
  then $\sigma_0(id_t)(\texttt{fired})=\mathtt{false}$.
\end{lemma}

\begin{niproof}
  Assuming all the above hypotheses, let us show
  \fbox{$\sigma_0(id_t)(\texttt{fired})=\mathtt{false}$.}

  By property of the initialization relation, \InCsCompT, and through
  the examination of the \texttt{fired\_evaluation} process defined in
  the transition design architecture, we can deduce:
  \begin{equation}
    \label{eq:fired-at-init-state}
    \sigma_0(id_t)(\texttt{fired})=\sigma_0(id_t)(\texttt{s\_firable})~.~\sigma_0(id_t)(\texttt{s\_priority\_combination})
  \end{equation}

  Rewriting the goal with Equation~\eqref{eq:fired-at-init-state}:
  \fbox{$\sigma_0(id_t)(\texttt{sfa})~.~\sigma_0(id_t)(\texttt{spc})=\mathtt{false}$.}
  
  By property of the initialization relation, \InCsCompT, and through
  the examination of the \texttt{firable} process defined in the
  \texttt{transition} design architecture, we can deduce
  $\sigma_0(id_t)(\texttt{sfa})=\mathtt{false}$.

  Rewriting the goal with $\sigma_0(id_t)(\texttt{sfa})=\mathtt{false}$ and
  simplifying the goal, \qedbox{tautology.}
\end{niproof}

\section{First rising edge lock-step simulation}
\label{sec:fre-lock-step}

\begin{lemma}[First rising edge lock-step simulation]
  \label{lem:fst-re-lock-step}
  For all \hm2thyps{}, and for all clock count $\tau\in\mathbb{N}$,
  $\sigma_0,\sigma_i,\sigma_{\uparrow},\sigma'_0\in{}\Sigma$ such that:
  \begin{itemize}
  \item $\sigma_0$ is the initial state of design $d$:\\
    $\mathcal{D},\Delta,\sigma_e\vdash{}d.beh\xrightarrow{cs_i}{}\sigma_i$ and
    $\mathcal{D},\Delta,\sigma_i\vdash{}d.beh\xrightarrow{\rightsquigarrow}{}\sigma_0$
    
  \item a rising edge step leads from $\sigma_0$ to $\sigma'_0$:\\
    $\mathcal{D}_\mathcal{H},\Delta,\mathtt{inj}(\sigma_0,E_p,\tau)\vdash{}d.beh\xrightarrow{cs_{\uparrow}}\sigma_{\uparrow}$
    and
    $\mathcal{D}_\mathcal{H},\Delta,\sigma_{\uparrow}\vdash{}d.beh\xrightarrow{\rightsquigarrow}\sigma'_0$
  \end{itemize}
  then $\gamma\vdash{}s_0\stackrel{\uparrow}{\approx}\sigma'_0$.
\end{lemma}

\begin{niproof}
  By definition of the \nameref{def:full-post-re-state-sim} relation,
  there are 8 points to prove.
  \begin{frameb}
    \begin{enumerate}
    \item
      $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,~s_0.M(p)=\sigma(id_p)(\texttt{s\_marking})$.
      \label{item:fst-re-marking-eq}
    \item
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $\big(u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\big)$.
      \label{item:fst-re-tc-eq}
    \item
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $s_0.reset_t(t)=\sigma(id_t)(\texttt{s\_reinit\_time\_counter})$.
      \label{item:fst-re-reset-eq}
    \item
      $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s_0.ex(a)=\sigma(id_a)$.
      \label{item:fst-re-action-eq}
    \item
      $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s_0.ex(f)=\sigma(id_f)$.
      \label{item:fst-re-fun-eq}
    \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $t\in{}Sens(s_0.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{true}$.
      \label{item:fst-re-sens-eq}
    \item $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $t\notin{}Sens(s_0.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{false}$.
      \label{item:fst-re-sens-neq}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $\sigma(id_t)(\texttt{s\_condition\_combination})=
      \prod\limits_{c\in{}conds(t)}
      \begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}$\\
      where
      $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.
      \label{item:fst-re-cond-comb-eq}
    \item $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)$
      s.t. $\gamma(c)=id_c$, $\sigma(id_c)=E_c(\tau,c)$.\label{item:fst-re-cond-eq}
    \end{enumerate}
  \end{frameb}

  \begin{itemize}
  \item Apply the \nameref{lem:fst-re-equal-marking} lemma to solve \ref{item:fst-re-marking-eq}.
  \item Apply the \nameref{lem:fst-re-equal-tc} lemma to solve \ref{item:fst-re-tc-eq}.
  \item Apply the \nameref{lem:fst-re-equal-reset-orders} lemma to solve \ref{item:fst-re-reset-eq}.
  \item Apply the \nameref{lem:fst-re-equal-action-ex} lemma to solve
    \ref{item:fst-re-action-eq}.
  \item Apply the \nameref{lem:fst-re-equal-fun-ex} lemma to solve
    \ref{item:fst-re-fun-eq}.
  \item Apply the \nameref{lem:fst-re-equal-sens} lemma to solve
    \ref{item:fst-re-sens-eq}.
  \item Apply the \nameref{lem:fst-re-neq-sens} lemma to solve
    \ref{item:fst-re-sens-neq}.
  \item Apply the \nameref{lem:fst-re-equal-cond-comb} lemma to solve
    \ref{item:fst-re-cond-comb-eq}.
  \item Apply the \nameref{lem:fst-re-equal-cond} lemma to solve
    \ref{item:fst-re-cond-eq}.
  \end{itemize}
  
\end{niproof}

\begin{definition}[First rising edge hypotheses]
  \label{def:fst-re-hyps}
  Given a $sitpn\in{}SITPN,$ $b\in{}P\rightarrow\mathbb{N}$, $d\in{}design,$
  $\gamma\in{}WM(sitpn,d),$ $\Delta\in{}ElDesign,$
  $\sigma_{e},\sigma_0,\sigma_i,\sigma_{\uparrow},\sigma\in{}\Sigma$,
  $E_c\in{}\mathbb{N}\rightarrow{}\mathcal{C}\rightarrow{}\mathbb{B}$,\\
  $E_p\in\mathbb{N}\times{}\{\uparrow,\downarrow\})\rightarrow{}Ins(\Delta)\rightarrow{}value$,
  $\tau\in\mathbb{N}$, assume that:
  \begin{itemize}
  \item $\lfloor{}sitpn\rfloor_b=(d,\gamma)$ and
    $\mathcal{D}_\mathcal{H},\emptyset\vdash{}d\srarrow{elab}{\fontsize{6}{8}\selectfont}(\Delta,\sigma_{e})$
    and $\gamma\vdash{}E_p\stackrel{env}{=}E_c$
  \item $\sigma_0$ is the initial state of $\Delta$: 
    $\Delta,\sigma_{e}\vdash{}d.cs\srarrow{init}{\fontsize{6}{8}\selectfont}\sigma_0$
  \item $E_c,\tau\vdash{}s_0\srarrow{\uparrow_0}{\fontsize{6}{8}\selectfont}s_0$
  \item $\mathtt{Inject}(\sigma_0, E_p, \tau, \sigma_i)$
    and
    $\Delta,\sigma_i\vdash\mathrm{d.cs}\xrightarrow{\uparrow}\sigma_{\uparrow}$
    and
    $\Delta,\sigma_{\uparrow}\vdash\mathrm{d.cs}\xrightarrow{\theta}\sigma$
  \end{itemize}
  
\end{definition}

\def\fstrehyps{For all $sitpn,b,d,\gamma,\Delta,$
  $\sigma_{e},\sigma_0,\sigma_i,\sigma_{\uparrow},\sigma$, $E_c$,
  $E_p$, $\tau$ that verify the hypotheses of
  Definition~\ref{def:fst-re-hyps},}

\subsection{First rising edge and marking}
\label{sec:fst-re-marking}

\begin{lemma}[First rising edge equal marking]
  \label{lem:fst-re-equal-marking}
  \fstrehyps{} then
  $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p$,
  $~s_0.M(p)=\sigma(id_p)(\texttt{s\_marking})$.
\end{lemma}

\begin{niproof}
  Given a $p$ and an $id_p$ s.t. $\gamma(p)=id_p$, let us show that
  \fbox{$~s_0.M(p)=\sigma(id_p)(\texttt{s\_marking})$.}
  
  \exP{}
    
  By property of the \texttt{Inject} relation, the \hvhdl{} rising
  edge relation, the stabilize relation, \InCsCompP, and through the
  examination of the \texttt{marking} process defined in the place
  design architecture, we can deduce:
  \begin{equation}
    \sigma(id_p)(\texttt{sm})=\sigma_0(id_p)(\texttt{sm})+\sigma_0(id_p)(\texttt{sits})-\sigma_0(id_p)(\texttt{sots})\label{eq:eq-sm-after-fst-re}
  \end{equation}

  Rewriting the goal with Equation~\eqref{eq:eq-sm-after-fst-re}:\\
  \fbox{$s_0.M(p)=\sigma_0(id_p)(\texttt{sm})+\sigma_0(id_p)(\texttt{sits})-\sigma_0(id_p)(\texttt{sots})$.}

  Appealing to Lemmas~\ref{lem:init-states-sits-zero} and
  \ref{lem:init-states-sots-zero}, we can deduce
  $\sigma_0(id_p)(\texttt{sits})=0$ and $\sigma_0(id_p)(\texttt{sots})=0$. Rewriting
  the goal with $\sigma_0(id_p)(\texttt{sits})=0$ and
  $\sigma_0(id_p)(\texttt{sots})=0$,
  \fbox{$s_0.M(p)=\sigma_0(id_p)(\texttt{sm})$.}\\

  Appealing to Lemma~\ref{lem:init-states-eq-marking},
  \qedbox{$s_0.M(p)=\sigma_0(id_p)(\texttt{sm})$.}
\end{niproof}

\subsection{First rising edge and time counters}
\label{sec:fst-re-tc}

\begin{lemma}[First rising edge equal time counters]
  \label{lem:fst-re-equal-tc}
  \fstrehyps{} then\\
  $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t$,\\
  $u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})\land{}$\\
  $u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\land{}$\\
  $u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\land{}$\\
  $u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show that:
  \begin{enumerate}
  \item \framebox{$u(I_s(t))=\infty\land{}s_0.I(t)\le{}l(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})$}
  \item \framebox{$u(I_s(t))=\infty\land{}s_0.I(t)>{}l(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=l(I_s(t))$}
  \item \framebox{$u(I_s(t))\neq\infty\land{}s_0.I(t)>{}u(I_s(t))\Rightarrow{}\sigma(id_t)(\texttt{s\_time\_counter})=u(I_s(t))$}
  \item \framebox{$u(I_s(t))\neq\infty\land{}s_0.I(t)\le{}u(I_s(t))\Rightarrow{}s_0.I(t)=\sigma(id_t)(\texttt{s\_time\_counter})$}
  \end{enumerate}

  \exT{}

  Then, let us show the 4 previous points:
  
  \begin{enumerate}
  \item Assuming that $u(I_s(t))=\infty$ and
    $s_0.I(t)\le{}l(I_s(t))$, let us show\\
    \framebox{${}s_0.I(t)=\sigma(id_t)(\texttt{stc})$.}
    
    By property of the $\mathtt{Inject}$ relation, the
    \hvhdl{} rising edge and stabilize relations, and \InCsCompT{}, we
    can deduce $\sigma(id_t)(\texttt{stc})=\sigma_0(id_t)(\texttt{stc})$.
    
    Rewriting $\sigma(id_t)(\texttt{stc})$ as $\sigma_0(id_t)(\texttt{stc})$,
    \fbox{${}s_0.I(t)=\sigma_0(id_t)(\texttt{stc})$.}

    Appealing to Lemma~\ref{lem:init-states-eq-tc},
    \qedbox{${}s_0.I(t)=\sigma_0(id_t)(\texttt{stc})$.}
  
  \item Assuming that $u(I_s(t))=\infty$ and
    ${}s_0.I(t)>{}l(I_s(t))$, let us show\\
    \framebox{$\sigma(id_t)(\texttt{stc})=l(I_s(t))$.}

    By definition, $l(I_s(t))\in\mathbb{N}^{*}$ and
    $s_0.I(t)=0$. Then, \qedbox{$l(I_s(t)){}<0$ is a
      contradiction.}
  \item Assuming that $u(I_s(t))\neq\infty$ and
    $s_0.I(t)>{}u(I_s(t))$, let us show\\
    \framebox{$\sigma(id_t)(\texttt{stc})=u(I_s(t))$}.

    By definition, $u(I_s(t))\in\mathbb{N}^{*}$ and
    $s_0.I(t)=0$. Then, \qedbox{$u(I_s(t)){}<0$ is a
      contradiction.}
    
  \item Assuming that $u(I_s(t))\neq\infty$ and
    $s_0.I(t)\le{}u(I_s(t))$, let us show\\
    \framebox{$s_0.I(t)=\sigma(id_t)(\texttt{stc})$.}

    By property of the $\mathtt{Inject}$ relation, the
    \hvhdl{} rising edge and stabilize relations, and \InCsCompT{}, we
    can deduce $\sigma(id_t)(\texttt{stc})=\sigma_0(id_t)(\texttt{stc})$.

    Rewriting $\sigma(id_t)(\texttt{stc})$ as $\sigma_0(id_t)(\texttt{stc})$,
    \fbox{${}s_0.I(t)=\sigma_0(id_t)(\texttt{stc})$.}

    Appealing to Lemma~\ref{lem:init-states-eq-tc},
    \qedbox{${}s_0.I(t)=\sigma_0(id_t)(\texttt{stc})$.}
  \end{enumerate}
\end{niproof}

\subsection{First rising edge and reset orders}
\label{sec:fst-re-reset-orders}

\begin{lemma}[First rising edge equal reset orders]
  \label{lem:fst-re-equal-reset-orders}
  \fstrehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $s_0.reset_t(t)=\sigma(id_t)(\texttt{s\_reinit\_time\_counter})$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show that\\
  \fbox{$s_0.reset_t(t)=\sigma(id_t)(\texttt{srtc})$.}

  \exT{}

  \noindent{}By property of the stabilize relation, \InCsCompT{}, and
  through the examination of the
  \texttt{reinit\_time\_counter\_evaluation} process defined in the
  transition design architecture, we can deduce:  
  \begin{equation}
    \sigma(id_t)(\texttt{srtc})=\sum\limits_{i=0}^{\Delta(id_t)(\texttt{input\_arcs\_number})-1}\sigma(id_t)(\texttt{reinit\_time})[i]\label{eq:srtc-at-init-states}
  \end{equation}

  Rewriting the goal with Equation~\eqref{eq:srtc-at-init-states}:
  \fbox{$s_0.reset_t(t)=\sum\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma(id_t)(\texttt{rt})[i]$.}
  
  Let us perform case analysis on $input(t)$; there are two cases:

  \begin{itemize}
  \item \textbf{CASE} $input(t)=\emptyset$:

    By construction,
    ${<}\mathtt{input\_arcs\_number\Rightarrow{}1}{>}\in{}g_t$, and
    by property of the \hvhdl{} elaboration relation, we can deduce
    $\Delta(id_t)(\texttt{ian})=1$.

    By construction,
    $<\mathtt{reinit\_time(0)\Rightarrow{}false}>\in{}i_t$, and by
    property of the \hvhdl{} stabilize relation,
    $\sigma(id_t)(\texttt{rt})[0]=\mathtt{false}$.

    Rewriting the goal with $\Delta(id_t)(\texttt{ian})=1$ and
    $\sigma(id_t)(\texttt{rt})[0]=\mathtt{false}$,
    \fbox{$s_0.reset_t(t)=\mathtt{false}$.}

    By definition of $s_0$, \qedbox{$s_0.reset_t(t)=\mathtt{false}$.}
    
  \item \textbf{CASE} $input(t)\neq{}\emptyset$:

    By construction,
    ${<}\mathtt{input\_arcs\_number\Rightarrow{}}\vert{}input(t)\vert{>}\in{}g_t$,
    and by property of the \hvhdl{} elaboration relation, we can
    deduce $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$.

    Rewriting $\Delta(id_t)(\texttt{ian})$ as $\vert{}input(t)\vert$,
    \fbox{$s_0.reset_t(t)=\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma(id_t)(\texttt{rt})[i]$.}

    By definition of $s_0$, $s_0.reset_t(t)=\mathtt{false}$. Rewriting
    $s_0.reset_t(t)$ as $\mathtt{false}$,\\
    \fbox{$\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma(id_t)(\texttt{rt})[i]=\mathtt{false}$.}

    Given a $i\in[0,\vert{}input(t)\vert-1]$, let us show
    \fbox{$\sigma(id_t)(\texttt{rt})[i]=\mathtt{false}$.}
    
    By construction, and since $input(t)\neq{}\emptyset$, there exist
    a $p\in{}input(t)$, an $id_p\in{}Comps(\Delta)$
    s.t. $\gamma(p)=id_p$, a $g_p,$ an $i_p,$ an $o_p$
    s.t. \InCsCompP{}, and there exist a
    $j\in[0,\vert{}output(p)\vert-1]$ and an
    $id_{ji}\in{}Sigs(\Delta)$ s.t.
    ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
    and
    ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$.

    By property of the stabilize relation,
    ${<}$\texttt{reinit\_transition\_time(j)$\Rightarrow{}id_{ji}$}${>}\in{}o_p$
    and\\
    ${<}$\texttt{reinit\_time(i)$\Rightarrow{}id_{ji}$}${>}\in{}i_t$,
    we can deduce
    $\sigma(id_t)(\texttt{rt})[i]=\sigma(id_{ji})=\sigma(id_p)(\texttt{rtt})[j]$.

    Rewriting $\sigma(id_t)(\texttt{rt})[i]$ as $\sigma(id_{ji})$ and
    $\sigma(id_{ji})$ as $\sigma(id_p)(\texttt{rtt})[j]$,
    \fbox{$\sigma(id_p)(\texttt{rtt})[j]=\mathtt{false}$.}

    By property of the \hvhdl{} rising edge and stabilize relations,
    \InCsCompP{}, and through the examination of the process defined
    in the place design architecture, we can deduce:
    \begin{equation}
      \label{eq:rtt-at-init}
      \begin{split}
        \sigma(id_p)(\texttt{rtt})[j]=& ((\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
        & .(\sigma_0(id_p)(\texttt{sm})-\sigma_0(id_p)(\texttt{sots})<\sigma_0(id_p)(\texttt{oaw})[j])\\
        & .(\sigma_0(id_p)(\texttt{sots})>0))\\
        & +(\sigma_0(id_p)(\texttt{otf})[j]) \\
      \end{split}
    \end{equation}

    Rewriting the goal with Equation~\eqref{eq:rtt-at-init},
    \begin{equation*}
      \fbox{$\begin{split}
          \mathtt{false}=& ((\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
          & .(\sigma_0(id_p)(\texttt{sm})-\sigma_0(id_p)(\texttt{sots})<\sigma_0(id_p)(\texttt{oaw})[j])\\
          & .(\sigma_0(id_p)(\texttt{sots})>0))\\
          & +(\sigma_0(id_p)(\texttt{otf})[j]) \\
        \end{split}$}
    \end{equation*}

    By construction, there exists an $id_{fj}\in{}Sigs(\Delta)$ s.t.
    ${<}$\texttt{fired}$\Rightarrow{}\mathtt{id_{fj}}{>}\in{}o_t$
    and
    ${<}$\texttt{output\_transitions\_fired(j)}$\Rightarrow{}\mathtt{id_{fj}}{>}\in{}i_p$.

    By property of the initialization relation,
    ${<}$\texttt{fired}$\Rightarrow{}\mathtt{id_{fj}}{>}\in{}o_t$
    and
    ${<}$\texttt{output\_transitions\_fired(j)}$\Rightarrow{}\mathtt{id_{fj}}{>}\in{}i_p$,
    we can deduce
    $\sigma_0(id_p)(\texttt{otf})[j]=\sigma_0(id_{fj})=\sigma_0(id_t)(\texttt{fired})$.
    
    Appealing to Lemma~\ref{lem:init-states-fired-false}, we can
    deduce $\sigma_0(id_t)(\texttt{fired})=\mathtt{false}$ and consequently\\
    $\sigma_0(id_p)(\texttt{otf})[j]=\mathtt{false}$.

    Rewriting $\sigma_0(id_p)(\texttt{otf})[j]$ as $\mathtt{false}$ and
    simplifying the goal,
    \begin{equation*}
      \fbox{$\begin{split}
          false=& ((\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{BASIC}+\sigma_0(id_p)(\texttt{oat})[j]=\mathtt{TEST}) \\
          & .(\sigma_0(id_p)(\texttt{sm})-\sigma_0(id_p)(\texttt{sots})<\sigma_0(id_p)(\texttt{oaw})[j])\\
          & .(\sigma_0(id_p)(\texttt{sots})>0))\\
        \end{split}$}
    \end{equation*}

    Appealing to Lemma~\ref{lem:init-states-sots-zero}, we can deduce
    $\sigma_0(id_p)(\texttt{sots})=0$.

    Rewriting $\sigma_0(id_p)(\texttt{sots})$ as $0$ and simplifying the
    goal, \qedbox{tautology.}
    
  \end{itemize}
\end{niproof}

\subsection{First rising edge and action executions}
\label{sec:fst-re-actions-ex}

\begin{lemma}[First rising edge equal action executions]
  \label{lem:fst-re-equal-action-ex}
  \fstrehyps{} then\\
  $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s_0.ex(a)=\sigma(id_a)$.\\
\end{lemma}

\begin{niproof}
  Given an $a\in\mathcal{A}$ and an
  $id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a$, let us show that
  \fbox{$s_0.ex(a)=\sigma(id_a)$.}

  By construction, $id_a$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$. The generated \texttt{action} process
  assigns a value to the output port $id_a$ only during the
  initialization phase or a falling edge phase.

  \noindent{}By property of the $\mathtt{Inject}$, \hvhdl{}
  rising edge and stabilize relations, we can deduce
  $\sigma(id_a)=\sigma_0(id_a)$.
  
  Rewriting $\sigma(id_a)$ as $\sigma_0(id_a)$,
  \fbox{$s_0.ex(a)=\sigma_0(id_a)$.}  Appealing to
  Lemma~\ref{lem:init-states-act-exec},
  \qedbox{$s_0.ex(a)=\sigma_0(id_a)$.}
  
\end{niproof}

\subsection{First rising edge and function executions}
\label{sec:fst-re-fun-ex}

\begin{lemma}[First rising edge equal function executions]
  \label{lem:fst-re-equal-fun-ex}
  \fstrehyps{} then\\
  $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s_0.ex(f)=\sigma(id_f)$.
\end{lemma}

\begin{niproof}
  Given an $f\in\mathcal{F}$ and an $id_f\in{}Outs(\Delta)$
  s.t. $\gamma(f)=id_f$, let us show that
  \fbox{$s_0.ex(f)=\sigma(id_f)$.}

  Rewriting $s_0.ex(f)$ as $\mathtt{false}$, by definition of $s_0$,
  \fbox{$\sigma(id_f)=\mathtt{false}$.}

  By construction, $id_f$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$. The generated \texttt{function} process
  assigns a value to the output port $id_f$ only during the
  initialization phase or during a rising edge phase.
  
  By construction, the \texttt{function} process is defined in the
  behavior of design $d$, i.e.\\
  $\mathtt{ps}(\texttt{function}, \emptyset, sl, ss)\in{}d.cs$.
  
  Let $trs(f)$ be the set of transitions associated to function $f$,
  i.e. $trs(f)=\{t\in{}T~\vert~\mathbb{F}(t,f)=true\}$.

  Let us perform case analysis on $trs(f)$; there are two cases:
  
  \begin{itemize}
  \item \textbf{CASE} $trs(f)=\emptyset$:
    
    By construction,
    $\mathtt{id_f\Leftarrow{}false}\in{}ss_{\uparrow}$ where
    $ss_\uparrow$ is the part of the \texttt{``function''} process
    body executed during a rising edge phase (i.e. a rising edge block
    statement).

    By property of the \hvhdl{} rising edge and the stabilize
    relation, \qedbox{$\sigma(id_f)=\mathtt{false}$.}
    
  \item \textbf{CASE} $trs(f)\neq\emptyset$:
    
    By construction,
    $\mathtt{id_f\Leftarrow{}id_{ft_0}+\dots+id_{ft_n}}\in{}ss_\uparrow$
    where $ss_\uparrow$ is the part of the \texttt{``function''}
    process body executed during the rising edge phase, and
    $n=\vert{}trs(f)\vert-1$, and for all $i\in[0,n-1]$, $id_{ft_i}$
    is an internal signal of design $d$.

    By property of the $\mathtt{Inject}$, the \hvhdl{} rising
    edge and stabilize relations, we can deduce
    $\sigma(id_f)=\sigma_0(id_{ft_0})+\dots+\sigma_0(id_{ft_n})$.

    Rewriting $\sigma(id_f)$ as
    $\sigma_0(id_{ft_0})+\dots+\sigma_0(id_{ft_n})$,
    \fbox{$\sigma_0(id_{ft_0})+\dots+\sigma_0(id_{ft_n})=\mathtt{false}$.}

    By construction, for all $id_{ft_i}$, there exist a
    $t_i\in{}trs(f)$ and an $id_{t_i}$ s.t. $\gamma(t_i)=id_{t_i}$.

    By construction and by definition of $id_{t_i}$, there exist
    $g_{t_i}$, $i_{t_i}$ and $o_{t_i}$ s.t.
    $\mathtt{comp}($$id_{t_i},$ $\texttt{transition},$
    $g_{t_i},$ $i_{t_i},$ $o_{t_i})\in{}d.cs$.

    By construction, we have
    ${<}\mathtt{fired\Rightarrow{id_{ft_i}}}{>}\in{}o_{t_i}$, and by
    property of the initialization relation, we have
    $\sigma_0(id_{ft_i})=\sigma_0(id_{t_i})(\texttt{fired})$.

    \noindent{}Rewriting $\sigma_0(id_{ft_i})$ as
    $\sigma_0(id_{t_i})(\texttt{fired})$,
    \fbox{$\sigma_0(id_{t_0})(\texttt{fired})+\dots+\sigma_0(id_{t_n})(\texttt{fired})=\mathtt{false}$.}

    Appealing to Lemma~\ref{lem:init-states-fired-false}, we can
    deduce $\sigma_0(id_{t_i})(\texttt{fired})=\mathtt{false}$.

    Rewriting all $\sigma_0(id_{t_i})(\texttt{fired})$ as $\mathtt{false}$
    and simplifying the goal, \qedbox{tautology.}
    
  \end{itemize}

\end{niproof}

\subsection{First rising edge and sensitization}
\label{sec:fst-re-sens}

\begin{lemma}[First rising edge equal sensitized]
  \label{lem:fst-re-equal-sens}
  \fstrehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\in{}Sens(s_0.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  See the proof of Lemma~\ref{lem:re-equal-sens}.
\end{niproof}

\begin{lemma}[First rising edge not equal sensitized]
  \label{lem:fst-re-neq-sens}
  \fstrehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\notin{}Sens(s_0.M)\Leftrightarrow\sigma(id_t)(\texttt{s\_enabled})=\mathtt{false}$.
\end{lemma}

\begin{niproof}
  See the proof of Lemma~\ref{lem:re-equal-not-sens}.
\end{niproof}

\subsection{First rising edge and conditions}
\label{sec:fst-re-cond-comb}

\begin{lemma}[First rising edge equal condition combination]
  \label{lem:fst-re-equal-cond-comb}
  \fstrehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
  $\sigma(id_t)(\texttt{s\_condition\_combination})=
  \prod\limits_{c\in{}conds(t)}
  \begin{cases}
    E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
    \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
  \end{cases}$\\
  where
  $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.
\end{lemma}

\begin{niproof}
  See the proof of Lemma~\ref{lem:re-equal-cond-comb}.
\end{niproof}

\begin{lemma}[First rising edge equal conditions]
  \label{lem:fst-re-equal-cond}
  \fstrehyps{} then\\
  $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)$
  s.t. $\gamma(c)=id_c$, $\sigma(id_c)=E_c(\tau,c)$.
\end{lemma}

\begin{niproof}
  See the proof of Lemma~\ref{lem:re-equal-cond}.
\end{niproof}

\section{Rising edge lock-step simulation}
\label{sec:re-lock-step}

\begin{lemma}[Rising edge lock-step simulation]
  \label{lem:re-lock-step}
  For all \hm2thyps{}, and for all $\tau\in\mathbb{N}$,
  $s,s'\in{}S(sitpn)$, $\sigma,\sigma_\uparrow,\sigma'\in\Sigma$, such
  that
  \begin{itemize}
  \item $s$ and $\sigma$ are similar states as intended after a
    falling edge step:
    $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$
  \item a rising edge step leads from $s$ to $s'$:
    $E_c,\tau\vdash{}s\xrightarrow{\uparrow}s'$
  \item a rising edge step leads from $\sigma$ to $\sigma'$:\\
    $\mathcal{D}_\mathcal{H},\Delta,\mathtt{inj}(\sigma,E_p,\tau)\vdash{}d.beh\xrightarrow{cs_{\uparrow}}\sigma_{\uparrow}$
    and
    $\mathcal{D}_\mathcal{H},\Delta,\sigma_{\uparrow}\vdash{}d.beh\xrightarrow{\rightsquigarrow}\sigma'$
  \end{itemize}
  then $\gamma\vdash{}s'\stackrel{\uparrow}{\approx}{}\sigma'$.
  
\end{lemma}


\begin{niproof}
  By definition of the \nameref{def:full-post-re-state-sim} relation,
  there are 9 points to prove:
  \begin{frameb}
    \begin{enumerate}
    \item
      $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s'.t.~\gamma(p)=id_p,$
      $~s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.\label{it:marking-eq-re}
    \item
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t$,\\
      $\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$.\label{it:time-count-eq-re}
    \item
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_reinit\_time\_counter})$.\label{it:reset-eq-re}
    \item
      $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s'.ex(a)=\sigma'(id_a)$.\label{it:action-eq-re}
    \item
      $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s'.ex(f)=\sigma'(id_f)$.\label{it:fun-eq-re}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $t\in{}Sens(s'.M)\Leftrightarrow\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{true}$.\label{it:sens-eq-re}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $t\notin{}Sens(s'.M)\Leftrightarrow\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{false}$.\label{it:not-sens-eq-re}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $\sigma'(id_t)(\texttt{s\_condition\_combination})=
      \prod\limits_{c\in{}conds(t)}
      \begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}$\\
      where
      $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.\label{it:cond-comb-eq-re}
    \item $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)$
      s.t. $\gamma(c)=id_c$,
      $\sigma'(id_c)=E_c(\tau,c)$.\label{it:cond-eq-re}
    \end{enumerate}
  \end{frameb}
  
  Each point is proved by a separate lemma:
  \begin{itemize}[label=--]
  \item Apply the \nameref{lem:re-equal-marking} lemma
    (p.~\pageref{lem:re-equal-marking}) to solve
    Point~\ref{it:marking-eq-re}.
  \item Apply the \nameref{lem:re-equal-tc} lemma
    (p.~\pageref{lem:re-equal-tc}) to solve
    Point~\ref{it:time-count-eq-re}.
  \item Apply the \nameref{lem:re-equal-reset-orders} lemma
    (p.~\pageref{lem:re-equal-reset-orders}) to solve
    Point~\ref{it:reset-eq-re}.
  \item Apply the \nameref{lem:re-equal-action-exec} lemma
    (p.~\pageref{lem:re-equal-action-exec}) to solve
    Point~\ref{it:action-eq-re}.
  \item Apply the \nameref{lem:re-equal-fun-exec} lemma
    (p.~\pageref{lem:re-equal-fun-exec}) to solve
    Point~\ref{it:fun-eq-re}.
  \item Apply the \nameref{lem:re-equal-sens} lemma
    (p.~\pageref{lem:re-equal-sens}) to solve
    Point~\ref{it:sens-eq-re}.
  \item Apply the \nameref{lem:re-equal-not-sens} lemma
    (p.~\pageref{lem:re-equal-not-sens}) to solve
    Point~\ref{it:not-sens-eq-re}.
  \item Apply the \nameref{lem:re-equal-cond-comb} lemma
    (p.~\pageref{lem:re-equal-cond-comb}) to solve
    Point~\ref{it:cond-comb-eq-re}.
  \item Apply the \nameref{lem:re-equal-cond} lemma
    (p.~\pageref{lem:re-equal-cond}) to solve
    Point~\ref{it:cond-eq-re}.
  \end{itemize}

  All the lemmas used above, and their corresponding proofs, are to be
  found in Appendix~\ref{app:sem-preserv-proof},
  Section~\ref{sec:rising-edge}.
\end{niproof}

\begin{definition}[Rising edge hypotheses]
  \label{def:re-hyps}
  Given an $sitpn\in{}SITPN$, $b\in{}P\rightarrow\mathbb{N}$,
  $d\in{}design$, $\gamma\in{}WM(sitpn,d)$,
  $E_c\in\mathbb{N}\rightarrow\mathcal{C}\rightarrow\mathbb{B}$,
  $\Delta\in{}ElDesign$,
  $E_p\in\mathbb{N}\rightarrow{}Ins(\Delta)\rightarrow{}value$,
  $\tau\in\mathbb{N}$, $s,s'\in{}S(sitpn)$,
  $\sigma_e,\sigma,\sigma_i,\sigma_\uparrow,\sigma'\in\Sigma$, assume
  that:
  \begin{itemize}
  \item $\lfloor{}sitpn\rfloor_b=(d,\gamma)$ and
    $\gamma\vdash{}E_p\stackrel{env}{=}E_c$ and
    $\mathcal{D}_\mathcal{H},\emptyset\vdash\mathrm{d}\srarrow{elab}{\fontsize{7}{7}\selectfont}\Delta,\sigma_e$
  \item $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$
  \item
    $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
  \item $\mathtt{Inject}(\sigma, E_p, \tau, \sigma_i)$ and
    $\mathcal{D}_{\mathcal{H}},\Delta,\sigma_i\vdash\mathrm{d.cs}\xrightarrow{\uparrow}\sigma_\uparrow$
    and
    $\mathcal{D}_{\mathcal{H}},\Delta,\sigma_\uparrow\vdash\mathrm{d.cs}\xrightarrow{\rightsquigarrow}\sigma'$
  \item State $\sigma$ is a stable design state:
    $\mathcal{D}_{\mathcal{H}},\Delta,\sigma\vdash\mathrm{d.cs}\xrightarrow{comb}\sigma$
  \end{itemize}
\end{definition}

\def\rehyps{For all $sitpn$, $b$, $d$, $\gamma$, $E_c$, $E_p$, $\tau$,
  $\Delta$, $\sigma_e$, $s$, $s'$, $\sigma$, $\sigma_i$,
  $\sigma_\uparrow$, $\sigma'$ that verify the hypotheses of
  Definition~\ref{def:re-hyps},}

\subsection{Rising edge and Marking}
\label{sec:re-marking}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% RISING EDGE EQUAL MARKING LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Rising edge equal marking]
  \label{lem:re-equal-marking}
  \rehyps{} then $\forall{}p,id_p~s.t.~\gamma(p)=id_p$,
  $s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.
\end{lemma}

\begin{niproof}

  Given a $p\in{}P$, let us show
  \fbox{$s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.}

  \exP{}
  
  By definition of the SITPN state transition relation on rising edge:
  \begin{equation}\label{eq:re-eq-marking-eqmp}
    s'.M(p)=s.M(p)-\sum\limits_{t\in{}Fired(s)}pre(p,t)+\sum\limits_{t\in{}Fired(s)}post(t,p)
  \end{equation}

  By property of the $\mathtt{Inject}$, the \hvhdl{} rising
  edge and the stabilize relations, \InCsCompP{}, and through the
  examination of the \texttt{marking} process defined in the place
  design architecture, we can deduce:
  \begin{equation}\label{eq:re-eq-marking-eqsm}
    \begin{split}
      \sigma'(id_p)(\texttt{sm})=\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{s\_output\_token\_sum})\\
      +\sigma(id_p)(\texttt{s\_input\_token\_sum})
    \end{split}
  \end{equation}

  Rewriting the goal with \ref{eq:re-eq-marking-eqmp} and
  \ref{eq:re-eq-marking-eqsm},
  
  \fbox{
    \begin{tabular}{@{}c@{}}
      $s.M(p)-\sum\limits_{t\in{}Fired(s)}pre(p,t)+\sum\limits_{t\in{}Fired(s)}post(t,p)$\\
      $=$ \\
      $\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})
      +\sigma(id_p)(\texttt{sits})$ \\
    \end{tabular}
  }\\
  
  By definition of the \nameref{def:full-post-fe-state-sim} relation,
  we can deduce $s.M(p)=\sigma(id_p)(\texttt{sm})$,
  $\sum\limits_{t\in{}Fired(s)}pre(p,t)=\sigma(id_p)(\texttt{sots})$ and
  $\sum\limits_{t\in{}Fired(s)}post(t,p)=\sigma(id_p)(\texttt{sits})$, and thus, 

  \qedbox{
    \begin{tabular}{c}
      $s.M(p)-\sum\limits_{t\in{}Fired(s)}pre(p,t)+\sum\limits_{t\in{}Fired(s)}post(t,p)$ \\
      $=$ \\
      $\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})+\sigma(id_p)(\texttt{sits})$ \\
    \end{tabular}
  }
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% RISING EDGE EQUAL CONDITION COMBINATION  %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Rising edge and conditions}
\label{sec:re-cond-comb}

\begin{lemma}[Rising edge equal condition combination]
  \label{lem:re-equal-cond-comb}
  \rehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
  $\sigma'(id_t)(\texttt{s\_condition\_combination})=
  \prod\limits_{c\in{}conds(t)}
  \begin{cases}
    E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
    \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
  \end{cases}$\\
  where
  $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.
\end{lemma}

\begin{niproof}
  Given a $t$ and an $id_t$ s.t. $\gamma(t)=id_t$, let us show\\
  \fbox{$\sigma'(id_t)(\texttt{s\_condition\_combination})=
    \prod\limits_{c\in{}conds(t)}
    \begin{cases}
      E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
      \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
    \end{cases}$.}\\

  \exT

  \noindent By property of the \hvhdl{} stabilize relation,
  \InCsCompT{}, and through the examination of the
  \texttt{condition_evaluation} process defined in the transition
  design architecture, we can deduce:
  \begin{equation}
    \sigma'(id_t)(\texttt{scc})=\prod\limits_{i=0}^{\Delta(id_t)(\texttt{conditions\_number})-1}\sigma'(id_t)(\texttt{input\_conditions})[i]\label{eq:re-eq-cc-eqscc}
  \end{equation}

  \noindent{}Rewriting the goal with \ref{eq:re-eq-cc-eqscc},\\
  \fbox{$\prod\limits_{i=0}^{\Delta(id_t)(\texttt{cn})-1}\sigma'(id_t)(\texttt{ic})[i]=
    \prod\limits_{c\in{}conds(t)}
    \begin{cases}
      E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
      \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
    \end{cases}$.}\\

  \noindent{}Let us perform case analysis on $conds(t)$; there are two cases:

  \begin{itemize}
  \item \textbf{CASE} $conds(t)=\emptyset$:
    \fbox{$\prod\limits_{i=0}^{\Delta(id_t)(\texttt{cn})-1}\sigma'(id_t)(\texttt{ic})[i]=\mathtt{true}$.}\\
    
    By construction, ${<}\mathtt{cn\Rightarrow{}1}{>}\in{}g_t$ and
    ${<}\mathtt{ic(0)\Rightarrow{}true}{>}\in{}i_t$.

    By property of the stabilize relation,
    ${<}\mathtt{cn\Rightarrow{}1}{>}\in{}g_t$ and
    ${<}$\texttt{ic(0)}$\mathtt{\Rightarrow{}true}{>}\in{}i_t$, we can
    deduce $\Delta(id_t)(\texttt{cn})=1$ and
    $\sigma'(id_t)(\texttt{ic})[0]=\mathtt{true}$.

    Rewriting the goal with $\Delta(id_t)(\texttt{cn})=1$ and
    $\sigma'(id_t)(\texttt{ic})[0]=\mathtt{true}$, \qedbox{tautology.}
    
  \item \textbf{CASE} $conds(t)\neq\emptyset$:\\
    By construction,
    ${<}\mathtt{cn\Rightarrow{}\vert{}conds(t)\vert}{>}\in{}g_t$, and
    by property of the stabilize relation, we can deduce
    $\Delta(id_t)(\texttt{cn})=\vert{}conds(t)\vert$.
    
    Rewriting the goal with $\Delta(id_t)(\texttt{cn})=\vert{}conds(t)\vert$:\\
    \fbox{$\prod\limits_{i=0}^{\vert{}conds(t)\vert-1}\sigma'(id_t)(\texttt{ic})[i]=
      \prod\limits_{c\in{}conds(t)}
      \begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}$}\\

    There exists a mapping, given by the transformation function,
    between the set $conds(t)$ and the indexes of
    $[0,\vert{}conds(t){}\vert-1]$.

    Let $\beta\in{}conds(t)\rightarrow[0,\vert{}conds(t){}\vert-1]$ be
    this mapping.

    To prove the current goal, it suffices to prove that for all
    condition $c\in{}conds(t)$, we have

    \begin{frameb}
      $\bigg(\begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}\bigg)=\sigma'(id_t)(\texttt{ic})[\beta(c)]$
    \end{frameb}

    Given a $c\in{}conds(t)$, let us show the above goal.
    
    By construction, for all $c\in{}conds(t)$, there exists an
    $id_c\in{}Ins(\Delta)$ such that
    \begin{itemize}
    \item $\gamma(c)=id_c$
    \item $\mathbb{C}(t,c)=1$ implies
      ${<}\mathtt{ic(}\beta(c)\mathtt{)\Rightarrow{}id_c}{>}\in{}i_t$
    \item $\mathbb{C}(t,c)=-1$ implies
      ${<}\mathtt{ic(}\beta(c)\mathtt{)\Rightarrow{}not~id_c}{>}\in{}i_t$
    \end{itemize}

    Let us take such an $id_c$ with the above properties.

    By definition of $c\in{}conds(t)$, we have
    $\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1$. Let us perform case
    analysis on $\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1$:

    \begin{itemize}
    \item \textbf{CASE} $\mathbb{C}(t,c)=1$:

      In that case, we must show:
      \fbox{$E_c(\tau,c)=\sigma'(id_t)(\texttt{ic})[\beta(c)]$}

      By assumption, we have
      ${<}\mathtt{ic(}\beta(c)\mathtt{)\Rightarrow{}id_c}{>}\in{}i_t$
      and by property of the stabilize relation, we can deduce
      $\sigma(id_t)(\texttt{ic})[\beta(c)]=\sigma'(id_c)$.

      Rewriting the goal with
      $\sigma(id_t)(\texttt{ic})[\beta(c)]=\sigma'(id_c)$:

      \fbox{$E_c(\tau,c)=\sigma'(id_c)$}

      By property of the $\mathtt{Inject}$ relation and
      $id_c\in{}Ins(\Delta)$, we can deduce
      $\sigma'(id_c)=E_p(\tau)(id_c)$.

      By property of $\gamma\vdash{}E_p\stackrel{env}{=}E_c$, we can
      deduce $E_p(\tau)(id_c)=E_c(\tau,c)$.

      Rewriting the goal with $\sigma'(id_c)=E_p(\tau)(id_c)$ and
      $E_p(\tau)(id_c)=E_c(\tau,c)$:
      \fbox{$E_c(\tau,c)=E_c(\tau,c)$}, then \qedbox{tautology.}

    \item \textbf{CASE} $\mathbb{C}(t,c)=-1$:

      In that case, we must show:
      \fbox{$\mathtt{not}~E_c(\tau,c)=\sigma'(id_t)(\texttt{ic})[\beta(c)]$}

      By assumption, we have
      ${<}\mathtt{ic(}\beta(c)\mathtt{)\Rightarrow{}not~id_c}{>}\in{}i_t$
      and by property of the stabilize relation, we can deduce
      $\sigma(id_t)(\texttt{ic})[\beta(c)]=\mathtt{not}~\sigma'(id_c)$.

      Rewriting the goal with
      $\sigma(id_t)(\texttt{ic})[\beta(c)]=\mathtt{not}~\sigma'(id_c)$:

      \fbox{$\mathtt{not}~E_c(\tau,c)=\mathtt{not}~\sigma'(id_c)$}

      By property of the $\mathtt{Inject}$ relation and
      $id_c\in{}Ins(\Delta)$, we can deduce
      $\sigma'(id_c)=E_p(\tau)(id_c)$.

      By property of $\gamma\vdash{}E_p\stackrel{env}{=}E_c$, we can
      deduce $E_p(\tau)(id_c)=E_c(\tau,c)$.

      Rewriting the goal with $\sigma'(id_c)=E_p(\tau)(id_c)$ and
      $E_p(\tau)(id_c)=E_c(\tau,c)$:
      \fbox{$\mathtt{not}~E_c(\tau,c)=\mathtt{not}~E_c(\tau,c)$}, then
      \qedbox{tautology.}
      
    \end{itemize}
    
  \end{itemize}
  
\end{niproof}

\begin{lemma}[Rising edge equal conditions]
  \label{lem:re-equal-cond}
  \rehyps{} then\\
  $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)$
  s.t. $\gamma(c)=id_c$, $\sigma'(id_c)=E_c(\tau,c)$.
\end{lemma}

\begin{niproof}
  Given a $c\in\mathcal{C}$ and an $id_c\in{}Ins(\Delta)$ such that
  $\gamma(c)=id_c$, let us show
  \begin{frameb}
    $\sigma'(id_c)=E_c(\tau,c)$
  \end{frameb}

  By property of the $\mathtt{Inject}$ relation and
  $id_c\in{}Ins(\Delta)$, we can deduce
  $\sigma'(id_c)=E_p(\tau)(id_c)$.

  By property of $\gamma\vdash{}E_p\stackrel{env}{=}E_c$, we can
  deduce $E_p(\tau)(id_c)=E_c(\tau,c)$.

  Rewriting the goal with $\sigma'(id_c)=E_p(\tau)(id_c)$ and
  $E_p(\tau)(id_c)=E_c(\tau,c)$, \qedbox{tautology}.
\end{niproof}

\subsection{Rising edge and time counters}
\label{sec:re-tc}

\begin{lemma}[Rising edge equal time counters]
  \label{lem:re-equal-tc}
  \rehyps{} then\\
  $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t$,\\
  $\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow$
  $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
  $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow$
  $\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
  $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow$
  $\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
  $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow$
  $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$ s.t. $\gamma(t)=id_t$, let us show\\
  \noindent\fbox{\parbox{\lwidth}{$\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$}}\\

  \exT{}

  Then, there are 4 points to show:

  \begin{enumerate}
  \item\label{it:re-eq-tc-fst}
    \fbox{$u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$}\\
    
    Assuming that $u(I_s(t))=\infty$ and
    $s'.I(t)\le{}l(I_s(t))$, let us show\\
    \fbox{$s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$.}

    By property of the $\mathtt{Inject}$, \hvhdl{} rising edge and
    stabilize relations, \InCsCompT, and through the examination of
    the \texttt{time_counter} process defined in the transition design
    architecture, we can deduce
    $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$.

    By property of
    $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
    deduce $s.I(t)=\sigma(id_t)(\texttt{stc})$.

    Rewriting the goal with $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$
    and $s.I(t)=\sigma(id_t)(\texttt{stc})$, \qedbox{tautology.}
    
  \item
    \fbox{$u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow
      \sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t)$.}

    \noindent{}Proved in the same fashion as \ref{it:re-eq-tc-fst}.
  \item
    \fbox{$u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow
      \sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t)$.}

    \noindent{}Proved in the same fashion as \ref{it:re-eq-tc-fst}.
    
  \item
    \fbox{$u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$}
    
    \noindent{}Proved in the same fashion as \ref{it:re-eq-tc-fst}.
  \end{enumerate}
  
\end{niproof}

\subsection{Rising edge and reset orders}
\label{sec:re-reset-orders}

\begin{lemma}[Rising edge equal reset orders]
  \label{lem:re-equal-reset-orders}
  \rehyps{} then\\
  $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_reinit\_time\_counter})$
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show\\
  \fbox{$s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_reinit\_time\_counter})$.}

  \exT

  By property of the \hvhdl{} stabilize relation, \InCsCompT, and
  through the examination of the
  \texttt{reinit_time_counter_evaluation} process defined in the
  transition design architecture, we can deduce:
  \begin{equation}
    \sigma'(id_t)(\texttt{srtc})=\sum\limits_{i=0}^{\Delta(id_t)(\texttt{input\_arcs\_number})-1}\sigma'(id_t)(\texttt{reinit\_time})[i]\label{eq:eq-srtc-prod}
  \end{equation}

  Rewriting the goal with \eqref{eq:eq-srtc-prod},
  \fbox{$s'.reset_t(t)=\sum\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{rt})[i]$.}
  
  Let us perform case analysis on $input(t)$; there are two cases:

  \begin{itemize}
  \item \textbf{CASE} $input(t)=\emptyset$:

    By construction,
    ${<}\mathtt{input\_arcs\_number\Rightarrow{}1}{>}\in{}g_t$, and
    by property of the elaboration relation, we can deduce
    $\Delta(id_t)(\texttt{ian})=1$.

    By construction, there exists an $id_{ft}\in{}Sigs(\Delta)$ s.t.
    ${<}\mathtt{reinit\_time(0)\Rightarrow{}id_{ft}}{>}\in{}i_t$ and
    ${<}\mathtt{fired\Rightarrow{}id_{ft}}{>}\in{}o_t$, and by
    property of the stabilize relation and \InCsCompT, we can deduce
    $\sigma'(id_t)(\texttt{rt})[0]=\sigma'(id_{ft})=\sigma'(id_t)(\texttt{fired})$.

    Rewriting the goal with $\Delta(id_t)(\texttt{ian})=1$ and
    $\sigma'(id_t)(\texttt{rt})[0]=\sigma'(id_{ft})=\sigma'(id_t)(\texttt{fired})$:
    \fbox{$s'.reset_t(t)=\sigma'(id_t)(\texttt{fired})$.}
    
    By property of the stabilize relation, \InCsCompT{}, and through
    the examination of the \texttt{fired_evaluation} process, we can deduce:
    \begin{equation}
      \sigma'(id_t)(\texttt{fired})=\sigma'(id_t)(\texttt{s\_firable})~.~\sigma'(id_t)(\texttt{s\_priority\_combination})\label{eq:fired-at-re}
    \end{equation}

    Rewriting the goal with \eqref{eq:fired-at-re}:\\
    \fbox{$s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_firable})~.~\sigma'(id_t)(\texttt{s\_priority\_combination})$.}

    By property of the stabilize relation, \InCsCompT, and through the
    examination of the \texttt{priority_authorization_evaluation}
    process defined in the transition design architecture, we can
    deduce:
    \begin{equation}
      \sigma'(id_t)(\texttt{spc})=\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{priority\_authorizations})[i]\label{eq:eq-spc-sum}
    \end{equation}

    As $\Delta(id_t)(\texttt{ian})=1$, we can deduce
    $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\sigma'(id_t)(\texttt{pauths})[0]$.

    Rewriting the goal with \eqref{eq:eq-spc-sum} and
    $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\sigma'(id_t)(\texttt{pauths})[0]$:\\
    \fbox{$s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_firable})~.~\sigma'(id_t)(\texttt{pauths})[0]$.}
    
    By construction,
    ${<}\mathtt{priority\_authorizations(0)\Rightarrow{}true}{>}\in{}i_t$,
    and by property of the stabilize relation and \InCsCompT, we can
    deduce\\ $\sigma'(id_t)(\texttt{pauths})[0]=\mathtt{true}$.
    
    Rewriting the goal with $\sigma'(id_t)(\texttt{pauths})[0]=\mathtt{true}$
    , and simplifying the equation:\\
    \fbox{$s'.reset_t(t)=\sigma'(id_t)(\texttt{s\_firable})$.}
    
    Let us perform case analysis on $t\in{}Fired(s)$ or
    $t\notin{}Fired(s)$:

    \begin{itemize}
    \item \textbf{CASE} $t\in{}Fired(s)$:
      
      By property of
      $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
      (Rule~\ref{it:reset-order}), we can deduce
      $s'.reset_t(t)=\mathtt{true}$.

      Rewriting the goal with $s'.reset_t(t)=\mathtt{true}$:
      \fbox{$\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.}

      By property of the stabilize, the \hvhdl{} rising edge and the
      $\mathtt{Inject}$ relations, \InCsCompT, and through the
      examination of the \texttt{firable} process defined in the
      transition design architecture, we can deduce\\
      $\sigma(id_t)(\texttt{s\_firable})=\sigma'(id_t)(\texttt{s\_firable})$.

      Rewriting the goal with
      $\sigma(id_t)(\texttt{s\_firable})=\sigma'(id_t)(\texttt{s\_firable})$,
      we have \\
      \fbox{$\sigma(id_t)(\texttt{s\_firable})=\mathtt{true}$.}

      By property of
      $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
      deduce
      $t\in{}Firable(s)\Leftrightarrow\sigma(id_t)(\texttt{sfa})=\mathtt{true}$.

      Rewriting the goal with
      $t\in{}Firable(s)\Leftrightarrow\sigma(id_t)(\texttt{sfa})=\mathtt{true}$,
      \fbox{$t\in{}Firable(s)$.}

      By property of $t\in{}Fired(s)$, \qedbox{$t\in{}Firable(s)$.}
      
    \item \textbf{CASE} $t\notin{}Fired(s)$:

      \noindent{}By property of $input(t)=\emptyset$, there does not
      exist any input place connected to $t$ by a $\mathtt{basic}$ or
      $\mathtt{test}$ arc. Thus, by property of
      $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
      (Rule~\ref{it:reset-order}), we can deduce
      $s'.reset_t(t)=\mathtt{false}$.

      Rewriting the goal with $s'.reset_t(t)=\mathtt{false}$:
      \fbox{$\sigma'(id_t)(\texttt{s\_firable})=\mathtt{false}$.}

      By property of the stabilize, the \hvhdl{} rising edge and the
      $\mathtt{Inject}$ relations, \InCsCompT, and through
      the examination of the \texttt{firable} process defined in the
      transition design architecture, we can deduce
      $\sigma(id_t)(\texttt{sfa})=\sigma'(id_t)(\texttt{sfa})$.

      Rewriting the goal with
      $\sigma(id_t)(\texttt{sfa})=\sigma'(id_t)(\texttt{sfa})$,
      \fbox{$\sigma(id_t)(\texttt{sfa})=\mathtt{false}$.}

      By property of
      $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
      deduce
      $t\notin{}Firable(s)\Leftrightarrow\sigma(id_t)(\texttt{sfa})=\mathtt{false}$.
      
      By property of $t\notin{}Fired(s)$ and $input(t)=\emptyset$,
      \qedbox{$t\notin{}Firable(s)$}.
    \end{itemize}
    
  \item \textbf{CASE} $input(t)\neq{}\emptyset$:

    By construction,
    ${<}\mathtt{input\_arcs\_number\Rightarrow{}}\vert{}input(t)\vert{>}\in{}g_t$,
    and by property of the elaboration relation, we can deduce
    $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$.

    Rewriting the goal with
    $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$,
    \fbox{$s'.reset_t(t)=\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma'(id_t)(\texttt{rt})[i]$.}
    
    Let us perform case analysis on $t\in{}Fired(s)$ or
    $t\notin{}Fired(s)$:
    
    \begin{itemize}
    \item \textbf{CASE} $t\in{}Fired(s)$:
      
      By property of
      $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
      (Rule~\ref{it:reset-order}), we can deduce
      $s'.reset_t(t)=\mathtt{true}$.

      Rewriting the goal with $s'.reset_t(t)=\mathtt{true}$,
      \fbox{$\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

      To prove the goal, let us show
      \fbox{$\exists{}i\in[0,\vert{}input(t)\vert-1]$
        s.t. $\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

      By construction, and $input(t)\neq{}\emptyset$, there exist
      ${}p\in{}input(t)$ and $id_p\in{}Comps(\Delta)$
      s.t. $\gamma(p)=id_p$.

      \exP{}

      By construction, there exist an
      $i\in{}[0,\vert{}input(t)\vert-1],$ a
      $j\in[0,\vert{}output(p)\vert-1]$ and $id_{ji}\in{}Sigs(\Delta)$
      s.t.
      ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
      and\\
      ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$. Let
      us take such an $i$, $j$ and $id_{ji}$, and let us use $i$ to
      prove the goal: \fbox{$\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

      \noindent{}By property of the stabilize relation,
      ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
      and
      ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$,
      we can deduce
      $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$.

      Rewriting the goal with
      $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$,
      \fbox{$\sigma'(id_p)(\texttt{rtt})[j]=\mathtt{true}$.}

      By property of the $\mathtt{Inject}$, the \hvhdl{}
      rising edge and the stabilize relations, \InCsCompP, and through
      the examination of the
      \texttt{reinit_transitions_time_evaluation} process defined in
      the place design architecture, we can deduce:
      \begin{equation}
        \label{eq:eq-rtt-j}
        \begin{split}
          \sigma'(id_p)(\texttt{rtt})[j]=& \big((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
          & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
          & .(\sigma(id_p)(\texttt{sots})>0)\big)\\
          & +\sigma(id_p)(\texttt{otf})[j] \\
        \end{split}
      \end{equation}

      Rewriting the goal with \eqref{eq:eq-rtt-j},
      \begin{equation*}
        \fbox{$\begin{split}
            \mathtt{true}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
            & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
            & .(\sigma(id_p)(\texttt{sots})>0))\\
            & +(\sigma(id_p)(\texttt{otf})[j]) \\
          \end{split}$}
      \end{equation*}

      By construction, there exists $id_{ft}\in{}Sigs(\Delta)$ such that\\
      ${<}\mathtt{output\_transitions\_fired(j)\Rightarrow{}id_{ft}}{>}\in{}i_p$
      and ${<}\mathtt{fired\Rightarrow{}id_{ft}}{>}\in{}o_t$. By
      property of state $\sigma$, which is a stable state, we have
      $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft})=\sigma(id_p)(\texttt{otf})[j]$.

      Rewriting the goal with
      $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft})=\sigma(id_p)(\texttt{otf})[j]$,
      \begin{equation*}
        \fbox{$\begin{split}
            \mathtt{true}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
            & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
            & .(\sigma(id_p)(\texttt{sots})>0))\\
            & +\sigma(id_t)(\texttt{fired}) \\
          \end{split}$}
      \end{equation*}

      By property of
      $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
      deduce
      $t\in{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{true}$.

      Rewriting the goal with
      $t\in{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{true}$
      and simplify the goal, then \qedbox{tautology}.

    \item \textbf{CASE} $t\notin{}Fired(s)$: Then, there are two cases
      that will determine the value of $s'.reset_t(t)$. Either there
      exists a place $p$ with an output token sum greater than zero,
      that is connected to $t$ by an $\mathtt{basic}$ or
      $\mathtt{test}$ arc, and such that the transient marking of $p$
      disables $t$; or such a place does not exist (the predicate is
      decidable).

      \begin{itemize}
      \item \textbf{CASE} there exists such a place $p$ as described
        above:

        Then, let us take such a place $p$ and $\omega\in\mathbb{N}^{*}$ s.t.:
        \begin{enumerate}
        \item $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)>0$\label{item:1}
        \item
          $pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})$\label{item:2}
        \item
          $s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega$\label{item:3}
        \end{enumerate}

        We will only consider the case where
        $pre(p,t)=(\omega,\mathtt{basic})$; the proof is the similar
        when $pre(p,t)=(\omega,\mathtt{test})$.

        Assuming that $p$ exists, and by property of
        $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
        (Rule~\ref{it:reset-order}), we can deduce
        $s'.reset_t(t)=\mathtt{true}$.

        Rewriting the goal with $s'.reset_t(t)=\mathtt{true}$,
        \fbox{$\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

        \noindent{}To prove the goal, let us show
        \fbox{$\exists{}i\in[0,\vert{}input(t)\vert-1]$
          s.t. $\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

        By construction, there exists $id_p\in{}Comps(\Delta)$
        s.t. $\gamma(p)=id_p$.

        \exP{}

        By construction, there exist an
        $i\in{}[0,\vert{}input(t)\vert-1],$ a
        $j\in[0,\vert{}output(p)\vert-1]$ and
        $id_{ji}\in{}Sigs(\Delta)$ s.t.
        ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
        and\\
        ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$. Let
        us take such an $i$, $j$ and $id_{ji}$, and let us use $i$ to
        prove the goal: \fbox{$\sigma'(id_t)(\texttt{rt})[i]=\mathtt{true}$.}

        By property of the stabilize relation,
        ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
        and
        ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$,
        we have
        $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$.

        Rewriting the goal with
        $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$, we have\\
        \fbox{$\sigma'(id_p)(\texttt{rtt})[j]=\mathtt{true}$.}

        By property of the $\mathtt{Inject}$, the \hvhdl{}
        rising edge and the stabilize relation, and through the
        examination of the \texttt{reinit_transitions_time_evaluation}
        process defined in the place design architecture, we can
        deduce:
        \begin{equation}
          \label{eq:eq-rtt-j-2}
          \begin{split}
            \sigma'(id_p)(\texttt{rtt})[j]=& \big((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
            & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
            & .(\sigma(id_p)(\texttt{sots})>0)\big)\\
            & +\sigma(id_p)(\texttt{otf})[j] \\
          \end{split}
        \end{equation}

        Rewriting the goal with \eqref{eq:eq-rtt-j-2},
        \begin{equation*}
          \fbox{$\begin{split}
              \mathtt{true}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
              & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
              & .(\sigma(id_p)(\texttt{sots})>0))\\
              & +\sigma(id_p)(\texttt{otf})[j] \\
            \end{split}$}
        \end{equation*}

        By construction,
        ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}basic}{>}\in{}i_p$
        and\\
        ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.
        
        By property of the stabilize relation and \InCsCompP, we can
        deduce $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$ and
        $\sigma'(id_p)(\texttt{oaw})[j]=\omega$.

        By property of
        $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
        deduce $\sigma(id_p)(\texttt{sm})=s.M(p)$ and
        $\sigma(id_p)(\texttt{sots})=\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)$.

        \noindent{}Rewriting the goal with
        $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$,
        $\sigma'(id_p)(\texttt{oaw})[j]=\omega$, $\sigma(id_p)(\texttt{sm})=s.M(p)$
        and
        $\sigma(id_p)(\texttt{sots})=\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)$,
        and simplifying the goal:
        \begin{equation*}
          \fbox{
            \begin{tabular}{@{}c@{}}
              $\big((s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega)~.~(\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)>0)\big)+\sigma(id_t)(\texttt{fired})$ \\
              $=$\\
              $\mathtt{true}$\\
            \end{tabular}
          }
        \end{equation*}

        We assumed that
        $s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega$ and
        $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)>0$.

        Thus, by assumption: \\
        \qedbox{
          \begin{tabular}{@{}c@{}}
            $\big((s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega)~.~(\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)>0)\big)+\sigma(id_t)(\texttt{fired})$ \\
            $=$ \\
            $\mathtt{true}$\\
          \end{tabular}
        }
        
      \item \textbf{CASE} such a place does not exist:\\
        Then, let us assume that, for all place $p\in{}P$
        \begin{enumerate}
        \item $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)=0$\label{item:4}
        \item or
          $\forall{}\omega\in\mathbb{N}^{*},~pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})
          \Rightarrow{}$
          
          \hspace{3ex}$s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)\ge\omega$.\label{item:5}
        \end{enumerate}
        
        In that case, by property of
        $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
        (Rule~\ref{it:reset-order}), we can deduce
        $s'.reset_t(t)=\mathtt{false}$.
        
        Rewriting the goal with $s'.reset_t(t)=\mathtt{false}$:
        \fbox{$\sum\limits_{i=0}^{\vert{}input(t)\vert-1}\sigma'(id_t)(\texttt{rt})[i]=\mathtt{false}$.}

        To prove the goal, let us show
        \fbox{$\forall{}i\in[0,\vert{}input(t)\vert-1],~\sigma'(id_t)(\texttt{rt})[i]=\mathtt{false}$.}\\

        Given an $i\in[0,\vert{}input(t)\vert-1]$, let us show
        \fbox{$\sigma'(id_t)(\texttt{rt})[i]=\mathtt{false}$.}\\

        By construction, there exist a $p\in{}input(t)$, an
        $id_p\in{}Comps(\Delta)$, $g_p$, $i_p$, $o_p$, \\ a
        $j\in[0,\vert{}output(p)\vert-1]$, an
        $id_{ji}\in{}Sigs(\Delta)$ s.t. $\gamma(p)=id_p$ and
        \InCsCompP{} and
        ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
        and
        ${<}$\texttt{reinit\_time(i)}$\Rightarrow{}\mathtt{id_{ji}}{>}\in{}i_t$. Let
        us take such a $p$, $id_p$, $g_p$, $i_p$, $o_p$, $j$ and
        $id_{ji}$.\\

        By property of the stabilize relation,
        ${<}\mathtt{reinit\_transition\_time(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
        and
        ${<}\mathtt{reinit\_time(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$,
        we have
        $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$.

        Rewriting the goal with
        $\sigma'(id_t)(\texttt{rt})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{rtt})[j]$:\\
        \fbox{$\sigma'(id_p)(\texttt{rtt})[j]=\mathtt{false}$.}

        By property of the $\mathtt{Inject}$, the \hvhdl{}
        rising edge and the stabilize relations, \InCsCompP, and
        through the examination of the
        \texttt{reinit_transitions_time_evaluation} process defined in
        the place design architecture, we can deduce:
        \begin{equation}
          \label{eq:10}
          \begin{split}
            \sigma'(id_p)(\texttt{rtt})[j]=& \big((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
            & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
            & .(\sigma(id_p)(\texttt{sots})>0)\big)\\
            & +\sigma(id_p)(\texttt{otf})[j] \\
          \end{split}
        \end{equation}

        Rewriting the goal with \eqref{eq:10},
        \begin{equation*}
          \fbox{$\begin{split}
              \mathtt{false}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
              & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
              & .(\sigma(id_p)(\texttt{sots})>0))\\
              & +\sigma(id_p)(\texttt{otf})[j]) \\
            \end{split}$}
        \end{equation*}
        
        By construction, there exists $id_{ft}\in{}Sigs(\Delta)$ such that\\
        ${<}\mathtt{output\_transitions\_fired(j)\Rightarrow{}id_{ft}}{>}\in{}i_p$
        and ${<}\mathtt{fired\Rightarrow{}id_{ft}}{>}\in{}o_t$. By
        property of state $\sigma$ as being a stable state, we have
        $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft})=\sigma(id_p)(\texttt{otf})[j]$.

        Rewriting the goal with
        $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft})=\sigma(id_p)(\texttt{otf})[j]$:
        \begin{equation*}
          \fbox{$\begin{split}
              \mathtt{false}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
              & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
              & .(\sigma(id_p)(\texttt{sots})>0))\\
              & +\sigma(id_t)(\texttt{fired}) \\
            \end{split}$}
        \end{equation*}

        By property of
        $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
        deduce
        $t\notin{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{false}$

        Rewriting the goal with
        $t\notin{}Fired(s)\Leftrightarrow\sigma(id_t)(\texttt{fired})=\mathtt{false}$
        and simplifying the goal:
        \begin{equation*}
          \fbox{$\begin{split}
              \mathtt{false}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
              & .(\sigma(id_p)(\texttt{sm})-\sigma(id_p)(\texttt{sots})<\sigma(id_p)(\texttt{oaw})[j])\\
              & .(\sigma(id_p)(\texttt{sots})>0))\\
            \end{split}$}
        \end{equation*}

        Then, based on the assumptions made at the beginning of case,
        there are two cases:
        \begin{enumerate}
        \item \textbf{CASE}
          $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)=0$:\\
          
          By property of
          $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we
          can deduce
          $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)=\sigma(id_p)(\texttt{sots})$.

          Rewriting the goal with
          $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)=\sigma(id_p)(\texttt{sots})$
          and $\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)=0$, and
          simplifying the goal: \qedbox{tautology.}
          
        \item \textbf{CASE}
          $\forall{}\omega\in\mathbb{N}^{*},~pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})
          \Rightarrow{}$

          \hspace{7ex}$s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)\ge\omega$:

          Let us perform case analysis on $pre(p,t)$; there are two
          cases:

          \begin{enumerate}
          \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{basic})$ or $pre(p,t)=(\omega,\mathtt{basic})$:\\
            \noindent{}By construction,
            ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.
            
            \noindent{}By property of stable state $\sigma$ and
            \InCsCompP, we can deduce $\sigma(id_p)(\texttt{oaw})[j]=\omega$.

            By property of
            $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we
            can deduce $\sigma(id_p)(\texttt{sm})=s.M(p)$ and
            $\sigma(id_p)(\texttt{sots})=\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)$.

            Rewriting the goal with
            $\sigma(id_p)(\texttt{oaw})[j]=\omega$,
            $\sigma(id_p)(\texttt{sm})=s.M(p)$ and\\
            $\sigma(id_p)(\texttt{sots})=\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)$:
            \begin{equation*}
              \fbox{$\begin{split}
                  \mathtt{false}=& ((\sigma(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
                  & .(s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega)\\
                  & .(\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)>0))\\
                \end{split}$}
            \end{equation*}
            
            We assumed that
            $s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)\ge\omega$,
            and then we can deduce
            $s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega=\mathtt{false}$.
            

            Rewriting the goal with
            $s.M(p)-\sum\limits_{t_i\in{}Fired(s)}pre(p,t_i)<\omega=\mathtt{false}$,
            and simplifying the goal, \qedbox{tautology.}

          \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{inhib})$:
            
            By construction,
            ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}inhib}{>}\in{}i_p$.
            
            By property of stable state $\sigma$ and \InCsCompP, we
            can deduce $\sigma(id_p)(\texttt{oat})[j]=\mathtt{inhib}$.

            Rewriting the goal with
            $\sigma(id_p)(\texttt{oat})[j]=\mathtt{inhib}$, and simplifying
            the goal, we have a \qedbox{tautology.}
          \end{enumerate}
        \end{enumerate}
      \end{itemize}
    \end{itemize}
  \end{itemize}
\end{niproof}

\subsection{Rising edge and action executions}
\label{sec:re-action-exec}

\begin{lemma}[Rising edge equal action executions]
  \label{lem:re-equal-action-exec}
  \rehyps{} then\\
  $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s'.ex(a)=\sigma'(id_a)$.
\end{lemma}

\begin{niproof}
  Given an $a\in\mathcal{A}$ and an
  $id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a$, let us show
  \fbox{$s'.ex(a)=\sigma'(id_a)$.}

  By property of
  $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$,
  we can deduce $s.ex(a)=s'.ex(a)$.
  
  By construction, $id_a$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$. The generated \texttt{``action''}
  process is responsible for the assignment of the $ida$ only during
  the initialization phase or during a falling edge phase.

  By property of the \hvhdl{} $\mathtt{Inject}$, rising
  edge, stabilize relations, and the \texttt{``action''} process, we
  can deduce $\sigma(id_a)=\sigma'(id_a)$.

  Rewriting the goal with $s.ex(a)=s'.ex(a)$ and
  $\sigma(id_a)=\sigma'(id_a)$, \fbox{$s.ex(a)=\sigma(id_a)$.}

  By property of
  $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$,
  \qedbox{$s.ex(a)=\sigma(id_a)$.}
\end{niproof}

\subsection{Rising edge and function executions}
\label{sec:re-fun-exec}

\begin{lemma}[Rising edge equal function executions]
  \label{lem:re-equal-fun-exec}
  \rehyps{} then\\
  $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s'.ex(f)=\sigma'(id_f)$.
\end{lemma}

\begin{niproof}
  Given an $f\in\mathcal{F}$ and an $id_f\in{}Outs(\Delta)$
  s.t. $\gamma(f)=id_f$, let us show \fbox{$s'.ex(f)=\sigma'(id_f)$.}

  By property of
  $E_c,\tau\vdash{}s\srarrow{\uparrow}{\fontsize{7}{7}\selectfont}s'$
  (Rule~\ref{it:exec-fun}):
  \begin{equation}
    s'.ex(f)=\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)\label{eq:eq-exf}
  \end{equation}

  By construction, $id_f$ is an output port identifier of Boolean type
  in the \hvhdl{} design $d$. The generated \texttt{function} process
  assigns a value to the output port $id_f$ only during the
  initialization phase or during a rising edge phase.
  
  By construction, the \texttt{function} process is defined in the
  behavior of design $d$, i.e.\\
  $\mathtt{ps}(\texttt{function}, \emptyset, sl, ss)\in{}d.cs$.
  
  Let $trs(f)$ be the set of transitions associated to function $f$,
  i.e. $trs(f)=\{t\in{}T~\vert~\mathbb{F}(t,f)=\mathtt{true}\}$.

  Let us perform case analysis on $trs(f)$; there are two cases:
  
  \begin{itemize}
  \item \textbf{CASE} $trs(f)=\emptyset$:
    
    By construction,
    $\mathtt{id_f\Leftarrow{}false}\in{}ss_{\uparrow}$ where
    $ss_\uparrow$ is the part of the \texttt{function} process body
    executed during a rising edge phase.

    By property of the \hvhdl{} rising edge, the stabilize relations
    and $\mathtt{ps}(\texttt{function}, \emptyset, sl, ss)\in{}d.cs$, we can
    deduce $\sigma'(id_f)=\mathtt{false}$.
    
    \noindent{}By property of
    $\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)$ and
    $trs(f)=\emptyset$, we can deduce
    $\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)=\mathtt{false}$.

    \noindent{}Rewriting the goal with \eqref{eq:eq-exf},
    $\sigma'(id_f)=\mathtt{false}$ and
    $\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)=\mathtt{false}$:
    \qedbox{tautology.}
    
  \item \textbf{CASE} $trs(f)\neq\emptyset$:
    
    By construction,
    $\mathtt{id_f\Leftarrow{}id_{ft_0}+\dots+id_{ft_n}}\in{}ss_\uparrow$,
    where $id_{ft_i}\in{}Sigs(\Delta)$, $ss_\uparrow$ is the part of
    the \texttt{function} process body executed during a rising edge
    phase, and $n=\vert{}trs(f)\vert-1$.

    By property of the $\mathtt{Inject}$, the
    \hvhdl{} rising edge, the stabilize relations, and\\
    $\mathtt{ps}(\texttt{function}, \emptyset, sl, ss)\in{}d.cs$, we can
    deduce:
    \begin{equation}
      \sigma'(id_f)=\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})\label{eq:eq-idf-prod}
    \end{equation}

    Rewriting the goal with \eqref{eq:eq-exf} and
    \eqref{eq:eq-idf-prod},
    \fbox{$\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)=\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})$.}

    Let us reason on the value of
    $\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})$; there are two cases:

    \begin{itemize}
    \item \textbf{CASE} $\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})=\mathtt{true}$:
      
      Then, we can rewrite the goal as follows:
      \fbox{$\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)=\mathtt{true}$.}

      To prove the above goal, let us show
      \fbox{$\exists{}t\in{}Fired(s)~s.t.~\mathbb{F}(t,f)=\mathtt{true}$.}

      From $\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})=\mathtt{true}$,
      we can deduce
      $\exists{}id_{ft_i}~s.t.~\sigma(id_{ft_i})=\mathtt{true}$. Let
      us take such an $id_{ft_i}$.
      
      By construction, there exist a $t\in{}trs(f)$, an
      $id_t\in{}Comps(\Delta)$, $g_t$, $i_t$, $o_t$ such that:
      \begin{itemize}
      \item $\gamma(t)=id_t$
      \item \InCsCompT{}
      \item ${<}\mathtt{fired\Rightarrow{id_{ft_i}}}{>}\in{}o_{t}$
      \end{itemize}
      
      \noindent{}By property of $\sigma$ as being a stable design
      state, and \InCsCompT, we can deduce
      $\sigma(id_{t})(\texttt{fired})=\sigma(id_{ft_i})$, and thus that
      $\sigma(id_{t})(\texttt{fired})=\mathtt{true}$.

      By property of
      $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
      deduce $t\in{}Fired(s)$.
      
      Let us use $t$ to prove the goal:
      \fbox{$\mathbb{F}(t,f)=\mathtt{true}$.}

      By definition of $t\in{}trs(f)$,
      \qedbox{$\mathbb{F}(t,f)=\mathtt{true}$.}

    \item \textbf{CASE} $\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})=\mathtt{false}$:\\
      \noindent{}Then, we can rewrite the goal as follows:
      \fbox{$\sum\limits_{t\in{}Fired(s)}\mathbb{F}(t,f)=\mathtt{false}$.}

      \noindent{}To prove the above goal, let us show
      \fbox{$\forall{}t\in{}Fired(s)~s.t.~\mathbb{F}(t,f)=\mathtt{false}$.}

      \noindent{}Given a $t\in{}Fired(s)$, let us show
      \fbox{$\mathbb{F}(t,f)=\mathtt{false}$.}

      \noindent{}Let us perform case analysis on $\mathbb{F}(t,f)$; there are 2 cases:

      \begin{itemize}
      \item \textbf{CASE} \qedbox{$\mathbb{F}(t,f)=\mathtt{false}$.}
      \item \textbf{CASE} $\mathbb{F}(t,f)=\mathtt{true}$:\\
        
        By construction, there exist an $id_{t}\in{}Comps(\Delta)$,
        $g_{t}$, $i_{t}$, $o_{t}$ and
        $id_{ft_i}\in{}Sigs(\Delta)$ such that:
        \begin{itemize}
        \item $\gamma(t)=id_{t}$
        \item \InCsCompT
        \item ${<}\mathtt{fired\Rightarrow{id_{ft_i}}}{>}\in{}o_{t}$
        \end{itemize}

        By property of stable design state $\sigma$ and \InCsCompT, we
        can deduce $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft_i})$.

        By property of
        $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we can
        deduce
        $t\in{}Fired(s)\Leftrightarrow{}\sigma(id_t)(\texttt{fired})=\mathtt{true}$.

        \noindent{}Since $t\in{}Fired(s)$, we can deduce
        $\sigma(id_t)(\texttt{fired})=\mathtt{true}$, and from
        $\sigma(id_t)(\texttt{fired})=\sigma(id_{ft_i})$, we can deduce
        $\sigma(id_{ft_i})=\mathtt{true}$.

        Then, \qedbox{$\sigma(id_{ft_i})=\mathtt{true}$ contradicts
          $\sigma(id_{ft_0})+\dots+\sigma(id_{ft_n})=\mathtt{false}$.}
      \end{itemize}
    \end{itemize}
  \end{itemize}
\end{niproof}

\subsection{Rising edge and sensitization}
\label{sec:re-sens}

\begin{lemma}[Rising edge equal sensitized]
  \label{lem:re-equal-sens}
  \rehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\in{}Sens(s'.M)\Leftrightarrow\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show\\
  \fbox{$t\in{}Sens(s'.M)\Leftrightarrow\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{true}$.}\\
  
  \exT{}. Then, the proof is in two parts:

  \begin{enumerate}
  \item Assuming that $t\in{}Sens(s'.M)$, let us show
    \fbox{$\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{true}$.}

    \noindent{}By property of the stabilize relation, \InCsCompT{},
    and through the examination of the \texttt{enable_evaluation}
    process defined in the transition design architecture:
    \begin{equation}
      \sigma'(id_t)(\texttt{se})=\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{input\_arcs\_valid})[i]\label{eq:eq-senabled-prod}
    \end{equation}

    Rewriting the goal with \eqref{eq:eq-senabled-prod},
    \fbox{$\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.}
    
    \noindent{}To prove the goal, let us show that
    \fbox{$\forall{}i\in[0,\Delta(id_t)(\texttt{ian})-1],~\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.}

    \noindent{}Given an $i\in[0,\Delta(id_t)(\texttt{ian})-1]$, let us show
    \fbox{$\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.}
    
    \noindent{}Let us perform case analysis on $input(t)$.

    \begin{itemize}
    \item \textbf{CASE} $input(t)=\emptyset$:

      By construction,
      ${<}\mathtt{input\_arcs\_number\Rightarrow{}1}{>}\in{}g_t$ and\\
      ${<}\mathtt{input\_arcs\_valid(0)\Rightarrow{}true}{>}\in{}i_t$.

      By property of the elaboration and stabilize relations and
      \InCsCompT{}, we can deduce $\Delta(id_t)(\texttt{ian})=1$ and
      $\sigma'(id_t)(\texttt{iav})[0]=\mathtt{true}$.

      Thanks to $\Delta(id_t)(\texttt{ian})=1$, we can deduce that $i=0$.

      Rewriting the goal with $\sigma'(id_t)(\texttt{iav})[0]=\mathtt{true}$,
      \qedbox{tautology.}
      
    \item \textbf{CASE} $input(t)\neq\emptyset$:\\
      \noindent{}By construction,
      ${<}\mathtt{input\_arcs\_number\Rightarrow{}}\vert{}input(t)\vert{>}\in{}g_t$.

      By property of the elaboration relation and \InCsCompT, we can
      deduce $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$.
      
      Thanks to $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$, we know
      that $i\in[0,\vert{}input(t)\vert-1]$.

      By construction, there exist a $p\in{}input(t)$,
      $id_p\in{}Comps(\Delta)$, $g_p$, $i_p$, $o_p$,
      $j\in{}[0,\vert{}output(p)\vert-1]$ and
      $id_{ji}\in{}Sigs(\Delta)$ s.t. $\gamma(p)=id_p$ and\\
      \InCsCompP{} and
      ${<}\mathtt{output\_arcs\_valid(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
      and
      ${<}\mathtt{input\_arcs\_valid(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$.

      By property of the stabilize relation, \InCsCompT{} and
      \InCsCompP, we can deduce
      $\sigma'(id_t)(\texttt{iav})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{oav})[j]$.

      Rewriting the goal with
      $\sigma'(id_t)(\texttt{iav})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{oav})[j]$:\\
      \fbox{$\sigma'(id_p)(\texttt{oav})[j]=\mathtt{true}$.}

      By property of the stabilize relation, \InCsCompP, and through
      the examination of the \texttt{marking_validation_evaluation}
      process defined in the place design architecture, we can deduce:
      \begin{equation}
        \label{eq:eq-oav-sens}
        \begin{split}
          \sigma'(id_p)(\texttt{oav})[j]=& \big((\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma'(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
          & \quad.~\sigma'(id_p)(\texttt{sm})\ge\sigma'(id_p)(\texttt{oaw})[j]\big)\\
          & +\big(\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}~.~\sigma'(id_p)(\texttt{sm})<\sigma'(id_p)(\texttt{oaw})[j]\big)\\
        \end{split}
      \end{equation}

      Rewriting the goal with \eqref{eq:eq-oav-sens},
      \begin{equation*}
        \fbox{$
          \begin{split}
            \mathtt{true}=& \big((\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma'(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
            & \quad.~\sigma'(id_p)(\texttt{sm})\ge\sigma'(id_p)(\texttt{oaw})[j]\big)\\
            & +\big(\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}~.~\sigma'(id_p)(\texttt{sm})<\sigma'(id_p)(\texttt{oaw})[j]\big)\\
          \end{split}
          $}
      \end{equation*}

      Let us perform case analysis on $pre(p,t)$; there are 3 cases:
      \begin{itemize}
      \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{basic})$:\\

        \noindent{}By construction,
        ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}basic}{>}\in{}i_p$
        and\\
        ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.

        By property of the stabilize relation and \InCsCompP,

        we can deduce $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$ and
        $\sigma'(id_p)(\texttt{oaw})[j]=\omega$.

        Rewriting the goal with
        $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$
        and $\sigma'(id_p)(\texttt{oaw})[j]=\omega$, and simplifying the goal:\\
        \fbox{$\sigma'(id_p)(\texttt{sm})\ge\omega=\mathtt{true}$.}

        \noindent{}Appealing to Lemma~\ref{lem:re-equal-marking}, we
        can deduce $s'.M(p)=\sigma'(id_p)(\texttt{sm})$.

        \noindent{}Rewriting the goal with
        $s'.M(p)=\sigma'(id_p)(\texttt{sm})$:
        \fbox{$s'.M(p)\ge\omega=\mathtt{true}$.}

        \noindent{}By definition of $t\in{}Sens(s'.M)$,
        \qedbox{$s'.M(p)\ge\omega=\mathtt{true}$.}
        
      \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{test})$: same as
        above.
      \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{inhib})$:

        \noindent{}By construction,
        ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}inhib}{>}\in{}i_p$
        and\\
        ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.

        \noindent{}By property of the stabilize relation and
        \InCsCompP, we can deduce
        $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}$ and
        $\sigma'(id_p)(\texttt{oaw})[j]=\omega$.

        \noindent{}Rewriting the goal with
        $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}$ and
        $\sigma'(id_p)(\texttt{oaw})[j]=\omega$, and simplifying the goal:
        \fbox{$\sigma'(id_p)(\texttt{sm})<\omega=\mathtt{true}$.}

        \noindent{}Appealing to Lemma~\ref{lem:re-equal-marking}, we
        can deduce $s'.M(p)=\sigma'(id_p)(\texttt{sm})$.

        \noindent{}Rewriting the goal with
        $s'.M(p)=\sigma'(id_p)(\texttt{sm})$:
        \fbox{$s'.M(p)<\omega=\mathtt{true}$.}

        \noindent{}By definition of $t\in{}Sens(s'.M)$,
        \qedbox{$s'.M(p)<\omega=\mathtt{true}$.}
        
      \end{itemize}
    \end{itemize}
    
  \item Assuming that $\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{true}$, let
    us show \fbox{$t\in{}Sens(s'.M)$.}

    \noindent{}By definition of $t\in{}Sens(s'.M)$, let us show
    \begin{equation*}
      \fbox{\parbox{\lwidth}{$
          \forall{}p\in{}P,\omega\in\mathbb{N}^{*},
          ~\big(pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})\Rightarrow{}s'.M(p)\ge\omega\big)\land
          \big(pre(p,t)=(\omega,\mathtt{inhib})\Rightarrow{}s'.M(p)<\omega\big)
          $}}
    \end{equation*}

    Given a $p\in{}P$ and an $\omega\in\mathbb{N}^{*}$, let us show\\
    \fbox{$pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})\Rightarrow{}s'.M(p)\ge\omega$}
    and \\
    \fbox{$pre(p,t)=(\omega,\mathtt{inhib})\Rightarrow{}s'.M(p)<\omega$.}

    \begin{enumerate}
    \item Assuming
      $pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test})$,
      let us show \fbox{$s'.M(p)\ge\omega$.}

      \noindent{}The proceeding is the same for
      $pre(p,t)=(\omega,\mathtt{basic})$ and
      $pre(p,t)=(\omega,\mathtt{test})$. Therefore, we will only cover
      the case where $pre(p,t)=(\omega,\mathtt{basic})$.
      
      \noindent{}By property of the stabilize relation and \InCsCompT,
      equation \eqref{eq:eq-senabled-prod} holds.
      
      Rewriting $\sigma'(id_t)(\texttt{se})=\mathtt{true}$ with
      \eqref{eq:eq-senabled-prod}, we can deduce:\\
      $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.

      \noindent{}Then, we can deduce that
      $\forall{}i\in[0,\Delta(id_t)(\texttt{ian})-1],~\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.

      By construction, there exist an $id_p\in{}Comps(\Delta)$,
      $g_p$, $i_p$, $o_p$, $i\in[0,\vert{}input(t)\vert-1]$,
      $j\in{}[0,\vert{}output(p)\vert-1]$ and
      $id_{ji}\in{}Sigs(\Delta)$ s.t.  $\gamma(p)=id_p$ and\\
      \InCsCompP{} and
      ${<}\mathtt{output\_arcs\_valid(j)\Rightarrow{}id_{ji}}{>}\in{}o_p$
      and
      ${<}\mathtt{input\_arcs\_valid(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$. Let
      us take such an $id_p\in{}Comps(\Delta)$, $g_p$, $i_p$,
      $o_p$, $i\in[0,\vert{}input(t)\vert-1]$,
      $j\in{}[0,\vert{}output(p)\vert-1]$ and
      $id_{ji}\in{}Sigs(\Delta)$.

      \noindent{}By construction,
      ${<}\mathtt{input\_arcs\_number\Rightarrow{}}\vert{}input(t)\vert{>}\in{}g_t$.

      \noindent{}By property of the elaboration relation and
      \InCsCompT, we can deduce
      $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$.

      \noindent{}Thanks to $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$,
      we can deduce that
      $\forall{}i\in[0,\vert{}input(t)\vert-1],$\\
      $\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.

      \noindent{}Having such an $i\in[0,\vert{}input(t)\vert-1]$, we
      can deduce that $\sigma'(id_t)(\texttt{iav})[i]=\mathtt{true}$.

      \noindent{}By property of the stabilize relation, \InCsCompT{}
      and \InCsCompP, we can deduce
      $\sigma'(id_t)(\texttt{iav})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{oav})[j]$.

      \noindent{}Thanks to
      $\sigma'(id_t)(\texttt{iav})[i]=\sigma'(id_{ji})=\sigma'(id_p)(\texttt{oav})[j]$,
      we have $\sigma'(id_p)(\texttt{oav})[j]=\mathtt{true}$.

      By property of the stabilize relation and \InCsCompP, equation
      \eqref{eq:eq-oav-sens} holds. Thanks to \eqref{eq:eq-oav-sens},
      we can deduce that:
      \begin{equation}
        \label{eq:sens-true}
        \begin{split}
          \mathtt{true}=& \big((\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}+\sigma'(id_p)(\texttt{oat})[j]=\mathtt{test}) \\
          & \quad.~\sigma'(id_p)(\texttt{sm})\ge\sigma'(id_p)(\texttt{oaw})[j]\big)\\
          & +\big(\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}~.~\sigma'(id_p)(\texttt{sm})<\sigma'(id_p)(\texttt{oaw})[j]\big)\\
        \end{split}
      \end{equation}

      \noindent{}By construction,
      ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}basic}{>}\in{}i_p$
      and\\
      ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.

      \noindent{}By property of the stabilize relation and \InCsCompP,
      we can deduce $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$ and
      $\sigma'(id_p)(\texttt{oaw})[j]=\omega$.

      \noindent{}Thanks to $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{basic}$,
      $\sigma'(id_p)(\texttt{oaw})[j]=\omega$, and simplifying
      Equation~\eqref{eq:sens-true}, we can deduce
      $\sigma'(id_p)(\texttt{sm})\ge\omega=\mathtt{true}$.

      \noindent{}Appealing to Lemma~\ref{lem:re-equal-marking},
      \qedbox{$s'.M(p)\ge\omega$.}

    \item Assuming $pre(p,t)=(\omega,\mathtt{inhib})$, let us show
      \fbox{$s'.M(p)<\omega$.}

      The proceeding is the same as in the preceding case. Here, we
      will start the proof where the two cases are diverging, i.e:

      \noindent{}By construction,
      ${<}\mathtt{output\_arcs\_types(j)\Rightarrow{}inhib}{>}\in{}i_p$
      and\\
      ${<}\mathtt{output\_arcs\_weights(j)\Rightarrow{}}\omega{>}\in{}i_p$.

      \noindent{}By property of the stabilize relation and \InCsCompP,
      we can deduce $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}$ and
      $\sigma'(id_p)(\texttt{oaw})[j]=\omega$.

      \noindent{}Thanks to $\sigma'(id_p)(\texttt{oat})[j]=\mathtt{inhib}$
      and $\sigma'(id_p)(\texttt{oaw})[j]=\omega$, and simplifying
      Equation~\eqref{eq:sens-true}, we can deduce
      $\sigma'(id_p)(\texttt{sm})<\omega=\mathtt{true}$.

      \noindent{}Appealing to Lemma~\ref{lem:re-equal-marking},
      \qedbox{$s'.M(p)<\omega$.}
    \end{enumerate}

  \end{enumerate}
\end{niproof}

\begin{lemma}[Rising edge equal not sensitized]
  \label{lem:re-equal-not-sens}
  \rehyps{} then\\
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\notin{}Sens(s'.M)\Leftrightarrow\sigma'(id_t)(\texttt{s\_enabled})=\mathtt{false}$.
\end{lemma}

\begin{niproof}
  Proving the above lemma is trivial by appealing to
  Lemma~\ref{lem:re-equal-sens} and by reasoning on
  contrapositives.
\end{niproof}

\section{Falling edge lock-step simulation}
\label{sec:fe-lock-step}

\begin{lemma}[Falling edge lock-step simulation]
  \label{lem:fe-lock-step}
  For all \hm2thyps{}, and for all $\tau\in\mathbb{N}$,
  $s,s'\in{}S(sitpn)$, $\sigma,\sigma_\downarrow,\sigma'\in\Sigma$,
  such that
  \begin{itemize}
  \item $s$ and $\sigma$ are similar states as intended after a rising
    edge step: $\gamma\vdash{}s\stackrel{\downarrow}{\approx}\sigma$
  \item a falling edge step leads from $s$ to $s'$:
    $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
  \item a falling edge step leads from $\sigma$ to $\sigma'$:\\
    $\mathcal{D}_\mathcal{H},\Delta,\sigma\vdash{}d.beh\xrightarrow{cs_{\downarrow}}\sigma_{\downarrow}$
    and
    $\mathcal{D}_\mathcal{H},\Delta,\sigma_{\downarrow}\vdash{}d.beh\xrightarrow{\rightsquigarrow}\sigma'$
  \end{itemize}
  then $\gamma\vdash{}s'\stackrel{\downarrow}{\approx}{}\sigma'$.
\end{lemma}

\begin{niproof}
  By definition of the \nameref{def:post-fe-state-sim} relation, there
  are 11 points to prove:
  \begin{frameb}
    \begin{enumerate}
    \item
      $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
      $~s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.\label{item:fe-equal-marking}
    \item
      $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow{}\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow{}\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$.
      \label{item:fe-equal-tc}
    \item
      $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s'.cond(c)=\sigma'(id_c)$.\label{item:fe-equal-cond-values}
    \item
      $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s'.ex(a)=\sigma'(id_a)$.\label{item:fe-equal-act-exec}
    \item
      $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s'.ex(f)=\sigma'(id_f)$.\label{item:fe-equal-fun-exec}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $t\in{}Firable(s')\Leftrightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.\label{item:fe-equal-firable}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
      $t\notin{}Firable(s')\Leftrightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{false}$.\label{item:fe-equal-not-firable}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $t\in{}Fired(s')\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.\label{item:fe-equal-fired}
    \item
      $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
      $t\notin{}Fired(s')\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{false}$.\label{item:fe-equal-not-fired}
    \item
      $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$\\
      $\sum\limits_{t\in{}Fired(s')}pre(p,t)=$
      $\sigma'(id_p)(\texttt{s\_output\_token\_sum})$.\label{item:fe-equal-ots}
    \item
      $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$\\
      $\sum\limits_{t\in{}Fired(s')}post(t,p)=\sigma'(id_p)(\texttt{s\_input\_token\_sum})$.\label{item:fe-equal-its}
    \end{enumerate}
  \end{frameb}

  Each point is proved by a separate lemma:
  \begin{itemize}[label=--]
  \item Apply the \nameref{lem:fe-equal-marking} lemma
    (p.~\pageref{lem:fe-equal-marking}) to solve
    Point~\ref{item:fe-equal-marking}.
  \item Apply the \nameref{lem:fe-equal-tc} lemma
    (p.~\pageref{lem:fe-equal-tc}) to solve
    Point~\ref{item:fe-equal-tc}.
  \item Apply the \nameref{lem:fe-equal-cond-values} lemma
    (p.~\pageref{lem:fe-equal-cond-values}) to solve
    Point~\ref{item:fe-equal-cond-values}.
  \item Apply the \nameref{lem:fe-equal-act-exec} lemma
    (p.~\pageref{lem:fe-equal-act-exec}) to solve
    Point~\ref{item:fe-equal-act-exec}.
  \item Apply the \nameref{lem:fe-equal-fun-exec} lemma
    (p.~\pageref{lem:fe-equal-fun-exec}) to solve
    Point~\ref{item:fe-equal-fun-exec}.
  \item Apply the \nameref{lem:fe-equal-firable} lemma
    (p.~\pageref{lem:fe-equal-firable}) to solve
    Point~\ref{item:fe-equal-firable}.
  \item Apply the \nameref{lem:fe-equal-not-firable} lemma
    (p.~\pageref{lem:fe-equal-not-firable}) to solve
    Point~\ref{item:fe-equal-not-firable}.
  \item Apply the \nameref{lem:fe-equal-fired} lemma
    (p.~\pageref{lem:fe-equal-fired}) to solve
    Point~\ref{item:fe-equal-fired}. The proof of the
    \nameref{lem:fe-equal-fired} lemma is detailled in
    Section~\ref{sec:detailled-proof}.
  \item Apply the \nameref{lem:fe-equal-not-fired} lemma
    (p.~\pageref{lem:fe-equal-not-fired}) to solve
    Point~\ref{item:fe-equal-not-fired}.
  \item Apply the \nameref{lem:fe-equal-ots} lemma
    (p.~\pageref{lem:fe-equal-ots}) to solve
    Point~\ref{item:fe-equal-ots}.
  \item Apply the \nameref{lem:fe-equal-its} lemma
    (p.~\pageref{lem:fe-equal-its}) to solve
    Point~\ref{item:fe-equal-its}.
  \end{itemize}

  All the lemmas used above, and their corresponding proofs, are to be
  found in Appendix~\ref{app:sem-preserv-proof},
  Section~\ref{sec:falling-edge}.
\end{niproof}

\begin{definition}[Falling edge hypotheses]
  \label{def:fe-hyps}
  Given a $sitpn\in{}SITPN$, $b\in{}P\rightarrow\mathbb{N}$,
  $d\in{}design$, $\gamma\in{}WM(sitpn,d)$,
  $E_c\in\mathbb{N}\rightarrow\mathcal{C}\rightarrow\mathbb{B}$,
  $\Delta\in{}ElDesign$,
  $E_p\in\mathbb{N}\rightarrow{}Ins(\Delta)\rightarrow{}value$,
  $\tau\in\mathbb{N}$, $s,s'\in{}S(sitpn)$,
  $\sigma_e,\sigma,\sigma_\downarrow,\sigma'\in\Sigma$, assume that:
  \begin{itemize}
  \item SITPN $sitpn$ is transformed into the \hvhdl{} design $d$ and
    yields the binder $\gamma$: $\lfloor{}sitpn\rfloor_b=(d,\gamma)$
  \item Simulation/Execution environments are similar:
    $\gamma\vdash{}E_p\stackrel{env}{=}E_c$
  \item $\Delta$ is the elaborated version of design $d$, and
    $\sigma_e$ is the default design state of $\Delta$:
    $\mathcal{D}_\mathcal{H},\emptyset\vdash\mathrm{d}\srarrow{elab}{\fontsize{5}{7}\selectfont}\Delta,\sigma_e$
  \item Starting states are similar according to the full post rising
    edge similarity relation:
    $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$
  \item On the SITPN side, the execution of a falling edge phase
    starting from state $s$ leads to state $s'$:\\
    $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
  \item On the \hvhdl{} side, the simulation of a falling edge phase
    starting from state $\sigma$ leads to state $\sigma'$:
    $\Delta,\sigma\vdash\mathrm{d.cs}\xrightarrow{\downarrow}\sigma_{\downarrow}$
    and
    $\Delta,\sigma_{\downarrow}\vdash\mathrm{d.cs}\xrightarrow{\rightsquigarrow}\sigma'$
  \item State $\sigma$ is a stable design state:
    $\mathcal{D}_{\mathcal{H}},\Delta,\sigma\vdash\mathrm{d.cs}\xrightarrow{comb}\sigma$
  \end{itemize}
\end{definition}

\def\fehyps{For all $sitpn$, $b$, $d$, $\gamma$, $\Delta$, $\sigma_e$,
  $E_c$, $E_p$, $\tau$, $s$, $s'$, $\sigma$, $\sigma_{\downarrow}$,
  $\sigma'$ that verify the hypotheses of
  Definition~\ref{def:fe-hyps},}


\begin{lemma}[Falling edge equal marking]
  \label{lem:fe-equal-marking}
  \fehyps{} then
  $\forall{}p\in{}P,id_p\in{}Comps(\Delta)~s.t.~\gamma(p)=id_p,$
  $~s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.
\end{lemma}

\begin{niproof}
  Given a $p\in{}P$ and an $id\in{}Comps(\Delta)$
  s.t. $\gamma(p)=id_p$, let us show\\
  \fbox{$s'.M(p)=\sigma'(id_p)(\texttt{s\_marking})$.}

  By definition of
  $E_c,\tau\vdash{}sitpn,s\xrightarrow{\downarrow}s'$, we can deduce
  $s.M(p)=s'.M(p)$.

  By property of the \hvhdl{} falling edge relation, the stabilize
  relation and \InCsCompP, and through the examination of the
  \texttt{marking} process defined in the \texttt{place} design
  architecture, we can deduce
  $\sigma'(id_p)(\texttt{s\_marking})=\sigma(id_p)(\texttt{s\_marking})$.

  Rewriting the goal with $s.M(p)=s'.M(p)$ and
  $\sigma'(id_p)(\texttt{sm})=\sigma(id_p)(\texttt{sm})$:\\
  \fbox{$s.M(p)=\sigma(id_p)(\texttt{sm})$.}

  \noindent{}By definition of
  $\gamma,E_c,\tau\vdash{}s\stackrel{\downarrow}{\approx}\sigma$:
  \qedbox{$s.M(p)=\sigma(id_p)(\texttt{sm})$.}
  
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL OUTPUT TOKEN SUM LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal output token sum]
  \label{lem:fe-equal-ots}
  \fehyps{} then $\forall{}p,id_p~s.t.~\gamma(p)=id_p$,
  $\sum\limits_{t\in{}Fired(s')}pre(p,t)=\sigma'(id_p)(\texttt{s\_output\_token\_sum})$.
\end{lemma}

\begin{niproof}
  Given a $p\in{}P$ and an $id_p\in{}Comps(\Delta)$, let us show\\
  \fbox{$\sum\limits_{t\in{}Fired(s')}pre(p,t)=\sigma'(id_p)(\texttt{s\_output\_token\_sum})$.}

  \exP{}
  
  By property of the stabilize relation, \InCsCompP{}, and through the
  examination of the \texttt{output_tokens_sum} process defined in the
  place design architecture:
  \begin{equation}
    \label{eq:sots-at-fe}
    \sigma'(id_p)(\texttt{sots})=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{oan})-1}
    \begin{cases}
      \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~(\sigma'(id_p)(\texttt{otf})[i]~ \\
      \hspace{19.5ex}.~\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}) \\
      0~otherwise \\
    \end{cases}
  \end{equation}

  Rewriting the goal with \eqref{eq:sots-at-fe}:\\
  \begin{equation*}
    \fbox{$
      \sum\limits_{t\in{}Fired(s')}pre(p,t)=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{oan})-1}
      \begin{cases}
        \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~(\sigma'(id_p)(\texttt{otf})[i]~ \\
        \hspace{19.5ex}.~\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}) \\
        0~otherwise \\
      \end{cases}$}
  \end{equation*}

  \noindent{}Let us unfold the definition of the left sum term:\\
  \fbox{
    {\begin{tabular}{c}
       $\sum\limits_{t\in{}Fired(s')}
       \begin{cases}
         \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
         0~otherwise
       \end{cases}$ \\
       $=$ \\
       $\sum\limits_{i=0}^{\Delta(id_p)(\texttt{oan})-1}
       \begin{cases}
         \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~(\sigma'(id_p)(\texttt{otf})[i]~ \\
         \hspace{19.5ex}.~\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}) \\
         0~otherwise \\
       \end{cases}$ \\
     \end{tabular}}
 }\\

 \noindent{}To ease the reading, let us define functions
 $f\in{}Fired(s')\rightarrow\mathbb{N}$ and
 $g\in[0,\vert{}output(p)\vert-1]\rightarrow\mathbb{N}$ s.t.
 $f(t)=\begin{cases}
   \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
   0~otherwise
 \end{cases}$\\ and $g(i)=\begin{cases}
   \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~(\sigma'(id_p)(\texttt{otf})[i]~ \\
   \hspace{19.5ex}.~\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}) \\
   0~otherwise \\
 \end{cases}$

 \noindent{}Then, the goal is: \fbox{$\sum\limits_{t\in{}Fired(s')}f(t)=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{oan})-1}g(i)$}\\

 \noindent{}Let us perform case analysis on $output(p)$; there are two cases:

 \begin{itemize}
 \item \textbf{CASE} $output(p)=\emptyset$:
   
   By construction,
   ${<}$\texttt{output\_arcs\_number}$\mathtt{\Rightarrow{}1}{>}\in{}g_p$,
   ${<}$\texttt{output\_arcs\_types(0)}$\Rightarrow{}\mathtt{basic}{>}\in{}i_p$,
   ${<}$\texttt{output\_transitions\_fired(0)}$\Rightarrow{}\mathtt{true}{>}\in{}i_p$,
   and
   ${<}$\texttt{output\_arcs\_weights(0)}$\mathtt{\Rightarrow{}0}{>}\in{}i_p$.

   By property of the elaboration relation and \InCsCompP, we can
   deduce $\Delta(id_p)(\texttt{oan})=1$.

   By property of the stabilize relation and \InCsCompP, we can deduce
   $\sigma'(id_p)(\texttt{oat})[0]=\mathtt{basic}$,
   $\sigma'(id_p)(\texttt{otf})[0]=\mathtt{true}$ and
   $\sigma'(id_p)(\texttt{oaw})[0]=0$.

   By property of $output(p)=\emptyset$, we can deduce\\
   $\sum\limits_{t\in{}Fired(s')}
   \begin{cases}
     \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
     0~otherwise
   \end{cases}=0$

   \noindent{}Rewriting the goal with $\Delta(id_p)(\texttt{oan})=1$,
   $\sigma'(id_p)(\texttt{oat})[0]=\mathtt{basic}$,
   $\sigma'(id_p)(\texttt{otf})[0]=\mathtt{true}$,
   $\sigma'(id_p)(\texttt{oaw})[0]=0$ and $\sum\limits_{t\in{}Fired(s')}
   \begin{cases}
     \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
     0~otherwise
   \end{cases}=0$, \qedbox{tautology.}
   
 \item \textbf{CASE} $output(p)\neq\emptyset$:\\

   \noindent{}By construction,
   ${<}\mathtt{oan\Rightarrow{}}\vert{}output(p)\vert{>}\in{}g_p$, and
   by property of the elaboration relation, we can deduce
   $\Delta(id_p)(\texttt{oan})=\vert{}output(p)\vert$.
   
   Rewriting the goal with
   $\Delta(id_p)(\texttt{oan})=\vert{}output(p)\vert$:
   \fbox{$\sum\limits_{t\in{}Fired(s')}f(t)=\sum\limits_{i=0}^{\vert{}output(p)\vert-1}g(i)$.}

   There exists a mapping, given by the transformation function,
   between the set $output(p)$ and $[0,\vert{}output(p)\vert-1]$.

   Let $\beta\in{}output(p)\rightarrow[0,\vert{}output(p)\vert-1]$ be
   that mapping.

   To prove the current goal, it suffices to show that, for all
   $t\in{}Fired(s')$, if $t\in{}output(p)$ then $f(t)=g(\beta(t))$,
   and $f(t)=0$ otherwise.

   Given a $t\in{}Fired(s')$, there are two points to prove:

   \begin{enumerate}
   \item Assuming that $t\in{}output(p)$, show $f(t)=g(\beta(t))$.
   \item Assuming that $t\notin{}output(p)$, show $f(t)=0$.
   \end{enumerate}

   \begin{enumerate}
   \item Assuming that $t\in{}output(p)$, let us show
     \fbox{$f(t)=g(\beta(t))$.}

     Replacing the terms $f(t)$ and $g(\beta(t))$ by their full
     definition, let us show

     \fbox{ {\begin{tabular}{c}
               $\begin{cases}
                 \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
                 0~otherwise
               \end{cases}$ \\
               $=$ \\
               $\begin{cases}
                 \sigma'(id_p)(\texttt{oaw})[\beta(t)]~\mathtt{if}~(\sigma'(id_p)(\texttt{otf})[\beta(t)]~ \\
                 \hspace{19.5ex}.~\sigma'(id_p)(\texttt{oat})[\beta(t)]=\mathtt{basic}) \\
                 0~otherwise \\
               \end{cases}$ \\         
        \end{tabular}}
    }\\

    As $t\in{}output(p)$, there exist a weight $\omega\in\mathbb{N}$
    and an arc type
    $a\in\{\mathtt{basic},\mathtt{test},\mathtt{inhib}\}$ such that
    $pre(p,t)=(\omega,a)$.

    By construction, we have:    
    \begin{itemize}
    \item
      ${<}\mathtt{oat(}\beta(t)\mathtt{)\Rightarrow{}}a{>}\in{}i_p$
    \item
      ${<}\mathtt{oaw(}\beta(t)\mathtt{)\Rightarrow{}}\omega{>}\in{}i_p$
    \end{itemize}

    By property of the stabilize relation and
    ${<}\mathtt{oat(}\beta(t)\mathtt{)\Rightarrow{}}a{>}\in{}i_p$, we
    have $\sigma'(id_p)(\texttt{oat})[\beta(t)]=a$.
    
    Let us perform case analysis of the value of $a$; there are two
    cases:

    \begin{itemize}
    \item \textbf{CASE} $a=\mathtt{inhib}$ or $a=\mathtt{test}$:

      In that case, $pre(p,t)\neq(\omega,\mathtt{basic})$ and
      $\sigma'(id_p)(\texttt{oat})[\beta(t)]\neq{}\mathtt{basic}$.
      
      Thus, the goal can be rewritten as follows: \fbox{$0=0$},
      \qedbox{tautology.}
      
    \item \textbf{CASE} $a=\mathtt{basic}$:

      In that case, $pre(p,t)=(\omega,\mathtt{basic})$ and
      $\sigma'(id_p)(\texttt{oat})[\beta(t)]=\mathtt{basic}$.

      Thus, the goal can be rewritten as follows:

      \fbox{ 
        $\omega=\begin{cases}
          \sigma'(id_p)(\texttt{oaw})[\beta(t)]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[\beta(t)]~ \\
          0~otherwise \\
        \end{cases}$        
      }\\

      By property of the stabilize relation and
      ${<}\mathtt{oaw(}\beta(t)\mathtt{)\Rightarrow{}}\omega{>}\in{}i_p$,
      we have $\sigma'(id_p)(\texttt{oaw})[\beta(t)]=\omega$. Thus,
      the goal can be rewritten as follows:

      \fbox{ $\omega=\begin{cases}
          \omega~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[\beta(t)]~ \\
          0~otherwise \\
        \end{cases}$        
      }\\

      By construction, there exists an $id_{ft}\in{}Sigs(\Delta)$ such
      that:
      \begin{itemize}
      \item ${<}\mathtt{fired\Rightarrow}id_{ft}{>}\in{}o_t$
      \item
        ${<}\mathtt{otf(}\beta(t)\mathtt{)\Rightarrow{}id_{ft}}{>}\in{}i_p$
      \end{itemize}
      
      Let us take an $id_{ft}\in{}Sigs(\Delta)$ that verifies the
      above properties.
      
      By property of the stabilize relation,
      ${<}\mathtt{fired\Rightarrow{}id_{ft}}{>}\in{}o_t$ and
      ${<}\mathtt{otf(}\beta(t)\mathtt{)\Rightarrow{}id_{ft}}{>}\in{}i_p$
      , we can deduce
      $\sigma'(id_p)(\texttt{otf})[\beta(t)]=\sigma'(id_{ft})=\sigma'(id_t)(\texttt{fired})$.

      Thus, the goal can be rewritten as follows:

      \fbox{ $\omega=\begin{cases}
          \omega~\mathtt{if}~\sigma'(id_t)(\texttt{fired}) \\
          0~otherwise \\
        \end{cases}$        
      }\\

      Appealing to Lemma~\ref{lem:fe-equal-fired}, from
      $t\in{}Fired(s')$, we can deduce
      $\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.

      Thus, the goal can be rewritten as follows:
      \fbox{$\omega=\omega$}, \qedbox{tautology.}
      
    \end{itemize}

  \item Assuming that $t\notin{}output(p)$, let us show
    \fbox{$f(t)=0$.}

    Replacing the term $f(t)$ by its full definition, let us show

    \fbox{ 
      $\begin{cases}
        \omega~\mathtt{if}~pre(p,t)=(\omega,\mathtt{basic}) \\
        0~otherwise
      \end{cases}=0$
    }\\

    As $t\notin{}output(p)$, then
    $pre(p,t)\neq(\omega,\mathtt{basic})$, and we can rewrite the goal
    as follows: \fbox{$0=0$}, \qedbox{tautology.}    
  \end{enumerate}
   
 \end{itemize}
 
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL INPUT TOKEN SUM LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal input token sum]
  \label{lem:fe-equal-its}
  \fehyps{} then $\forall{}p,id_p~s.t.~\gamma(p)=id_p$,
  $~\sum\limits_{t\in{}Fired(s')}post(t,p)=\sigma'_p(\texttt{s\_input\_token\_sum})$.
\end{lemma}

\begin{niproof}
  Given a $p\in{}P$ and an $id_p\in{}Comps(\Delta)$, let us show\\
  \fbox{$\sum\limits_{t\in{}Fired(s')}post(t,p)=\sigma'(id_p)(\texttt{s\_input\_token\_sum})$.}\\

  \exP{}
  
  By property of the stabilize relation, \InCsCompP, and through the
  examination of the \texttt{input_tokens_sum} process defined in the
  place design architecture:
  \begin{equation}
    \label{eq:sits-at-fe}
    \sigma'(id_p)(\texttt{sits})=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}
    \begin{cases}
      \sigma'(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[i]\\
      0~otherwise \\
    \end{cases}
  \end{equation}

  Rewriting the goal with \eqref{eq:sits-at-fe}:\\
  \begin{equation*}
    \fbox{$
      \sum\limits_{t\in{}Fired(s')}post(t,p)=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}
      \begin{cases}
        \sigma'(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i]\\
        0~otherwise \\
      \end{cases}$}
  \end{equation*}

  Let us unfold the definition of the left sum term:\\
  \begin{frameb}
    \begin{tabular}{c} $\sum\limits_{t\in{}Fired(s')}
      \begin{cases}
        \omega~\mathtt{if}~post(t,p)=\omega \\
        0~otherwise
      \end{cases}$ \\
      $=$ \\
      $\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}
      \begin{cases}
        \sigma'(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[i]\\
        0~otherwise \\
      \end{cases}$ \\
    \end{tabular}
  \end{frameb}
  
  Let us perform case analysis on $input(p)$; there are two cases:
  
  \begin{itemize}
  \item \textbf{CASE} $input(p)=\emptyset$:\\
    
    By construction,
    ${<}$\texttt{input\_arcs\_number}$\mathtt{\Rightarrow{}1}{>}\in{}g_p$,\\
    ${<}$\texttt{input\_transitions\_fired(0)}$\Rightarrow{}\mathtt{true}{>}\in{}i_p$,
    and\\
    ${<}$\texttt{input\_arcs\_weights(0)}$\mathtt{\Rightarrow{}0}{>}\in{}i_p$.

    By property of the elaboration relation and \InCsCompP, we can
    deduce $\Delta(id_p)(\texttt{ian})=1$.
    
    By property of the stabilize relation and \InCsCompP, we can deduce
    $\sigma'(id_p)(\texttt{itf})[0]=\mathtt{true}$ and
    $\sigma'(id_p)(\texttt{iaw})[0]=0$.

    By property of $input(p)=\emptyset$, we can deduce
    $\sum\limits_{t\in{}Fired(s')}
    \begin{cases}
      \omega~\mathtt{if}~post(t,p)=\omega \\
      0~otherwise
    \end{cases}=0$.

    \noindent{}Rewriting the goal with $\Delta(id_p)(\texttt{ian})=1$,
    $\sigma'(id_p)(\texttt{itf})[0]=\mathtt{true}$,
    $\sigma'(id_p)(\texttt{iaw})[0]=0$, and $\sum\limits_{t\in{}Fired(s')}
    \begin{cases}
      \omega~\mathtt{if}~post(t,p)=\omega \\
      0~otherwise
    \end{cases}=0$, and simplifying the goal: \qedbox{tautology.}
    
  \item \textbf{CASE} $input(p)\neq\emptyset$:

    \noindent{}By construction,
    ${<}\mathtt{ian\Rightarrow{}}\vert{}input(p)\vert{>}\in{}g_p$, and
    by property of the elaboration relation, we can deduce
    \label{eq:24}$\Delta(id_p)(\texttt{ian})=\vert{}input(p)\vert$.

    \noindent{}To ease the reading, let us define functions
    $f\in{}Fired(s')\rightarrow\mathbb{N}$ and
    $g\in[0,\vert{}input(p)\vert-1]\rightarrow\mathbb{N}$ s.t.
    $f(t)=\begin{cases}
      \omega~\mathtt{if}~post(t,p)=\omega \\
      0~otherwise
    \end{cases}$ and $g(i)=\begin{cases}
      \sigma'(id_p)(\texttt{iaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[i]\\
      0~otherwise \\
    \end{cases}$

    \noindent{}Then, the goal is: \fbox{$\sum\limits_{t\in{}Fired(s')}f(t)=\sum\limits_{i=0}^{\Delta(id_p)(\texttt{ian})-1}g(i)$}\\
    
    Rewriting the goal with $\Delta(id_p)(\texttt{ian})=\vert{}input(p)\vert$:
    \fbox{$\sum\limits_{t\in{}Fired(s')}f(t)=\sum\limits_{i=0}^{\vert{}input(p)\vert-1}g(i)$.}

    There exists a mapping, given by the transformation function,
    between the set $input(p)$ and $[0,\vert{}input(p)\vert-1]$.

    Let $\beta\in{}input(p)\rightarrow[0,\vert{}input(p)\vert-1]$ be
    that mapping.

    To prove the current goal, it suffices to show that, for all
    $t\in{}Fired(s')$, if $t\in{}input(p)$ then $f(t)=g(\beta(t))$,
    and $f(t)=0$ otherwise.

    Given a $t\in{}Fired(s')$, there are two points to prove:

    \begin{enumerate}
    \item Assuming that $t\in{}input(p)$, show $f(t)=g(\beta(t))$.
    \item Assuming that $t\notin{}input(p)$, show $f(t)=0$.
    \end{enumerate}

    \begin{enumerate}
    \item Assuming that $t\in{}input(p)$, let us show
      \fbox{$f(t)=g(\beta(t))$.}

      Replacing the terms $f(t)$ and $g(\beta(t))$ by their full
      definition, let us show

      \fbox{ {\begin{tabular}{c} $\begin{cases}
              \omega~\mathtt{if}~post(t,p)=\omega \\
              0~otherwise
            \end{cases}$ \\
                $=$ \\
                $\begin{cases}
                  \sigma'(id_p)(\texttt{iaw})[\beta(t)]~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[\beta(t)] \\
                  0~otherwise \\
                \end{cases}$ \\         
              \end{tabular}}
          }\\

          As $t\in{}input(p)$, there exist a weight
          $\omega\in\mathbb{N}^{*}$ such that $post(t,p)=\omega$. Let
          us take such an $\omega$. Thus, the goal can be rewritten as
          follows:
          
          \fbox{ 
            $\omega=\begin{cases}
              \sigma'(id_p)(\texttt{iaw})[\beta(t)]~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[\beta(t)]~ \\
              0~otherwise \\
            \end{cases}$        
          }\\
          
          By construction, we have
          ${<}\mathtt{iaw(}\beta(t)\mathtt{)\Rightarrow{}}\omega{>}\in{}i_p$,
          and by property of the stabilize relation, we can deduce
          $\sigma'(id_p)(\texttt{iaw})[\beta(t)]=\omega$. Thus, the
          goal can be rewritten as follows:

          \fbox{ $\omega=\begin{cases}
              \omega~\mathtt{if}~\sigma'(id_p)(\texttt{itf})[\beta(t)]~ \\
              0~otherwise \\
            \end{cases}$        
          }\\
          
          By construction, there exists an $id_{ft}\in{}Sigs(\Delta)$
          such that:
          \begin{itemize}
          \item ${<}\mathtt{fired\Rightarrow}id_{ft}{>}\in{}o_t$
          \item
            ${<}\mathtt{itf(}\beta(t)\mathtt{)\Rightarrow{}id_{ft}}{>}\in{}i_p$
          \end{itemize}
          
          Let us take an $id_{ft}\in{}Sigs(\Delta)$ that verifies the
          above properties.
          
          By property of the stabilize relation,
          ${<}\mathtt{fired\Rightarrow{}id_{ft}}{>}\in{}o_t$ and
          ${<}\mathtt{itf(}\beta(t)\mathtt{)\Rightarrow{}id_{ft}}{>}\in{}i_p$,
          we can deduce
          $\sigma'(id_p)(\texttt{itf})[\beta(t)]=\sigma'(id_{ft})=\sigma'(id_t)(\texttt{fired})$.

          Thus, the goal can be rewritten as follows:

          \fbox{ $\omega=\begin{cases}
              \omega~\mathtt{if}~\sigma'(id_t)(\texttt{fired}) \\
              0~otherwise \\
            \end{cases}$        
          }\\

          Appealing to Lemma~\ref{lem:fe-equal-fired}, from
          $t\in{}Fired(s')$, we can deduce
          $\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.

          Thus, the goal can be rewritten as follows:
          \fbox{$\omega=\omega$}, \qedbox{tautology.}
          
        \item Assuming that $t\notin{}input(p)$, let us show
          \fbox{$f(t)=0$.}

          Replacing the term $f(t)$ by its full definition, let us show

          \fbox{ $\begin{cases}
              \omega~\mathtt{if}~post(t,p)=\omega \\
              0~otherwise
            \end{cases}=0$
          }\\

          As $t\notin{}output(p)$, then $post(t,p)\neq\omega$, and we
          can rewrite the goal as follows: \fbox{$0=0$},
          \qedbox{tautology.}
          
        \end{enumerate}
      \end{itemize}
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL TIME COUNTERS %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Falling edge and time counters}
\label{sec:fe-equal-tc}

\begin{lemma}[Falling edge equal time counters]
  \label{lem:fe-equal-tc}
  \fehyps{} then $\forall{}t\in{}T_i,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$\\
  $\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
  $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow{}\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
  $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow{}\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
  $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T_i$ and an $id_t\in{}Comps(\Delta)$ s.t. $\gamma(t)=id_t$, let us show\\
  \fbox{\parbox{\lwidth}{$\big(u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$\\
      $\land\big(u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))\big)$\\
      $\land\big(u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow$
      $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})\big)$}}\\

  \exT{}

  \noindent{}By property of the elaboration, \hvhdl{} rising edge and
  stabilize relations, \InCsCompT{}, and through the examination of
  the \texttt{time_counter} process defined in the transition design
  architecture, we can deduce:
  \begin{equation}
    \begin{split}
      \sigma(id_t)(\texttt{se})=\mathtt{true}\land\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMPORAL}
      \land\sigma(id_t)(\texttt{srtc})=\mathtt{false}\\
      \land\sigma(id_t)(\texttt{stc})<\Delta(id_t)(\texttt{mtc})\Rightarrow
      \sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})+1
    \end{split}
    \label{eq:etnrlt}
  \end{equation}

  \begin{equation}
    \begin{split}
      \sigma(id_t)(\texttt{se})=\mathtt{true}\land\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMPORAL}
      \land\sigma(id_t)(\texttt{srtc})=\mathtt{false}\\
      \land\sigma(id_t)(\texttt{stc})\ge\Delta(id_t)(\texttt{mtc})\Rightarrow
      \sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})
    \end{split}
    \label{eq:etnrge}
  \end{equation}

  \begin{equation}
    \begin{split}
      \sigma(id_t)(\texttt{se})=\mathtt{true}\land\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMPORAL}\\
      \land\sigma(id_t)(\texttt{srtc})=\mathtt{true}\Rightarrow
      \sigma'(id_t)(\texttt{stc})=1
    \end{split}
    \label{eq:etr}
  \end{equation}

  \begin{equation}
    \begin{split}
      \sigma(id_t)(\texttt{se})=\mathtt{false}\lor\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMPORAL}\Rightarrow
      \sigma'(id_t)(\texttt{stc})=0
    \end{split}
    \label{eq:ne-or-nt}
  \end{equation}
  
  \noindent{}Then, there are 4 points to show:

  \begin{enumerate}
  \item\label{it:fe-eq-tc-fst}
    \fbox{$u(I_s(t))=\infty\land{}s'.I(t)\le{}l(I_s(t))\Rightarrow{}s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$}\\
    
    Assuming $u(I_s(t))=\infty$ and
    $s'.I(t)\le{}l(I_s(t))$, let us show\\
    \fbox{$s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$.}

    Let us perform case analysis on $t\in{}Sens(s.M)$; there are two
    cases:

    \begin{enumerate}
    \item \textbf{CASE} $t\notin{}Sens(s.M)$:\\
      By definition of \upSim, we can deduce
      $\sigma(id_t)(\texttt{se})=\mathtt{false}$.

      Appealing to \eqref{eq:ne-or-nt} and
      $\sigma(id_t)(\texttt{se})=\mathtt{false}$, we can deduce
      $\sigma'(id_t)(\texttt{stc})=0$.

      By definition of \dwSitpn{} (Rule~\ref{it:reset-counters}), we
      can deduce $s'.I(t)=0$.

      Rewriting the goal with $\sigma'(id_t)(\texttt{stc})=0$ and
      $s'.I(t)=0$: \qedbox{tautology.}
      
    \item \textbf{CASE} $t\in{}Sens(s.M)$:
      
      By definition of \upSim, we can deduce
      $\sigma(id_t)(\texttt{se})=\mathtt{true}$.

      By construction, and as $u(I_s(t))=\infty$, we have
      ${<}\mathtt{tt\Rightarrow{}TEMP\_A\_INF}{>}\in{}g_t$. By
      property of the elaboration relation, we have
      $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}$.

      Let us perform case analysis on $s.reset_t(t)$; there are two
      cases:
      \begin{enumerate}
      \item \textbf{CASE} $s.reset_t(t)=\mathtt{true}$:

        By definition of \upSim, $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$.

        Appealing to \eqref{eq:etr},
        $\sigma(id_t)(\texttt{se})=\mathtt{true}$,
        $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}$ and\\
        $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$, we can deduce
        $\sigma'(id_t)(\texttt{stc})=1$.

        By definition of \dwSitpn (Rule~\ref{it:reset-counters}), we
        can deduce $s'.I(t)=1$.

        Rewriting the goal with $\sigma'(id_t)(\texttt{stc})=1$ and
        $s'.I(t)=1$: \qedbox{tautology.}

      \item \textbf{CASE} $s.reset_t(t)=\mathtt{false}$:
        
        By definition of \upSim, we have
        $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$.

        As $u(I_s(t))=\infty$, there exists an
        $a\in\mathbb{N}^{*}$ s.t. $I_s(t)=[a,\infty]$. Let us take
        such an $a\in\mathbb{N}^{*}$. By construction,
        ${<}\mathtt{maximal\_time\_counter\Rightarrow}~a{>}\in{}g_t$,
        and by property of the elaboration relation, we have
        $\Delta(id_t)(\texttt{mtc})=a$.

        By definition of \dwSitpn (Rule~\ref{it:inc-counters}), and
        knowing that $t\in{}Sens(s.M)$, $s.reset_t(t)=\mathtt{false}$
        and $u(I_s(t))=\infty$, we can deduce $s'.I(t)=s.I(t)+1$.

        Rewriting the goal with $s'.I(t)=s.I(t)+1$:
        \fbox{$s.I(t)+1=\sigma'(id_t)(\texttt{stc})$.}
        
        We assumed that $s'.I(t)\le{}l(I_s(t))$, and as
        $s'.I(t)=s.I(t)+1$, then $s.I(t)+1\le{}l(I_s(t))$, then
        $s.I(t)<l(I_s(t))$, then $s.I(t)<a$ since
        $a=l(I_s(t))$.

        \noindent{}By definition of
        $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$,
        and knowing that $s.I(t)<l(I_s(t))$ and\\
        $u(I_s(t))=\infty$, we can deduce
        $s.I(t)=\sigma(id_t)(\texttt{stc})$.

        Appealing to $\Delta(id_t)(\texttt{mtc})=a$,
        $s.I(t)=\sigma(id_t)(\texttt{stc})$ and $s.I(t)<a$, we can deduce
        $\sigma(id_t)(\texttt{stc})<\Delta(id_t)(\texttt{mtc})$.
        
        Appealing to \eqref{eq:etnrlt},
        $\sigma(id_t)(\texttt{stc})<\Delta(id_t)(\texttt{mtc})$,
        $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$ and\\
        $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce:
        $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})+1$.

        Rewriting the goal with
        $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})+1$ and
        $s.I(t)=\sigma(id_t)(\texttt{stc})$: \qedbox{tautology.}
      \end{enumerate}
    \end{enumerate}
    
  \item
    \fbox{$u(I_s(t))=\infty\land{}s'.I(t)>{}l(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t)$.}

    Assuming that $u(I_s(t))=\infty$ and
    $s'.I(t)>{}l(I_s(t))$, let us show\\
    \fbox{$\sigma'(id_t)(\texttt{s\_time\_counter})=l(I_s(t))$.}

    As $u(I_s(t))=\infty$, there exists an $a\in\mathbb{N}^{*}$
    s.t. $I_s(t)=[a,\infty]$. Let us take such an
    $a\in\mathbb{N}^{*}$.

    By construction,
    ${<}$\texttt{maximal\_time\_counter}$\Rightarrow{}a{>}\in{}g_t$,
    and
    ${<}$\texttt{transition\_type}$\Rightarrow{}$\texttt{TEMP\_A\_INF}${>}\in{}g_t$
    by property of the elaboration relation, we can deduce
    $\Delta(id_t)(\texttt{mtc})=a$ and
    $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}$.
    
    Let us perform case analysis on $t\in{}Sens(s.M)$:
    \begin{enumerate}
    \item \textbf{CASE} $t\notin{}Sens(s.M)$:
      
      By definition of $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
      (Rule~\ref{it:reset-not-sens}), and knowing that
      $t\in{}Sens(s.M)$, we can deduce $s'.I(t)=0$. Since
      $l(I_s(t))\in\mathbb{N}^{*}$, then $l(I_s(t))>0$.
      
      \qedbox{Contradicts $s'.I(t)>l(I_s(t))$.}
      
    \item \textbf{CASE} $t\in{}Sens(s.M)$:
      
      By definition of
      $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\sim}\sigma$ and
      $t\in{}Sens(s.M)$, we can deduce
      $\sigma(id_t)(\texttt{se})=\mathtt{true}$.

      Let us perform case analysis on $s.reset_t(t)$; there are two
      cases:
      \begin{enumerate}
      \item \textbf{CASE} $s.reset_t(t)=\mathtt{true}$:
        
        By definition of
        $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$: $s'.I(t)=1$.

        We assumed that $s'.I(t)>l(I_s(t))$, then
        $1>l(I_s(t))$.

        \qedbox{Contradicts $l(I_s(t))>0$.}

      \item \textbf{CASE} $s.reset_t(t)=\mathtt{false}$:
        
        By property of
        $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$
        and $s.reset_t(t)=\mathtt{false}$, we can deduce
        $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$.

        By definition of $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
        (Rule~\ref{it:inc-counters}), and knowing that
        $s'.I(t)>l(I_s(t))$, we can deduce
        \begin{equation*}
          \begin{split}
            s'.I(t)=s.I(t)+1&\Rightarrow{}s.I(t)+1>l(I_s(t))\\
            & \Rightarrow{}s.I(t)\ge{}l(I_s(t))\\
          \end{split}
        \end{equation*}

        Let us perform case analysis on $s.I(t)\ge{}l(I_s(t))$:
        \begin{enumerate}
        \item \textbf{CASE} $s.I(t)>l(I_s(t))$: \fbox{$\sigma'(id_t)(\texttt{stc})=l(I_s(t))$.}\\
          By definition of
          $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$,
          we can deduce $\sigma(id_t)(\texttt{stc})=l(I_s(t))$.

          Appealing to \eqref{eq:etnrge}, we can deduce
          $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$.

          Rewriting the goal with
          $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$ and
          $\sigma(id_t)(\texttt{stc})=l(I_s(t))$: \qedbox{tautology.}
          
        \item \textbf{CASE} $s.I(t)=l(I_s(t))$: \fbox{$\sigma'(id_t)(\texttt{stc})=l(I_s(t))$.}\\
          By definition of
          $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$,
          we can deduce $s.I(t)=\sigma(id_t)(\texttt{stc})$.

          Appealing to \eqref{eq:etnrge}, we can deduce
          $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$.

          Rewriting the goal with
          $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$,
          $s.I(t)=\sigma(id_t)(\texttt{stc})$ and $s.I(t)=l(I_s(t))$:
          \qedbox{tautology.}
        \end{enumerate}
      \end{enumerate}
    \end{enumerate}
  \item
    \fbox{$u(I_s(t))\neq\infty\land{}s'.I(t)>{}u(I_s(t))\Rightarrow$
      $\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))$.}

    Assuming that $u(I_s(t))\neq\infty$ and
    $s'.I(t)>{}u(I_s(t))$, let us show \\
    \fbox{$\sigma'(id_t)(\texttt{s\_time\_counter})=u(I_s(t))$.}

    As $u(I_s(t))\neq\infty$, there exists an
    $a\in\mathbb{N}^{*}$, and a $b\in\mathbb{N}^{*}$
    s.t. $I_s(t)=[a,b]$. Let us take such an $a$ and $b$.

    By construction,
    ${<}\mathtt{maximal\_time\_counter\Rightarrow}b{>}\in{}g_t$ and
    there exists \\$tt\in\{\mathtt{TEMP\_A\_A,TEMP\_A\_B\}}$ s.t.
    ${<}\mathtt{transition\_type\Rightarrow}tt{>}\in{}g_t$.

    By property of the elaboration relation and \InCsCompT, we can
    deduce $\Delta(id_t)(\texttt{mtc})=b=u(I_s(t))$ and
    $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$.

    Let us perform case analysis on $t\in{}Sens(s.M)$:
      \begin{enumerate}
      \item \textbf{CASE} $t\notin{}Sens(s.M)$:\\
        By definition of $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
        (Rule~\ref{it:reset-not-sens}), and knowing that
        $t\in{}Sens(s.M)$, then $s'.I(t)=0$. Since
        $u(I_s(t))\in\mathbb{N}^{*}$, then $u(I_s(t))>0$.
        
        \qedbox{Contradicts $s'.I(t)>u(I_s(t))$.}
        
      \item \textbf{CASE} $t\in{}Sens(s.M)$:\\
        By definition of
        $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$
        and $t\in{}Sens(s.M)$, we can deduce
        $\sigma(id_t)(\texttt{se})=\mathtt{true}$.

        Let us perform case analysis on $s.reset_t(t)$; there are two
        cases:
        \begin{enumerate}
        \item \textbf{CASE} $s.reset_t(t)=\mathtt{true}$:\\
          By definition of
          $E_c,\tau\vdash{}s\xrightarrow{\downarrow}s'$
          (Rule~\ref{it:reset-counters}), we can deduce $s'.I(t)=1$.

          \noindent{}We assumed that $s'.I(t)>u(I_s(t))$, then we
          can deduce $1>u(I_s(t))$.

          \qedbox{Contradicts $u(I_s(t))>0$.}

        \item \textbf{CASE} $s.reset_t(t)=\mathtt{false}$:\\
          By property of
          $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$
          and $s.reset_t(t)=\mathtt{false}$, we can deduce
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$.
          
          Let us perform case analysis on $s.I(t)>{}u(I_s(t))$ or
          $s.I(t)\le{}u(I_s(t))$:
          \begin{enumerate}
          \item \textbf{CASE} $s.I(t)>u(I_s(t))$: \fbox{$\sigma'(id_t)(\texttt{stc})=u(I_s(t))$.}\\
            By definition of \dwSitpn (Rule~\ref{it:locked-counters}),
            we can deduce $s'.I(t)=s.I(t)$.
            
            By definition of
            $\gamma,E_c,\tau\vdash{}s\stackrel{\uparrow}{\approx}\sigma$,
            we can deduce $\sigma(id_t)(\texttt{stc})=u(I_s(t))$.

            Appealing to \eqref{eq:etnrge}, we have
            $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$.

            Rewriting the goal with
            $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$ and
            $\sigma(id_t)(\texttt{stc})=u(I_s(t))$: \qedbox{tautology.}
            
          \item \textbf{CASE} $s.I(t)\le{}u(I_s(t))$: \fbox{$\sigma'(id_t)(\texttt{stc})=u(I_s(t))$.}\\

            By definition of \upSim, we can deduce
            $s.I(t)=\sigma(id_t)(\texttt{stc})$.
            
            Let us perform case analysis on
            $s.I(t)\le{}u(I_s(t))$; there are two cases:
            \begin{itemize}
            \item \textbf{CASE} $s.I(t)=u(I_s(t))$:\\

              Appealing to $\Delta(id_t)(\texttt{mtc})=b=u(I_s(t))$,
              $s.I(t)=\sigma(id_t)(\texttt{stc})$ and $s.I(t)=u(I_s(t))$,
              we can deduce
              $\Delta(id_t)(\texttt{mtc})\le\sigma(id_t)(\texttt{stc})$.

              Appealing to $\Delta(id_t)(\texttt{mtc})\le\sigma(id_t)(\texttt{stc})$
              and \eqref{eq:etnrge}, we can deduce\\
              $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$.

              Rewriting the goal with
              $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})$,
              $s.I(t)=\sigma(id_t)(\texttt{stc})$ and $s.I(t)=u(I_s(t))$:
              \qedbox{tautology.}
              
            \item \textbf{CASE} $s.I(t)<u(I_s(t))$:\\
              
              By definition of \dwSitpn (Rule~\ref{it:inc-counters}),
              we can deduce $s'.I(t)=s.I(t)+1$.

              From $s'.I(t)=s.I(t)+1$ and $s.I(t)<u(I_s(t))$, we
              can deduce $s'.I(t)\le{}u(I_s(t))$;
              \qedbox{contradicts $s'.I(t)>u(I_s(t))$.}
            \end{itemize}
          \end{enumerate}
        \end{enumerate}
      \end{enumerate}
      
    \item
      \fbox{$u(I_s(t))\neq\infty\land{}s'.I(t)\le{}u(I_s(t))\Rightarrow$
        $s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$.}

      Assuming that $u(I_s(t))\neq\infty$ and
      $s'.I(t)\le{}u(I_s(t))$, let us show\\
      \fbox{$s'.I(t)=\sigma'(id_t)(\texttt{s\_time\_counter})$.}

      As $u(I_s(t))\neq\infty$, there exists an
      $a\in\mathbb{N}^{*}$, and a $b\in\mathbb{N}^{*}$
      s.t. $I_s(t)=[a,b]$. Let us take such an $a$ and $b$.

      By construction,
      ${<}\mathtt{maximal\_time\_counter\Rightarrow}b{>}\in{}g_t$ and
      there exists $tt\in\{$\texttt{TEMP\_A\_A,TEMP\_A\_B}$\}$ s.t.
      ${<}\mathtt{transition\_type\Rightarrow}tt{>}\in{}g_t$; by
      property of the elaboration relation, we can deduce
      $\Delta(id_t)(\texttt{mtc})=b=u(I_s(t))$ and
      $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$.
      
      Let us perform case analysis on $t\in{}Sens(s.M)$:
      \begin{enumerate}
      \item \textbf{CASE} $t\notin{}Sens(s.M)$:\\
        
        By definition of \upSim, we have
        $\sigma(id_t)(\texttt{se})=\mathtt{false}$.

        \noindent{}Appealing \eqref{eq:ne-or-nt} and
        $\sigma(id_t)(\texttt{se})=\mathtt{false}$, we have
        $\sigma'(id_t)(\texttt{stc})=0$.

        By definition of \dwSitpn (Rule~\ref{it:reset-not-sens}), we
        have $s'.I(t)=0$.

        Rewriting the goal with $\sigma'(id_t)(\texttt{stc})=0$ and
        $s'.I(t)=0$: \qedbox{tautology.}
        
      \item \textbf{CASE} $t\in{}Sens(s.M)$:\\
        
        By definition of \upSim, we have
        $\sigma(id_t)(\texttt{se})=\mathtt{true}$.

        Let us perform case analysis on $s.reset_t(t)$:
        \begin{enumerate}
        \item \textbf{CASE} $s.reset_t(t)=\mathtt{true}$:\\
          
          By definition of \upSim, we have
          $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$.

          Appealing to \eqref{eq:etr},
          $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$,
          $\sigma(id_t)(\texttt{se})=\mathtt{true}$ and
          $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$, we have
          $\sigma'(id_t)(\texttt{stc})=1$.

          By definition of \dwSitpn (Rule~\ref{it:reset-counters}), we
          have $s'.I(t)=1$.

          Rewriting the goal with $\sigma'(id_t)(\texttt{stc})=1$ and
          $s'.I(t)=1$, \qedbox{tautology.}
          
        \item \textbf{CASE} $s.reset_t(t)=\mathtt{false}$:\\
          
          By definition of \upSim, we have
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$.

          Let us perform case analysis on $s.I(t)>u(I_s(t))$ or
          $s.I(t)\le{}u(I_s(t))$:
          \begin{enumerate}
          \item \textbf{CASE} $s.I(t)>u(I_s(t))$:\\
            
            By definition of \dwSitpn, we have $s.I(t)=s'.I(t)$, and
            thus, $s'.I(t)>u(I_s(t))$. \qedbox{Contradicts
              $s'.I(t)\le{}u(I_s(t))$.}
            
          \item \textbf{CASE} $s.I(t)\le{}u(I_s(t))$:\\
            
            By definition of \upSim, we have
            $s.I(t)=\sigma(id_t)(\texttt{stc})$.

            \begin{itemize}
            \item \textbf{CASE} $s.I(t)<u(I_s(t))$:\\
              From $s.I(t)<u(I_s(t))$,
              $s.I(t)=\sigma(id_t)(\texttt{stc})$ and\\
              $\Delta(id_t)(\texttt{mtc})=b=u(I_s(t))$, we can deduce
              $\sigma(id_t)(\texttt{stc})<\Delta(id_t)(\texttt{mtc})$.

              From \eqref{eq:etnrlt},
              $\sigma(id_t)(\texttt{se})=\mathtt{true}$,
              $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$,
              $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$ and
              $\sigma(id_t)(\texttt{stc})<\Delta(id_t)(\texttt{mtc})$, we can deduce\\
              $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})+1$.

              By definition of \dwSitpn (Rule~\ref{it:inc-counters}),
              we can deduce $s'.I(t)=s.I(t)+1$.

              Rewriting the goal with
              $\sigma'(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{stc})+1$ and
              $s'.I(t)=s.I(t)+1$, \qedbox{tautology.}
              
            \item \textbf{CASE} $s.I(t)=u(I_s(t))$:\\
              By definition of \dwSitpn (Rule~\ref{it:inc-counters}),
              we know that $s'.I(t)=s.I(t)+1$. We assumed that
              $s'.I(t)\le{}u(I_s(t))$; thus,
              $s.I(t)+1\le{}u(I_s(t))$.

              \qedbox{Contradicts $s.I(t)=u(I_s(t))$.}
              
            \end{itemize}
            
          \end{enumerate}
          
        \end{enumerate}
        
      \end{enumerate}
    \end{enumerate}
\end{niproof}

\subsection{Falling edge and condition values}
\label{sec:fe-cond-values}

\begin{lemma}[Falling edge equal condition values]
  \label{lem:fe-equal-cond-values}
  \fehyps{} then
  $\forall{}c\in\mathcal{C},id_c\in{}Ins(\Delta)~s.t.~\gamma(c)=id_c,~s'.cond(c)=\sigma'(id_c)$.
\end{lemma}

\begin{niproof}
  Given a $c\in\mathcal{C}$ and an $id_c\in{}Ins(\Delta)$
  s.t. $\gamma(c)=id_c$, let us show
  \fbox{$s'.cond(c)=\sigma'(id_c)$.}

  By definition of \dwSitpn (Rule~\ref{it:cond-env}), we have
  $s'.cond(c)=E_c(\tau,c)$.

  \noindent{}By definition of
  $\gamma,E_c,\tau\vdash{}s\stackrel{\downarrow}{\approx}\sigma$, we
  have $\sigma(id_c)=E_c(\tau,c)$
  
  By property of the \hvhdl{} falling edge, the stabilize relations
  and $id_c\in{}Ins(\Delta)$, we have
  $\sigma'(id_c)=\sigma(id_c)=E_c(\tau,c)$.

  \noindent{}Rewriting the goal with $s'.cond(c)=E_c(\tau,c)$ and
  $\sigma'(id_c)=E_c(\tau,c)$, \qedbox{tautology.}
  
\end{niproof}

\subsection{Falling edge and action executions}
\label{sec:fe-equal-act-exec}

\begin{lemma}[Falling edge equal action executions]
  \label{lem:fe-equal-act-exec}
  \fehyps{} then
  $\forall{}a\in\mathcal{A},id_a\in{}Outs(\Delta)~s.t.~\gamma(a)=id_a,~s'.ex(a)=\sigma'(id_a)$.
\end{lemma}

\begin{niproof}
  Given an $a\in\mathcal{A}$ and an $id_a\in{}Outs(\Delta)$
  s.t. $\gamma(a)=id_a$, let us show \fbox{$s'.ex(a)=\sigma'(id_a)$.}

  \noindent{}By property of \dwSitpn (Rule~\ref{it:activate-actions}):
  \begin{equation}
    s'.ex(a)=\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)\label{eq:fe-eq-exa}
  \end{equation}
  
  By construction, the generated \texttt{action} process is a part of
  design $d$'s behavior, i.e. there exist an
  $sl\subseteq{}Sigs(\Delta)$ and an $ss_a\in{}ss$ s.t.
  $\mathtt{ps}(\texttt{action}, \emptyset, sl, ss)\in{}d.cs$.
  
  By construction $id_a$ is only assigned in the body of the
  \texttt{action} process during the initialization or a falling edge
  phase.

  Let $pls(a)$ be the set of actions associated to action $a$, i.e.
  $pls(a)=\{p\in{}P~\vert~\mathbb{A}(p,a)=true\}$. Then, depending on
  $pls(a)$, there are two cases of assignment of output port $id_a$:
  
  \begin{itemize}
  \item \textbf{CASE} $pls(a)=\emptyset$:\\
    \noindent{}By construction,
    $\mathtt{id_a\Leftarrow{}false}\in{}ss_{a\downarrow}$ where
    $ss_{a\downarrow}$ is the part of the \texttt{``action''} process
    body executed during a falling edge phase.

    \noindent{}By property of the \hvhdl{} falling edge relation, the
    stabilize relation and\\
    $\mathtt{ps}(\texttt{action}, \emptyset, sl, ss_a)\in{}d.cs$, we can
    deduce $\sigma'(id_a)=false$.
    
    \noindent{}By property of
    $\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)$ and
    $pls(a)=\emptyset$, we can deduce
    $\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)=\mathtt{false}$.

    \noindent{}Rewriting the goal with \eqref{eq:fe-eq-exa},
    $\sigma'(id_a)=false$ and
    $\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)=\mathtt{false}$,
    \qedbox{tautology.}
    
  \item \textbf{CASE} $pls(a)\neq\emptyset$:\\
    \noindent{}By construction,
    $\mathtt{id_a\Leftarrow{}id_{mp_0}+\dots+id_{mp_n}}\in{}ss_{a\downarrow}$,
    where $id_{mp_i}\in{}Sigs(\Delta)$, $ss_{a\downarrow}$ is the part
    of the \texttt{action} process body executed during the falling
    edge phase, and $n=\vert{}pls(a)\vert-1$.

    \noindent{}By property of the
    \hvhdl{} falling edge relation, the stabilize relation, and\\
    $\mathtt{ps}(\texttt{action},$ $\emptyset,$ $sl,$ $ss)\in{}d.cs$:
    \begin{equation}
      \sigma'(id_a)=\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})\label{eq:fe-eq-ida-sum}
    \end{equation}

    Rewriting the goal with \eqref{eq:fe-eq-exa} and
    \eqref{eq:fe-eq-ida-sum}:\\
    \fbox{$\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)=\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})$.}

    Let us reason on the value of $\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})$; there are two cases:

    \begin{itemize}
    \item \textbf{CASE} $\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})=\mathtt{true}$:\\
      \noindent{}Then, we can rewrite the goal as follows:
      \fbox{$\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)=\mathtt{true}$.}

      \noindent{}To prove the above goal, let us show
      \fbox{$\exists{}p\in{}marked(s.M)~s.t.~\mathbb{A}(p,a)=\mathtt{true}$.}

      \noindent{}From
      $\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})=\mathtt{true}$, we
      can deduce that
      $\exists{}id_{mp_i}~s.t.~\sigma(id_{mp_i})=\mathtt{true}$. Let
      us take an $id_{mp_i}$ s.t. $\sigma(id_{mp_i})=\mathtt{true}$.

      \noindent{}By construction, there exist a $p\in{}pls(a)$, an
      $id_{p}\in{}Comps(\Delta)$, $g_{p}$, $i_{p}$ and
      $o_{p}$ such that:
      \begin{itemize}
      \item $\gamma(p)=id_{p}$
      \item \InCsCompP
      \item ${<}\mathtt{marked\Rightarrow{}id_{mp_i}}{>}\in{}o_{p}$
      \end{itemize}
      Let us take such a $p$, $id_{p}$, $g_{p}$, $i_{p}$ and
      $o_{p}$.

      By property of stable $\sigma$ and \InCsCompP, we can deduce
      $\sigma(id_{mp_i})=\sigma(id_{p})(\texttt{marked})$.

      By property of stable $\sigma$, \InCsCompP, and through the
      examination of the \texttt{determine_marked} process defined in
      the place design architecture, we can deduce:
      \begin{equation}
        \sigma(id_{p})(\texttt{marked})=\sigma(id_{p})(\texttt{sm})>0\label{eq:fe-gt-sm-zero}
      \end{equation}

      \noindent{}From $\sigma(id_{mp_i})=\sigma(id_{p})(\texttt{marked})$,
      \eqref{eq:fe-gt-sm-zero} and $\sigma(id_{mp_i})=\mathtt{true}$,
      we can deduce that\\ $\sigma(id_{p})(\texttt{mar\-ked})=\mathtt{true}$
      and $(\sigma(id_{p})(\texttt{sm})>0)=\mathtt{true}$.
      
      \noindent{}By property of \upSim, we have
      $s.M(p)=\sigma(id_{p})(\texttt{sm})$.
      
      \noindent{}From $s.M(p)=\sigma(id_{p})(\texttt{sm})$ and
      $(\sigma(id_{p})(\texttt{sm})>0)=\mathtt{true}$, we can deduce
      $p\in{}marked(s.M)$, i.e. $s.M(p)>0$.

      Let us use $p$ to prove the goal:
      \fbox{$\mathbb{A}(p,a)=\mathtt{true}$.}

      By definition of $p\in{}pls(a)$,
      \qedbox{$\mathbb{A}(p,a)=\mathtt{true}$.}

    \item \textbf{CASE} $\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})=\mathtt{false}$:\\
      
      Then, we can rewrite the goal as follows:
      \fbox{$\sum\limits_{p\in{}marked(s.M)}\mathbb{A}(p,a)=\mathtt{false}$.}

      \noindent{}To prove the above goal, let us show
      \fbox{$\forall{}p\in{}marked(s.M)~s.t.~\mathbb{A}(p,a)=\mathtt{false}$.}

      \noindent{}Given a $p\in{}marked(s.M)$, let us show
      \fbox{$\mathbb{A}(p,a)=\mathtt{false}$.}

      \noindent{}Let us perform case analysis on $\mathbb{A}(p,a)$;
      there are 2 cases:

      \begin{itemize}
      \item \textbf{CASE} \qedbox{$\mathbb{A}(p,a)=\mathtt{false}$.}
      \item \textbf{CASE} $\mathbb{A}(p,a)=\mathtt{true}$:\\
        By construction, there exist an $id_{p}\in{}Comps(\Delta)$,
        $g_{tp}$, $i_{p}$, $o_{p}$ and
        $id_{mp_i}\in{}Sigs(\Delta)$ such that:
        \begin{itemize}
        \item $\gamma(p)=id_{p}$
        \item \InCsCompP
        \item ${<}\mathtt{marked\Rightarrow{}id_{mp_i}}{>}\in{}o_{p}$
        \end{itemize}

        Let us take such a $id_{p}$, $g_{p}$, $i_{p}$, $o_{p}$
        and $id_{mp_i}$.

        By property of stable $\sigma$, \InCsCompP, and
        ${<}\mathtt{marked\Rightarrow{}id_{mp_i}}{>}\in{}o_{p}$, we
        can deduce $\sigma(id_{mp_i})=\sigma(id_{p})(\texttt{marked})$.

        By property of stable $\sigma$, \InCsCompP, and through the
        examination of the \texttt{determine_marked} process defined
        in the place design architecture, we can deduce:
        \begin{equation}
          \sigma(id_{p})(\texttt{marked})=(\sigma(id_{p})(\texttt{sm})>0)\label{eq:fe-eq-marked-gt-sm-zero}
        \end{equation}

        From
        $\sigma(id_{mp_0})+\dots+\sigma(id_{mp_n})=\mathtt{false}$, we
        can deduce $\sigma(id_{mp_i})=\mathtt{false}$.

        From $\sigma(id_{p})(\texttt{marked})=\mathtt{false}$, we can deduce
        $(\sigma(id_{p})(\texttt{sm})>0)=\mathtt{false}$.

        By definition of \upSim, we have $s.M(p)=\sigma(id_p)(\texttt{sm})$,
        and thus, we can deduce that $s.M(p)=0$ (equivalent to
        $(s.M(p)>0)=\mathtt{false}$).

        \noindent{}Contradicts \qedbox{$p\in{}marked(s.M)$} (i.e,
        $s.M(p)>0$).
      \end{itemize}
    \end{itemize}
  \end{itemize}
\end{niproof}

\subsection{Falling edge and function executions}
\label{sec:fe-fun-exec}

\begin{lemma}[Falling edge equal function executions]
  \label{lem:fe-equal-fun-exec}
  \fehyps{} then
  $\forall{}f\in\mathcal{F},id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f,~s'.ex(f)=\sigma'(id_f)$.
\end{lemma}

\begin{niproof}
  Given an $f\in\mathcal{F}$ and an
  $id_f\in{}Outs(\Delta)~s.t.~\gamma(f)=id_f$, let us show
  \fbox{$s'.ex(f)=\sigma'(id_f)$.}\\

  \noindent{}By property of \dwSitpn, we can deduce
  $s.ex(f)=s'.ex(f)$.
  
  \noindent{}By construction, $id_f$ is an output port identifier of
  Boolean type in the \hvhdl{} design $d$ assigned by the
  \texttt{function} process only during the initialization or during a
  rising edge phase.

  \noindent{}By property of the \hvhdl{} rising edge, stabilize
  relations, and the \texttt{function} process, we can deduce
  $\sigma(id_f)=\sigma'(id_f)$.

  \noindent{}Rewriting the goal with $s.ex(f)=s'.ex(f)$ and
  $\sigma(id_f)=\sigma'(id_f)$, \fbox{$s.ex(f)=\sigma(id_f)$.}

  \noindent{}By definition of \upSim, \qedbox{$s.ex(f)=\sigma(id_f)$.}
\end{niproof}

\subsection{Falling edge and firable transitions}
\label{sec:fe-firable}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL FIRABLE %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal firable]
  \label{lem:fe-equal-firable}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\in{}Firable(s')\Leftrightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$ and $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, let us show that\\
  \fbox{$t\in{}Firable(s')\Leftrightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.}\\

  The proof is in two parts:
  \begin{enumerate}
  \item Assuming that $t\in{}Firable(s')$, let us show
    \fbox{$\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.}
    
    Appealing to Lemma~\ref{lem:fe-equal-firable-1}:
    \qedbox{$\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.}
    
  \item Assuming that $\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$, let
    us show \fbox{$t\in{}Firable(s')$.}
    
    Appealing to Lemma~\ref{lem:fe-equal-firable-2}:
    \qedbox{$t\in{}Firable(s')$.}
  \end{enumerate}
  
\end{niproof}

\begin{lemma}[Falling edge equal firable 1]
  \label{lem:fe-equal-firable-1}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\in{}Firable(s')\Rightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$ and $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, and assuming that $t\in{}Firable(s')$, let us
  show \fbox{$\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$.}\\
  
  \exT{}

  By property of the \hvhdl{} falling edge relation, the stabilize
  relation, \InCsCompT, and through the examination of the
  \texttt{firable} process defined in the transition design
  architecture, we can deduce:
  \begin{equation}
    \label{eq:fe-eq-sfa}
    \sigma'(id_t)(\texttt{sfa})=\sigma(id_t)(\texttt{se})~.~\sigma(id_t)(\texttt{scc})~.~\mathtt{checktc}(\Delta(id_t),\sigma(id_t))
  \end{equation}

  Term $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$ is defined as
  follows:
  \begin{equation}
    \label{eq:checktc}    
    \begin{array}{@{}c@{}}
      \mathtt{checktc}(\Delta(id_t),\sigma(id_t)) \\
      = \\
      {\begin{split}
        &\bigg(\mathtt{not}~\sigma(id_t)(\texttt{srtc})~.~\\
        & \quad\begin{split}
          \big[\big(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}~&.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~\\
          &.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\big)\\
        \end{split} \\
        & \quad+(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}~.~(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1))\\
        &
        \quad+(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}~.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1))\big]\bigg) \\
        & +\big(\sigma(id_t)(\texttt{srtc})~.~\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}~.~\sigma(id_t)(\texttt{A})=1\big)\\
        & +\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}\\
      \end{split}} \\
    \end{array}
  \end{equation}

  Rewriting the goal with \eqref{eq:fe-eq-sfa}:
  \fbox{$\sigma(id_t)(\texttt{se})~.~\sigma(id_t)(\texttt{scc})~.~\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$.}

  Then, there are three points to prove:
  \begin{enumerate}
  \item \fbox{$\sigma(id_t)(\texttt{se})=\mathtt{true}$}:\\

    From $t\in{}Firable(s')$, we can deduce
    $t\in{}Sens(s'.M)$. By definition of \dwSitpn, we have $s.M=s'.M$,
    and thus, we can deduce $t\in{}Sens(s.M)$.

    By definition of \upSim, we know that $t\in{}Sens(s.M)$
    implies \qedbox{$\sigma(id_t)(\texttt{se})=\mathtt{true}$.}
    
  \item \fbox{$\sigma(id_t)(\texttt{scc})=\mathtt{true}$}:\\

    By definition of \upSim:
    \begin{equation}
      \sigma(id_t)(\texttt{scc})=\prod\limits_{c\in{}conds(t)}
      \begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}
      \label{eq:fe-eq-scc-prod}
    \end{equation}
    where
    $conds(t)=\{c\in\mathcal{C}~\vert~\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1\}$.

    Rewriting the goal with \eqref{eq:fe-eq-scc-prod}:
    \fbox{$\prod\limits_{c\in{}conds(t)}
      \begin{cases}
        E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
        \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
      \end{cases}=\mathtt{true}$.}

    To ease the reading, let us define $f(c)=\begin{cases}
          E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
          \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
        \end{cases}$.
    
    Let us reason by induction on the left term of the
    goal:

    \begin{itemize}
    \item \textbf{BASE CASE}: \qedbox{$\mathtt{true}=\mathtt{true}$.}
    \item \textbf{INDUCTION CASE}:
      \begin{ih}
        $\prod\limits_{c'\in{}conds(t)\setminus\{c\}}f(c')=\mathtt{true}$
      \end{ih}

      \fbox{$f(c)~.~\prod\limits_{c'\in{}conds(t)\setminus\{c\}}f(c')=\mathtt{true}$.}

      Rewriting the goal with the induction hypothesis, simplifying
      the goal, and unfolding the definition of $f(c)$:
      \fbox{$\begin{cases}
          E_c(\tau,c) & if~\mathbb{C}(t,c)=1 \\
          \mathtt{not}(E_c(\tau,c)) & if~\mathbb{C}(t,c)=-1 \\
        \end{cases}=\mathtt{true}$.}

      As $c\in{}conds(t)$, let us perform case analysis on
      $\mathbb{C}(t,c)=1\lor\mathbb{C}(t,c)=-1$:
      \begin{enumerate}
      \item \textbf{CASE} $\mathbb{C}(t,c)=1$: \fbox{$E_c(\tau,c)=\mathtt{true}$.}\\
        
        By definition of $t\in{}Firable(s')$, we can deduce that
        $s'.cond(c)=\mathtt{true}$. By definition of \dwSitpn{}
        (Rule~\ref{it:cond-env}), we have
        $s'.cond(c)=E_c(\tau,c)$. Thus,
        \qedbox{$E_c(\tau,c)=\mathtt{true}$.}
        
      \item $\mathbb{C}(t,c)=-1$: \fbox{$\mathtt{not}~E_c(\tau,c)=\mathtt{true}$.}\\

        By definition of $t\in{}Firable(s')$, we can deduce that
        $s'.cond(c)=\mathtt{false}$. By definition of \dwSitpn{}
        (Rule~\ref{it:cond-env}), we have
        $s'.cond(c)=E_c(\tau,c)$. Thus,
        \qedbox{$\mathtt{not}~E_c(\tau,c)=\mathtt{true}$.}
      \end{enumerate}
    \end{itemize}

  \item \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}:\\

    By definition of $t\in{}Firable(s')$, we have
    $t\notin{}T_i\lor{}s'.I(t)\in{}I_s(t)$. Let us perform case
    analysis on $t\notin{}T_i\lor{}s'.I(t)\in{}I_s(t)$:\\

    \begin{enumerate}
    \item \textbf{CASE} $t\notin{}T_i$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}\\

      By construction,
      ${<}\mathtt{transition\_type\Rightarrow{}NOT\_TEMP}{>}\in{}g_t$,
      and by property of the elaboration relation, we have
      $\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}$.

      From $\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}$, and by definition
      of $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$, we can deduce
      \qedbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$.}

    \item \textbf{CASE} $s'.I(t)\in{}I_s(t)$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}\\

      From $s'.I(t)\in{}I_s(t)$, we can deduce that $t\in{}T_i$. Thus,
      by construction, there exists
      $tt\in\{\mathtt{TEMP\_A\_B},\mathtt{TEMP\_A\_A},\mathtt{TEMP\_A\_INF}\}$
      s.t. ${<}\mathtt{transition\_type\Rightarrow}tt{>}\in{}g_t$. By
      property of the elaboration relation, we have
      $\Delta(id_t)(\texttt{tt})=tt$, and thus, we know
      $\Delta(id_t)(\texttt{tt})\neq{}\mathtt{NOT\_TEMP}$. Therefore,
      we can simplify the term
      $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$ as follows:
      \begin{equation}        
        \label{eq:eq-checktc-minus-not-temp}
        \begin{array}{@{}c@{}}
          \mathtt{checktc}(\Delta(id_t),\sigma(id_t)) \\
          = \\
          {\begin{split}
              &\bigg(\mathtt{not}~\sigma(id_t)(\texttt{srtc})~.~\\
              & \quad\begin{split}
                \big[\big(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}~&.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~\\
                &.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\big)\\
              \end{split} \\
              & \quad{\begin{array}{l}
                        +(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}~.\\
                        \quad~(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1)) \\
                      \end{array}}\\
                    &
                    \quad{\begin{array}{l}
                            +(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}~. \\
                            \quad~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1))\big]\bigg) \\
                          \end{array}}\\
                        & +\big(\sigma(id_t)(\texttt{srtc})~.~\sigma(id_t)(\texttt{A})=1\big)\\
                      \end{split}} \\
        \end{array}
      \end{equation}
      
      By definition of \upSim, we have
      $s.reset_t(t)=\sigma(id_t)(\texttt{srtc})$.

      Let us perform case analysis on the value
      $s.reset_t(t)$:

      \begin{enumerate}
      \item \textbf{CASE} $s.reset_t(t)=\mathtt{true}$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}\\

        From $s.reset_t(t)=\sigma(id_t)(\texttt{srtc})$, we can deduce that
        $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$.

        From $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$, we can
        simplify the term
        $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$ as follows:
        \begin{equation}
          \label{eq:eq-checktc-a-eq-1}
            \mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\big(\sigma(id_t)(\texttt{A})=1\big)
        \end{equation}

        Rewriting the goal with \eqref{eq:eq-checktc-a-eq-1}, and
        simplifying the goal: \fbox{$\sigma(id_t)(\texttt{A})=1$.}

        By definition of \dwSitpn{} (Rule~\ref{it:reset-counters}), from
        $t\in{}Sens(s.M)$ and $s.reset_t(t)=\mathtt{true}$, we can
        deduce $s'.I(t)=1$. We know that $s'.I(t)\in{}I_s(t)$, and
        thus, we have $1\in{}I_s(t)$.

        By definition of $1\in{}I_s(t)$, there exist an
        $a\in\mathbb{N}^{*}$ and a
        $ni\in{}\mathbb{N}^{*}\sqcup\{\infty\}$ s.t. $I_s(t)=[a,ni]$
        and $1\in[a,ni]$.

        By definition of $1\in[a,ni]$, we have $a\le{}1$, and
        since $a\in\mathbb{N}^{*}$, we can deduce $a=1$.

        By construction,
        ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$, and
        by property of stable $\sigma$, we have
        \qedbox{$\sigma(id_t)(\texttt{A})=a=1$.}

      \item \textbf{CASE} $s.reset_t(t)=\mathtt{false}$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}\\

        From $s.reset_t(t)=\sigma(id_t)(\texttt{srtc})$, we can deduce
        $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$.

        From $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, we can simplify
        the term $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$ as
        follows:
        \begin{equation}
          \label{eq:eq-checktc-srtc-false}
          \begin{array}{l}
            \multicolumn{1}{c}{\mathtt{checktc}(\Delta(id_t),\sigma(id_t))}\\
            \multicolumn{1}{c}{=}\\
            \begin{array}{ll}
              \big(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}~&.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~\\
                                                          &.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\big)\\
            \end{array}\\
            +(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}~.~(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1))\\
            +(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}~.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)) \\
          \end{array}
        \end{equation}

        Let us perform case analysis on $I_s(t)$; there are two cases:
        \begin{itemize}
        \item \textbf{CASE} $I_s(t)=[a,b]$ where
          $a,b\in\mathbb{N}^{*}$; then, either $a=b$ or $a\neq{}b$:
          
          \begin{itemize}
          \item \textbf{CASE} $a=b$:\\
            Then, we have $I_s(t)=[a,a]$, and by construction
            ${<}$\texttt{transition\_type}$\Rightarrow{}$
            \texttt{TEMP\_A\_A}${>}\in{}g_t$. By property of the
            elaboration relation, we have
            $\Delta(id_t)$$(\texttt{tt})=$\texttt{TEMP\_A\_A}; thus we can
            simplify the $\mathtt{checktc}$ term as follows:
            \begin{equation}
              \label{eq:eq-checktc-temp-a-a}
              \mathtt{checktc}(\Delta(id_t),\sigma(id_t))=(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1)
            \end{equation}

            Rewriting the goal with \eqref{eq:eq-checktc-temp-a-a},
            and simplifying the goal:\\
            \fbox{$\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1$.}\\
            
            From $s'.I(t)\in[a,a]$, we can deduce that
            $s'.I(t)=a$. Let us perform case analysis on
            $s.I(t)<u(I_s(t))$ or $s.I(t)\ge{}u(I_s(t))$:
            
            \begin{itemize}
            \item \textbf{CASE} $s.I(t)<u(I_s(t))$:\\
              By definition of \upSim, we have
              $s.I(t)=\sigma(id_t)(\texttt{stc})$. By definition of
              \dwSitpn{} (Rule~\ref{it:inc-counters}), we have
              $s'.I(t)=s.I(t)+1$. From $s'.I(t)=a$ and
              $s'.I(t)=s.I(t)+1$, we can deduce $a-1=s.I(t)$.

              By construction,
              ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$,
              and by property of stable $\sigma$, we have
              $\sigma(id_t)(\texttt{A})=a$.

              Rewriting the goal with $\sigma(id_t)(\texttt{A})=a$,
              $s.I(t)=\sigma(id_t)(\texttt{stc})$, and $a-1=s.I(t)$:
              \qedbox{tautology.}
              
            \item \textbf{CASE} $s.I(t)\ge{}u(I_s(t))$:\\
              In the case where $s.I(t)>u(I_s(t))$, then
              $s.I(t)>a$.  By definition of \dwSitpn{}
              (Rule~\ref{it:locked-counters}), we have
              $s.I(t)=s'.I(t)=a$. Then, \qedbox{$a>a$ is a
                contradiction.}\\

              In the case where $s.I(t)=u(I_s(t))$, then
              $s.I(t)=a$. By definition of \dwSitpn{}
              (Rule~\ref{it:inc-counters}), we have
              $s'.I(t)=s.I(t)+1$. Then, we have $s'.I(t)=a$ and
              $s'.I(t)=a+1$. Then, \qedbox{$a=a+1$ is a
                contradiction.}
            \end{itemize}
            
          \item \textbf{CASE} $a\neq{}b$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}\\
            Then, we have $I_s(t)=[a,b]$, and by construction
            ${<}$\texttt{transition\_type}$\Rightarrow{}$
            \texttt{TEMP\_A\_B}${>}\in{}g_t$. By property of the
            elaboration relation, we have
            $\Delta(id_t)$$(\texttt{tt})=$\texttt{TEMP\_A\_B}; thus we can
            simplify the term $\mathtt{checktc}$ as follows:
            \begin{equation}
              \label{eq:eq-checktc-temp-a-b}
              \begin{array}{c}
                \multicolumn{1}{c}{\mathtt{checktc}(\Delta(id_t),\sigma(id_t))}\\
                \multicolumn{1}{c}{=}\\
                (\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\\
              \end{array}\\
            \end{equation}

            Rewriting the goal with \eqref{eq:eq-checktc-temp-a-b},
            and simplifying the goal:\\
            \fbox{$(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)\land(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)$.}\\
            
            Let us perform case analysis on $s.I(t)<u(I_s(t))$ or
            $s.I(t)\ge{}u(I_s(t))$:
            \begin{itemize}
            \item \textbf{CASE} $s.I(t)<u(I_s(t))$:\\
              By definition of \upSim, we have
              $s.I(t)=\sigma(id_t)(\texttt{stc})$. By definition of \dwSitpn
              (Rule~\ref{it:inc-counters}), we have
              $s'.I(t)=s.I(t)+1$. By definition of $s'.I(t)\in[a,b]$:
              
              $\Rightarrow{}a\le{}s'.I(t)\le{}b$.
              
              $\Rightarrow{}a\le{}s'.I(t)\land{}s'.I(t)\le{}b$

              $\Rightarrow{}a\le{}s.I(t)+1\land{}s.I(t)+1\le{}b$

              $\Rightarrow{}a-1\le{}s.I(t)\land{}s.I(t)\le{}b-1$

              By construction,
              ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$
              and
              ${<}\mathtt{time\_B\_value\Rightarrow}{}b{>}\in{}i_t$,
              and by property of stable $\sigma$, we have
              $\sigma(id_t)(\texttt{A})=a$ and
              $\sigma(id_t)(\texttt{B})=b$.

              Rewriting the goal with
              $\sigma(id_t)(\texttt{A})=a$, $\sigma(id_t)(\texttt{B})=b$ and
              $s.I(t)=\sigma(id_t)(\texttt{stc})$:
              \qedbox{$a-1\le{}s.I(t)\land{}s.I(t)\le{}b-1$.}
              
            \item \textbf{CASE} $s.I(t)\ge{}u(I_s(t))$:\\
              
              In the case where $s.I(t)>u(I_s(t))$, then
              $s.I(t)>b$. By definition of \dwSitpn{}
              (Rule~\ref{it:locked-counters}), we have
              $s.I(t)=s'.I(t)=b$. Then, \qedbox{$b>b$ is a
                contradiction.}\\

              In the case where $s.I(t)=u(I_s(t))$, then
              $s.I(t)=b$. By definition of \dwSitpn{}
              (Rule~\ref{it:inc-counters}), we have
              $s'.I(t)=s.I(t)+1$.

              By definition of $s'.I(t)\in[a,b]$, we have
              $s'.I(t)\le{}b$:

              $\Rightarrow{}s.I(t)+1\le{}b$

              $\Rightarrow{}$ \qedbox{$b+1\le{}b$ is contradiction.}
            \end{itemize}
          \end{itemize}
          
        \item \textbf{CASE} $I_s(t)=[a,\infty]$ where
          $a\in{}\mathbb{N}^{*}$: \fbox{$\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$}
 
          By construction ${<}\mathtt{transition\_type\Rightarrow{}}$
          $\mathtt{TEMP\_A\_INF}{>}\in{}g_t$. By property of the
          elaboration relation, we have
          $\Delta(id_t)$$(\texttt{tt})=\mathtt{TEMP\_A\_INF}$; thus we can
          simplify the term $\mathtt{checktc}$ as follows:
          \begin{equation}
            \label{eq:eq-checktc-temp-a-inf}
            \mathtt{checktc}(\Delta(id_t),\sigma(id_t))=(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1))
          \end{equation}

          Rewriting the goal with \eqref{eq:eq-checktc-temp-a-inf},
          and simplifying the goal:\\
          \fbox{$\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1$.}\\

          From $s'.I(t)\in[a,\infty]$, we can deduce
          $a\le{}s'.I(t)$. Then, let us perform case analysis on
          $s.I(t)\le{}l(I_s(t))$ or $s.I(t)>l(I_s(t))$:
          \begin{itemize}
          \item \textbf{CASE} $s.I(t)\le{}l(I_s(t))$:

            By definition of \upSim, we have
            $s.I(t)=\sigma(id_t)(\texttt{stc})$.

            By definition of \dwSitpn{} (Rule~\ref{it:inc-counters}),
            we have $s'.I(t)=s.I(t)+1$:

            $\Rightarrow{}s'.I(t)\ge{}a$

            $\Rightarrow{}s.I(t)+1\ge{}a$

            $\Rightarrow{}s.I(t)\ge{}a-1$

            By construction,
            ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$,
            and by property of stable $\sigma$, we have
            $\sigma(id_t)(\texttt{A})=a$.

            Rewriting the goal with $\sigma(id_t)(\texttt{A})=a$ and
            $s.I(t)=\sigma(id_t)(\texttt{stc})$:\\ \qedbox{$s.I(t)\ge{}a-1$.}
            
          \item \textbf{CASE} $s.I(t)>l(I_s(t))$:

            By definition of \upSim, we have
            $\sigma(id_t)(\texttt{stc})=l(I_s(t))=a$.

            By construction,
            ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$,
            and by property of stable $\sigma$, we have
            $\sigma(id_t)(\texttt{A})=a$.

            Rewriting the goal with $\sigma(id_t)(\texttt{stc})=a$ and
            $\sigma(id_t)(\texttt{A})=a$: \qedbox{$a\ge{}a-1$.}
          \end{itemize}
          
        \end{itemize}
      \end{enumerate}
    \end{enumerate}
  \end{enumerate}
\end{niproof}

\begin{lemma}[Falling Edge Equal Firable 2]
  \label{lem:fe-equal-firable-2}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}\Rightarrow{}t\in{}Firable(s')$.
\end{lemma}

\begin{niproof}

  Given a $t\in{}T$ and $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, and assuming that
  $\sigma'(id_t)(\texttt{s\_firable})=\mathtt{true}$, let us
  show \fbox{$t\in{}Firable(s')$.}\\
  
  \exT{}

  By property of the \hvhdl{} falling edge relation, the stabilize
  relation, \InCsCompT, and through the examination of the
  \texttt{firable} process defined in the transition design
  architecture, we can deduce:
  \begin{equation}
    \label{eq:fe-eq-sfa-true}
    \sigma'(id_t)(\texttt{sfa})=\sigma(id_t)(\texttt{se})~.~\sigma(id_t)(\texttt{scc})~.~\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}
  \end{equation}

  From \eqref{eq:fe-eq-sfa-true}, we can deduce:
  \begin{eqnarray}
    \label{eq:fe-eq-se-true}\sigma(id_t)(\texttt{se})=\mathtt{true}\\
    \label{eq:fe-eq-scc-true}\sigma(id_t)(\texttt{scc})=\mathtt{true}\\
    \label{eq:fe-eq-checktc-true}\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}
  \end{eqnarray}

  Term $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))$ as the same
  definition as in Lemma~\nameref{lem:fe-equal-firable-1}.

  By definition of $t\in{}Firable(s')$, there are three points to prove:
  \begin{enumerate}
  \item \fbox{$t\in{}Sens(s'.M)$}
  \item
    \fbox{\parbox{\lwidth}{$\forall{}c\in{}\mathcal{C},~\mathbb{C}(t,c)=1\Rightarrow{}s'.cond(c)=\mathtt{true}$
        and $\mathbb{C}(t,c)=-1\Rightarrow{}s'.cond(c)=\mathtt{false}$}}
  \item \fbox{$t\notin{}T_i\lor{}s'.I(t)\in{}I_s(t)$}
  \end{enumerate}

  Let us prove these three points:
  \begin{enumerate}
  \item \fbox{$t\in{}Sens(s'.M)$}:

    By definition of \dwSitpn, we have $s.M=s'.M$. Rewriting the goal
    with $s.M=s'.M$: \fbox{$t\in{}Sens(s.M)$.}

    By definition of \upSim, we have
    $\sigma(id_t)(\texttt{se})=\mathtt{true}\Leftrightarrow{}t\in{}Sens(s.M)$.

    From $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce: \qedbox{$t\in{}Sens(s.M)$.}
    
  \item
    \fbox{\parbox{\lwidth}{$\forall{}c\in{}\mathcal{C},~\mathbb{C}(t,c)=1\Rightarrow{}s'.cond(c)=\mathtt{true}$
        and
        $\mathbb{C}(t,c)=-1\Rightarrow{}s'.cond(c)=\mathtt{false}$}}

    Given a $c\in\mathcal{C}$, there are two points to prove:
    \begin{enumerate}
    \item
      \fbox{$\mathbb{C}(t,c)=1\Rightarrow{}s'.cond(c)=\mathtt{true}$.}
    \item
      \fbox{$\mathbb{C}(t,c)=-1\Rightarrow{}s'.cond(c)=\mathtt{false}$.}
    \end{enumerate}

    Let us prove these two points:
    \begin{enumerate}
    \item Assuming that $\mathbb{C}(t,c)=1$, let us show
      \fbox{$s'.cond(c)=\mathtt{true}$.}

      By definition of \upSim, we have:
      \begin{equation}
        \sigma(id_t)(\texttt{scc})=\prod\limits_{c'\in{}conds(t)}
        \begin{cases}
          E_c(\tau,c') & if~\mathbb{C}(t,c')=1 \\
          \mathtt{not}(E_c(\tau,c')) & if~\mathbb{C}(t,c')=-1 \\
        \end{cases}=\mathtt{true}
        \label{eq:fe-eq-scc-prod-true}
      \end{equation}
      where
      $conds(t)=\{c_i\in\mathcal{C}~\vert~\mathbb{C}(t,c_i)=1\lor\mathbb{C}(t,c_i)=-1\}$.

      From $\mathbb{C}(t,c)=1$, we can deduce $c\in{}conds(t)$. By
      definition of the product expression, we have:
      \begin{equation}
        \label{eq:fe-eq-scc-prod-true-decomp}
        E_c(\tau,c)~.~\prod\limits_{c'\in{}conds(t)\setminus\{c\}}
        \begin{cases}
          E_c(\tau,c') & if~\mathbb{C}(t,c')=1 \\
          \mathtt{not}(E_c(\tau,c')) & if~\mathbb{C}(t,c')=-1 \\
        \end{cases}=\mathtt{true}
      \end{equation}

      From \eqref{eq:fe-eq-scc-prod-true-decomp}, we can deduce that
      $E_c(\tau,c)=\mathtt{true}$.

      By definition of \dwSitpn{} (Rule~\ref{it:cond-env}), we have
      $s'.cond(c)=E_c(\tau,c)$.
      
      Rewriting the goal with $s'.cond(c)=E_c(\tau,c)$ and
      $E_c(\tau,c)=\mathtt{true}$: \qedbox{tautology.}
      
    \item Assuming that $\mathbb{C}(t,c)=-1$, let us show
      \fbox{$s'.cond(c)=\mathtt{false}$.}

      By definition of \upSim, we have:
      \begin{equation}
        \sigma(id_t)(\texttt{scc})=\prod\limits_{c'\in{}conds(t)}
        \begin{cases}
          E_c(\tau,c') & if~\mathbb{C}(t,c')=1 \\
          \mathtt{not}(E_c(\tau,c')) & if~\mathbb{C}(t,c')=-1 \\
        \end{cases}=\mathtt{true}
        \label{eq:fe-eq-scc-prod-false}
      \end{equation}
      where
      $conds(t)=\{c'\in\mathcal{C}~\vert~\mathbb{C}(t,c')=1\lor\mathbb{C}(t,c')=-1\}$.

      From $\mathbb{C}(t,c)=-1$, we can deduce $c\in{}conds(t)$. By
      definition of the product expression, we have:
      \begin{equation}
        \label{eq:fe-eq-scc-prod-false-decomp}
        \mathtt{not}~E_c(\tau,c)~.~\prod\limits_{c'\in{}conds(t)\setminus\{c\}}
        \begin{cases}
          E_c(\tau,c') & if~\mathbb{C}(t,c')=1 \\
          \mathtt{not}(E_c(\tau,c')) & if~\mathbb{C}(t,c')=-1 \\
        \end{cases}=\mathtt{true}
      \end{equation}

      From \eqref{eq:fe-eq-scc-prod-false-decomp}, we can deduce that
      $E_c(\tau,c)=\mathtt{false}$.

      By definition of \dwSitpn{} (Rule~\ref{it:cond-env}), we have
      $s'.cond(c)=E_c(\tau,c)$.
      
      Rewriting the goal with $s'.cond(c)=E_c(\tau,c)$ and
      $E_c(\tau,c)=\mathtt{false}$: \qedbox{tautology.}
    \end{enumerate}
    
  \item \fbox{$t\notin{}T_i\lor{}s'.I(t)\in{}I_s(t)$}

    Reasoning on
    $\mathtt{checktc}(\Delta(id_t),\sigma(id_t))=\mathtt{true}$, there
    are 3 cases:
    \begin{enumerate}
    \item
      $\big(\mathtt{not}~\sigma(id_t)(\texttt{srtc})~.~[\dots]\big)=\mathtt{true}$\footnote{See
        equation~\eqref{eq:checktc} for the full definition.}
    \item
      $\big(\sigma(id_t)(\texttt{srtc})~.~\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}~.~\sigma(id_t)(\texttt{A})=1\big)=\mathtt{true}$
    \item
      $\big(\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}\big)=\mathtt{true}$
    \end{enumerate}
    
    \begin{enumerate}
    \item \textbf{CASE}
      $\big(\mathtt{not}~\sigma(id_t)(\texttt{srtc})~.~[\dots]\big)=\mathtt{true}$:

      Then, we can deduce
      $\mathtt{not}~\sigma(id_t)(\texttt{srtc})=\mathtt{true}$ and
      $[\dots]=\mathtt{true}$.

      From $\mathtt{not}~\sigma(id_t)(\texttt{srtc})=\mathtt{true}$,
      we can deduce $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, and
      from $[\dots]=\mathtt{true}$, we have three other cases:

      \begin{enumerate}
      \item \textbf{CASE}
        $\big(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}~.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\big)=\mathtt{true}$
      \item \textbf{CASE}
        $(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}~.~(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1))=\mathtt{true}$
      \item \textbf{CASE}
        $(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}~.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1))=\mathtt{true}$
      \end{enumerate}

      Let us prove the goal is these three contexts:
      \begin{enumerate}
      \item \textbf{CASE}
        $\big(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}~.~(\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1)~.~(\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1)\big)=\mathtt{true}$:

        Then, converting Boolean equalities into intuitionistic
        predicates, we have:
        \begin{itemize}
        \item $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}$
        \item $\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1$
        \item $\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1$
        \end{itemize}

        By property of the elaboration relation, and
        $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_B}$, there exist
        $a,b\in\mathbb{N}^{*}$ s.t. $I_s(t)=[a,b]$. Let us take such
        an $a$ and $b$. Then, let us show \fbox{$s'.I(t)\in{}I_s(t)$.}

        Rewriting the goal with $I_s(t)=[a,b]$:
        \fbox{$s'.I(t)\in[a,b]$.}
        
        By construction, ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}$
        and ${<}\mathtt{time\_B\_value\Rightarrow}{}b{>}$, and by
        property of stable $\sigma$, we have $\sigma(id_t)(\texttt{A})=a$ and
        $\sigma(id_t)(\texttt{B})=b$.

        Rewriting the goal with $\sigma(id_t)(\texttt{A})=a$ and
        $\sigma(id_t)(\texttt{B})=b$, and by definition of $\in$:
        \fbox{$\sigma(id_t)(\texttt{A})\le{}s'.I(t)\le{}\sigma(id_t)(\texttt{B})$.}

        Now, let us perform case analysis on
        $s.I(t)\le{}u(I_s(t))$ or $s.I(t)>u(I_s(t))$:
        \begin{itemize}
        \item \textbf{CASE} $s.I(t)\le{}u(I_s(t))$:
          
          By definition of \upSim, we have $s.I(t)=\sigma(id_t)(\texttt{stc})$.

          From $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce
          $t\in{}Sens(s.M)$, and from
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, we can deduce
          $s.reset_t(t)=\mathtt{false}$. Then, by definition of
          \dwSitpn{} (Rule~\ref{it:inc-counters}), we have
          $s'.I(t)=s.I(t)+1$.

          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{A})\le{}s.I(t)+1\le{}\sigma(id_t)(\texttt{B})$}
          (by $s'.I(t)=s.I(t)+1$)

          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{A})\le{}\sigma(id_t)(\texttt{stc})+1\le{}\sigma(id_t)(\texttt{B})$}
          (by $s.I(t)=\sigma(id_t)(\texttt{stc})$)
          
          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{A})-1\le{}\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1$}
          
          We assumed $\sigma(id_t)(\texttt{stc})\ge{}\sigma(id_t)(\texttt{A})-1$ and
          $\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1$, and thus we can deduce:
          \qedbox{$\sigma(id_t)(\texttt{A})-1\le{}\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1$}
          
        \item \textbf{CASE} $s.I(t)>u(I_s(t))$:

          By definition of \upSim, we have
          $\sigma(id_t)(\texttt{stc})=u(I_s(t))=b$.

          Then, from $\sigma(id_t)(\texttt{stc})\le{}\sigma(id_t)(\texttt{B})-1$,
          $\sigma(id_t)(\texttt{stc})=u(I_s(t))=b$ and
          $\sigma(id_t)(\texttt{B})=b$, we can deduce the following
          contradiction:\\
          \qedbox{$\sigma(id_t)(\texttt{B})\le{}\sigma(id_t)(\texttt{B})-1$.}
        \end{itemize}
      \item
        $(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}~.~(\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1))=\mathtt{true}$:

        Then, converting Boolean equalities into logic predicates, we
        have:
        \begin{itemize}
        \item $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}$
        \item $\sigma(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{A})-1$
        \end{itemize}

        By property of the elaboration relation, and
        $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_A}$, there exist
        $a\in\mathbb{N}^{*}$ s.t. $I_s(t)=[a,a]$. Let us take such an
        $a$. Then, let us show \fbox{$s'.I(t)\in{}I_s(t)$.}

        Rewriting the goal with $I_s(t)=[a,a]$:
        \fbox{$s'.I(t)\in[a,a]$.}
        
        By construction,
        ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}$, and by property
        of stable $\sigma$, we have\\ $\sigma(id_t)(\texttt{A})=a$.

        Rewriting the goal with $\sigma(id_t)(\texttt{A})=a$, unfolding the
        definition of $\in$, and simplifying the goal:
        \fbox{$s'.I(t)=\sigma(id_t)(\texttt{A})$.}

        Now, let us perform case analysis on
        $s.I(t)\le{}u(I_s(t))$ or $s.I(t)>u(I_s(t))$:
        \begin{itemize}
        \item \textbf{CASE} $s.I(t)\le{}u(I_s(t))$:
          
          By definition of \upSim, we have $s.I(t)=\sigma(id_t)(\texttt{stc})$.

          From $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce
          $t\in{}Sens(s.M)$, and from
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, we can deduce
          $s.reset_t(t)=\mathtt{false}$. Then, by definition of
          \dwSitpn{} (Rule~\ref{it:inc-counters}), we have
          $s'.I(t)=s.I(t)+1$.

          $\Rightarrow{}$
          \fbox{$s.I(t)+1=\sigma(id_t)(\texttt{A})$} (by $s'.I(t)=s.I(t)+1$)

          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{stc})+1=\sigma(id_t)(\texttt{A})$}
          (by $s.I(t)=\sigma(id_t)(\texttt{stc})$)

          $\Rightarrow{}$
          \qedbox{$\sigma(id_t)(\texttt{stc})=\sigma(id_t)(\texttt{A})-1$} (assumption)
          
        \item \textbf{CASE} $s.I(t)>u(I_s(t))$:

          By definition of \upSim, we have
          $\sigma(id_t)(\texttt{stc})=u(I_s(t))=a$.

          Then, from $\sigma(id_t)(\texttt{stc})={}\sigma(id_t)(\texttt{A})-1$,
          $\sigma(id_t)(\texttt{stc})=u(I_s(t))=a$,
          $\sigma(id_t)(\texttt{A})=a$, and $a\in\mathbb{N}^{*}$, we can
          derive the following
          contradiction:\\
          \qedbox{$\sigma(id_t)(\texttt{A})=\sigma(id_t)(\texttt{A})-1$.}
        \end{itemize}
        
      \item
        $(\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}~.~(\sigma(id_t)(\texttt{stc})\ge\sigma(id_t)(\texttt{A})-1))=\mathtt{true}$:

        Then, converting Boolean equalities into logic predicates, we
        have:
        \begin{itemize}
        \item $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}$
        \item $\sigma(id_t)(\texttt{stc})\ge\sigma(id_t)(\texttt{A})-1$
        \end{itemize}

        By property of the elaboration relation, and
        $\Delta(id_t)(\texttt{tt})=\mathtt{TEMP\_A\_INF}$, there exist
        $a\in\mathbb{N}^{*}$ s.t. $I_s(t)=[a,\infty]$. Let us take
        such an $a$. Then, let us show \fbox{$s'.I(t)\in{}I_s(t)$.}

        Rewriting the goal with $I_s(t)=[a,\infty]$:
        \fbox{$s'.I(t)\in[a,\infty]$.}
        
        By construction,
        ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}$, and by property
        of stable $\sigma$, we have\\ $\sigma(id_t)(\texttt{A})=a$.

        Rewriting the goal with $\sigma(id_t)(\texttt{A})=a$, unfolding the
        definition of $\in$, and simplifying the goal:
        \fbox{$\sigma(id_t)(\texttt{A})\le{}s'.I(t)$.}

        Now, let us perform case analysis on
        $s.I(t)\le{}l(I_s(t))$ or $s.I(t)>l(I_s(t))$:
        \begin{itemize}
        \item \textbf{CASE} $s.I(t)\le{}l(I_s(t))$:
          
          By definition of \upSim, we have $s.I(t)=\sigma(id_t)(\texttt{stc})$.

          From $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce
          $t\in{}Sens(s.M)$, and from
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, we can deduce
          $s.reset_t(t)=\mathtt{false}$. Then, by definition of
          \dwSitpn{} (Rule~\ref{it:inc-counters}), we have
          $s'.I(t)=s.I(t)+1$.

          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{A})\le{}s.I(t)+1$} (by $s'.I(t)=s.I(t)+1$)

          $\Rightarrow{}$
          \fbox{$\sigma(id_t)(\texttt{A})\le\sigma(id_t)(\texttt{stc})+1$} (by
          $s.I(t)=\sigma(id_t)(\texttt{stc})$)

          $\Rightarrow{}$
          \qedbox{$\sigma(id_t)(\texttt{A})-1\le\sigma(id_t)(\texttt{stc})$}
          (assumption)
          
        \item \textbf{CASE} $s.I(t)>l(I_s(t))$:

          By definition of \upSim, we have
          $\sigma(id_t)(\texttt{stc})=l(I_s(t))=a$.

          From $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce
          $t\in{}Sens(s.M)$, and from
          $\sigma(id_t)(\texttt{srtc})=\mathtt{false}$, we can deduce
          $s.reset_t(t)=\mathtt{false}$. Then, by definition of
          \dwSitpn{} (Rule~\ref{it:inc-counters}), we have
          $s'.I(t)=s.I(t)+1$.

          $\Rightarrow{}$ \fbox{$\sigma(id_t)(\texttt{A})\le{}s.I(t)+1$} (by
          $s'.I(t)=s.I(t)+1$)

          $\Rightarrow{}$ \fbox{$a\le{}s.I(t)+1$} (by
          $\sigma(id_t)(\texttt{A})=a$)
          
          $\Rightarrow{}$ \fbox{$a<s.I(t)$}

          $\Rightarrow{}$ \qedbox{$l(I_s(t))<s.I(t)$} (assumption)
        \end{itemize}
      \end{enumerate}

    \item
      $\big(\sigma(id_t)(\texttt{srtc})~.~\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}~.~\sigma(id_t)(\texttt{A})=1\big)=\mathtt{true}$

      Then, converting Boolean equalities into logic predicates, we
      have:
      \begin{itemize}
      \item $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$
      \item $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$
      \item $\sigma(id_t)(\texttt{A})=1$
      \end{itemize}

      By property of the elaboration relation, and
      $\Delta(id_t)(\texttt{tt})\neq\mathtt{NOT\_TEMP}$, there exist an
      $a\in\mathbb{N}^{*}$ and a $ni\in\mathbb{N}^{*}\sqcup\{\infty\}$
      s.t. $I_s(t)=[a,ni]$. Let us take such an $a$ and $ni$.

      By construction,
      ${<}\mathtt{time\_A\_value\Rightarrow}{}a{>}\in{}i_t$, and by
      property of stable $\sigma$, we have
      $\sigma(id_t)(\texttt{A})=a$. Thus, we can deduce $a=1$ and
      $I_s(t)=[1,ni]$.

      By definition of \upSim, from
      $\sigma(id_t)(\texttt{se})=\mathtt{true}$, we can deduce
      $t\in{}Sens(s.M)$, and from
      $\sigma(id_t)(\texttt{srtc})=\mathtt{true}$, we can deduce
      $s.reset_t(t)=\mathtt{true}$.

      By definition of \dwSitpn{} (Rule~\ref{it:reset-counters}),
      $t\in{}Sens(s.M)$ and $s.reset_t(t)=\mathtt{true}$, we have
      $s'.I(t)=1$.

      Now, let us show \fbox{$s'.I(t)\in{}I_s(t)$}.

      Rewriting the goal with $s'.I(t)=1$ and $I_s(t)=[1,ni]$:
      \qedbox{$1\in[1,ni]$.}
    \item
      $\big(\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}\big)=\mathtt{true}$

      Let us show \fbox{$t\notin{}T_i$.}
      
      By property of the elaboration relation and
      $\Delta(id_t)(\texttt{tt})=\mathtt{NOT\_TEMP}$, we have
      \qedbox{$t\notin{}T_i$.}
    \end{enumerate}
  \end{enumerate}
\end{niproof}

\begin{lemma}[Falling edge equal not firable]
  \label{lem:fe-equal-not-firable}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t,$
  $t\notin{}Firable(s')\Leftrightarrow\sigma'(id_t)(\texttt{s\_firable})=\mathtt{false}$.
\end{lemma}

\begin{niproof}
  Proving the above lemma is trivial by appealing to
  Lemma~\ref{lem:fe-equal-firable} and by reasoning on
  contrapositives.
\end{niproof}

\subsection{Falling edge and fired transitions}
\label{sec:fe-fired}

\begin{definition}[Fired]
  \label{def:cons-fired}
  A transition $t\in{}T$ is said to be fired at the SITPN state
  $s={<}M,I,reset_t,$ $ex,$ $cond{>}$, iff there exists a subset
  $Fset\subseteq{}T$ such that $IsFiredSet(s,Fset)$ and $t\in{}Fset$.
\end{definition}

\begin{definition}[IsFiredSet]
  \label{def:is-frd-set}
  Given an $sitpn\in{}SITPN$, a SITPN state $s\in{}S(sitpn)$, and a
  subset $Fset\subseteq{}T$, the $IsFiredSet$ relation is defined as follows:\\
  $IsFiredSet(s,Fset)\equiv{}IsFiredSetAux(s,T,\emptyset,Fset)$
\end{definition}

\begin{definition}[IsFiredSetAux]
  \label{def:is-frd-set-aux}
  The $IsFiredSetAux$ relation is defined by the following rules:\\
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FSetEmp}} \\
    
    {\begin{prooftree}[template={\inserttext}]        
        \infer0{$IsFiredSetAux(s, \emptyset, F, F)$}
      \end{prooftree}} 
  \end{tabular}
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FSetFired}} \\
    
    {\begin{prooftree}[template={\inserttext}]

        \hypo{$t\in{}Firable(s)$}
        \infer[no rule]1{$t\in{}Sens(s.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$}
        \infer[no rule]1{$IsFiredSetAux(s, T_s, F\cup\{t\}, Fset)$}
        \infer1[
        \begin{tabular}{@{}l}
          $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$ \\
          $Pr(t,F)=\{t'~\vert~t'\succ{}t\land{}t'\in{}F\}$ \\
        \end{tabular}
        ]{$IsFiredSetAux(s, T_s\cup\{t\}, F, Fset)$}
      \end{prooftree}} 
  \end{tabular}
  
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FSetNotFirable}} \\    
    {\begin{prooftree}[template={\inserttext}]
        \hypo{$t\notin{}Firable(s)$}
        \infer[no rule]1{$IsFiredSetAux(s, T_s, F, Fset)$}
        \infer1[
        \begin{tabular}{@{}l}
          $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$ \\
        \end{tabular}
        ]{$IsFiredSetAux(s, T_s\cup\{t\}, F, Fset)$}
      \end{prooftree}} 
  \end{tabular}
  
  \begin{tabular}{@{}l}
    {\fontsize{9}{11}\selectfont\textsc{FSetNotSens}} \\
    {\begin{prooftree}[template={\inserttext}]
        \hypo{$t\notin{}Sens(s.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$}
        \infer[no rule]1{$IsFiredSetAux(s, T_s, F, Fset)$}
        \infer1[
        \begin{tabular}{@{}l}
          $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$ \\
          $Pr(t,F)=\{t'~\vert~t'\succ{}t\land{}t'\in{}F\}$ \\
        \end{tabular}
        ]{$IsFiredSetAux(s, T_s\cup\{t\}, F, Fset)$}
      \end{prooftree}} 
  \end{tabular}
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL FIRED SET LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal fired set]
  \label{lem:fe-equal-fset}
  \fehyps{} then
  $\forall{}t\in{}T,~id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t$,
  $\forall{}Fset\subseteq{}T,~s.t.~IsFiredSet(s',Fset),~t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$, and $id_t\in{}Comps(\Delta)$, and a
  $Fset\subseteq{}T$ s.t. $IsFiredSet(s',Fset)$, let us show
  \fbox{$t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.}\\

  By definition of $IsFiredSet(s',Fset)$, we have
  $IsFiredSetAux(s',T,\emptyset,Fset)$.

  Then, we can appeal to Lemma~\ref{lem:fe-equal-fset-aux} to solve
  the goal, but first we must prove the following \emph{extra
    hypothesis} (i.e, one of the premise of
  Lemma~\ref{lem:fe-equal-fset-aux}):

  \fbox{\parbox{\lwidth}{$\forall{}t'\in{}T,id_{t'}\in{}Comps(\Delta)$
      s.t. $\gamma(t')=id_{t'},$\\
      $(t'\in{}\emptyset\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
      $\land$
      $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}\emptyset~\lor~{}t'\in{}T)$.}}\\

  Given a $t'\in{}T$ and an $id_{t'}\in{}Comps(\Delta)$
  s.t. $\gamma(t')=id_{t'}$, there are two points to prove:
  \begin{enumerate}
  \item
    \fbox{$t'\in{}\emptyset\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$}
  \item
    \fbox{$\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}\emptyset~\lor~{}t'\in{}T$}
  \end{enumerate}

  Let us show these two points:
  \begin{enumerate}
  \item Assuming $t'\in{}\emptyset$, let us show
    \fbox{$\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$.}

    \qedbox{$t'\in{}\emptyset$ is a contradiction.}
  \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$, let us
    show \fbox{$t'\in{}\emptyset~\lor~{}t'\in{}T$.}

    By definition, \qedbox{$t'\in{}T$.}
  \end{enumerate}
  
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE EQUAL FIRED SET AUX LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal fired set aux]
  \label{lem:fe-equal-fset-aux}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)~s.t.~\gamma(t)=id_t$,
  $\forall{}F\subseteq{}T,~T_s\subseteq{}T,~Fset\subseteq{}T,$
  assume that:
  \begin{itemize}
  \item $IsFiredSetAux(s',T_s,F,Fset)$
  \item EH (Extra. Hypothesis):\\
    $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
    s.t. $\gamma(t')=id_{t'}$,\\
    $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
    $\land$
    $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$.
  \end{itemize}
  then
  $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.
\end{lemma}

\begin{niproof}
  Given a $t\in{}T$, an $id_t\in{}Comps(\Delta)$, a
  $T_s,F,Fset\subseteq{}T$, and assuming\\
  $IsFiredSetAux(s',T_s,F,Fset)$, let us show
  \begin{frameb}
    $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
    s.t. $\gamma(t')=id_{t'}$,\\
    $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
    $\land$
    $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)\big)\Rightarrow$
    $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.
  \end{frameb}

  Let us use rule induction on $IsFiredSetAux(s',T_s,F,Fset)$. Let us
  define the property $P$ taken into account in the induction scheme
  as follows

  \begin{center}
    \begin{tabular}{c}
      $P(s',T_s,F,Fset)$ \\
      $\equiv$ \\
      $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
      $\land$
      $\big(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)\big)\Rightarrow$ \\
      $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$ \\
    \end{tabular}
  \end{center}

  \begin{itemize}
  \item \textbf{CASE} \textsc{FSetEmp}: we must show $P(s',\emptyset,F,F)$, i.e.
    \begin{frameb}
      $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
      s.t. $\gamma(t')=id_{t'}$,\\
      $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
      $\land$
      $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}\emptyset)\big)\Rightarrow$
      $t\in{}F\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.
    \end{frameb}
    
    Assuming
    \begin{center}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}\emptyset)$ \\
      \end{tabular}
    \end{center}
    we can easily show
    \qedbox{$t\in{}F\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.}
    
  \item \textbf{CASE} \textsc{FSetFired}:

    Assuming
    \begin{itemize}
    \item $t\in{}Firable(s')$
    \item $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$
    \item $IsFiredSetAux(s',T_s,F\cup\{t\},Fset)$
    \item $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$
    \item $Pr(t,F)=\{t'~\vert~t'\succ{}t\land{}t'\in{}F\}$
    \end{itemize}
    and the induction hypothesis (i.e. $P(s',T_s,F\cup\{t\},Fset)$)
    \begin{ih}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\cup\{t\}\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F\cup\{t\}~\lor~{}t'\in{}T_s)\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{ih}

    we must show

    \begin{frameb}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{frameb}

    Assuming the following hypothesis that we will call EH (for Extra
    Hypothesis)

    \begin{center}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})$ \\
      \end{tabular}
    \end{center}

    we must show
    \begin{frameb}
      $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
    \end{frameb}
    
    Appealing to the induction hypothesis, to prove the current goal,
    it is sufficient to prove that

    \begin{frameb}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\cup\{t\}\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F\cup\{t\}~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    Given a $t'\in{}T$, an $id_{t'}\in{}Comps(\Delta)$ s.t. $\gamma(t')=id_{t'}$, we must show that
    \begin{frameb}
      \begin{tabular}{l}
        $(t'\in{}F\cup\{t\}\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F\cup\{t\}~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    There are two points to prove
    \begin{enumerate}
    \item Assuming $t'\in{}F\cup\{t\}$, then
      $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      then $t'\in{}F\cup\{t\}~\lor~{}t'\in{}T_s$
    \end{enumerate}

    \begin{enumerate}
    \item Assuming $t'\in{}F\cup\{t\}$, let us show \fbox{$\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$}.
      Let us perform case analysis on $t'\in{}F\cup\{t\}$; there are 2 cases:
      \begin{itemize}
      \item \textbf{CASE} $t'\in{}F$: Appealing to EH, the goal is trivially proved.
      \item \textbf{CASE} $t'=t$: Then, $id_t=id_{t'}$, and we must
        show \fbox{$\sigma'(id_t)(\texttt{fired})=\mathtt{true}$}.

        By definition of $id_{t}$, there exist a $g_{t}$, $i_{t}$,
        $o_{t}$ s.t.  $\mathtt{comp}(id_{t},\texttt{transition},$
        $g_{t},$ $i_{t}$, $o_{t})\in{}d.cs$.

        By property of the stabilize relation and
        $\mathtt{comp}(id_{t},\texttt{transition},$ $g_{t},$ $i_{t}$,
        $o_{t})\in{}d.cs$, and through the examination of the
        \texttt{fired_evaluation} process defined in the
        \texttt{transition} design architecture:
        \begin{equation*}
          \sigma(id_{t})(\texttt{fired})=\sigma(id_{t})(\texttt{sfa})~.~\sigma(id_{t})(\texttt{spc})
        \end{equation*}

        Rewriting the goal with the above equation:
        \fbox{$\sigma(id_{t})(\texttt{sfa})~.~\sigma(id_{t})(\texttt{spc})=\mathtt{true}$.}
        
        Then, there are two points to prove: 
        \begin{enumerate}
        \item \fbox{$\sigma(id_{t})(\texttt{sfa})=\mathtt{true}$.}
          
          Appealing to Lemma~\ref{lem:fe-equal-firable}, and since
          $t\in{}Firable(s')$, we can deduce
          \qedbox{$\sigma(id_{t})(\texttt{sfa})=\mathtt{true}$.}
        \item \fbox{$\sigma(id_{t})(\texttt{spc})=\mathtt{true}$.}
          
          Appealing to Lemma~\ref{lem:stab-compute-pcomb}, and since
          $t\in{}Sens(s'M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$, we
          can deduce
          \qedbox{$\sigma(id_{t})(\texttt{spc})=\mathtt{true}$.}
        \end{enumerate}
      \end{itemize}
      
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      let us show
      \fbox{$t'\in{}F\cup\{t\}~\lor~{}t'\in{}T_s$}. Appealing to EH,
      we can deduce that $t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\}$. Then,
      the goal is trivially shown.
    \end{enumerate}
    
  \item \textbf{CASE} \textsc{FSetNotFirable}:
    Assuming
    \begin{itemize}
    \item $t\notin{}Firable(s')$
    \item $IsFiredSetAux(s',T_s,F,Fset)$
    \item $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$
    \end{itemize}
    and the induction hypothesis (i.e. $P(s',T_s,F,Fset)$)
    \begin{ih}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{ih}

    we must show

    \begin{frameb}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{frameb}

    Assuming the following hypothesis that we will call EH (for Extra
    Hypothesis)

    \begin{center}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})$ \\
      \end{tabular}
    \end{center}

    we must show
    \begin{frameb}
      $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
    \end{frameb}
    
    Appealing to the induction hypothesis, to prove the current goal,
    it is sufficient to prove that

    \begin{frameb}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    Given a $t'\in{}T$, an $id_{t'}\in{}Comps(\Delta)$ s.t. $\gamma(t')=id_{t'}$, we must show that
    \begin{frameb}
      \begin{tabular}{l}
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    There are two points to prove
    \begin{enumerate}
    \item Assuming $t'\in{}F$, then
      $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      then $t'\in{}F~\lor~{}t'\in{}T_s$
    \end{enumerate}

    \begin{enumerate}
    \item Assuming $t'\in{}F$, let us show
      \fbox{$\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$}.

      Appealing to EH, the goal is trivially shown.
      
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      let us show \fbox{$t'\in{}F~\lor~{}t'\in{}T_s$}.

      Appealing to EH, we can deduce $t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\}$.
      Let us perform case analysis on $t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\}$; there are 2 cases:
      \begin{itemize}
      \item \textbf{CASE} $t'\in{}F$: trivially shown, as it is an assumption.
      \item \textbf{CASE} $t'\in{}T_s\cup\{t\}$: In the case where
        $t'\in{}T_s$, the goal is trivially shown. In the case where
        $t'=t$, we can prove a contradiction based on
        $t\notin{}Firable(s')$ and
        $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$.

        Since $t=t'$, then $id_t=id_{t'}$, and we know that
        $\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.

        By definition of $id_{t}$, there exist a $g_{t}$, $i_{t}$,
        $o_{t}$ s.t.  $\mathtt{comp}(id_{t},\texttt{transition},$
        $g_{t},$ $i_{t}$, $o_{t})\in{}d.cs$.

        By property of the stabilize relation and
        $\mathtt{comp}(id_{t},\texttt{transition},$ $g_{t},$ $i_{t}$,
        $o_{t})\in{}d.cs$, and through the examination of the
        \texttt{fired_evaluation} process defined in the
        \texttt{transition} design architecture, we can deduce
        \begin{equation*}
          \sigma(id_{t})(\texttt{fired})=\sigma(id_{t})(\texttt{sfa})~.~\sigma(id_{t})(\texttt{spc})=\mathtt{true}
        \end{equation*}
        
        Thus, we have
        \begin{equation*}
          \sigma(id_{t})(\texttt{sfa})=\mathtt{true}
        \end{equation*}
        and, appealing to Lemma~\ref{lem:fe-equal-firable}, we can
        deduce $t\in{}Firable(s')$, which directly contradicts
        \qedbox{ $t\notin{}Firable(s')$.}
      \end{itemize}
    \end{enumerate}
    
  \item \textbf{CASE} \textsc{FSetNotSens}:
    Assuming
    \begin{itemize}
    \item $t\notin{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$
    \item $IsFiredSetAux(s',T_s,F,Fset)$
    \item $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$
    \item $Pr(t,F)=\{t'~\vert~t'\succ{}t\land{}t'\in{}F\}$
    \end{itemize}
    and the induction hypothesis (i.e. $P(s',T_s,F,Fset)$)
    \begin{ih}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{ih}

    we must show

    \begin{frameb}
      \begin{tabular}{l}
        $\big(\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$\\
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})\big)\Rightarrow$ \\
        $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
      \end{tabular}
    \end{frameb}

    Assuming the following hypothesis, which we will call EH (for
    Extra Hypothesis)

    \begin{center}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\})$ \\
      \end{tabular}
    \end{center}

    we must show
    \begin{frameb}
      $t\in{}Fset\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{true}$
    \end{frameb}
    
    Appealing to the induction hypothesis, to prove the current goal,
    it is sufficient to prove that

    \begin{frameb}
      \begin{tabular}{l}
        $\forall{}t'\in{}T,~id_{t'}\in{}Comps(\Delta)$
        s.t. $\gamma(t')=id_{t'}$,\\
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    Given a $t'\in{}T$, an $id_{t'}\in{}Comps(\Delta)$ s.t. $\gamma(t')=id_{t'}$, we must show that
    \begin{frameb}
      \begin{tabular}{l}
        $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
        $\land$
        $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$ \\
      \end{tabular}
    \end{frameb}

    There are two points to prove
    \begin{enumerate}
    \item Assuming $t'\in{}F$, then
      $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      then $t'\in{}F~\lor~{}t'\in{}T_s$
    \end{enumerate}

    \begin{enumerate}
    \item Assuming $t'\in{}F$, let us show
      \fbox{$\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$}.

      Appealing to EH, the goal is trivially shown.
      
    \item Assuming $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$,
      let us show \fbox{$t'\in{}F~\lor~{}t'\in{}T_s$}.

      Appealing to EH, we can deduce $t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\}$.
      Let us perform case analysis on $t'\in{}F~\lor~{}t'\in{}T_s\cup\{t\}$; there are 2 cases:
      \begin{itemize}
      \item \textbf{CASE} $t'\in{}F$: trivially shown, as it is an assumption.
      \item \textbf{CASE} $t'\in{}T_s\cup\{t\}$: In the case where
        $t'\in{}T_s$, the goal is trivially shown. In the case where
        $t'=t$, we can prove a contradiction based on
        $t\notin{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$
        and $\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}$.

        Since $t=t'$, then $id_t=id_{t'}$, and we know that
        $\sigma'(id_t)(\texttt{fired})=\mathtt{true}$.

        By definition of $id_{t}$, there exist a $g_{t}$, $i_{t}$,
        $o_{t}$ s.t.  $\mathtt{comp}(id_{t},\texttt{transition},$
        $g_{t},$ $i_{t}$, $o_{t})\in{}d.cs$.

        By property of the stabilize relation and
        $\mathtt{comp}(id_{t},\texttt{transition},$ $g_{t},$ $i_{t}$,
        $o_{t})\in{}d.cs$, and through the examination of the
        \texttt{fired_evaluation} process defined in the
        \texttt{transition} design architecture, we can deduce
        \begin{equation*}
          \sigma(id_{t})(\texttt{fired})=\sigma(id_{t})(\texttt{sfa})~.~\sigma(id_{t})(\texttt{spc})=\mathtt{true}
        \end{equation*}
        
        Thus, we have
        \begin{equation*}
          \sigma(id_{t})(\texttt{spc})=\mathtt{true}
        \end{equation*}
        and, appealing to Lemma~\ref{lem:stab-compute-pcomb}, we can
        deduce
        $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$,
        which directly contradicts \qedbox{
          $t\notin{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$.}
      \end{itemize}
    \end{enumerate}
  \end{itemize}
  
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% STABILIZE COMPUTE PRIORITY COMBINATION AFTER FALLING EDGE %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Stabilize compute priority combination after falling edge]
  \label{lem:stab-compute-pcomb}
  \fehyps{} then
  $\forall{}t\in{}T,id_t\in{}Comps(\Delta)$ s.t. $\gamma(t)=id_t$,
  $\forall{}T_s,F,~Fset\subseteq{}T$ assume that:
  \begin{itemize}
  \item $t\in{}Firable(s')$
  \item $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$
  \item EH: $\forall{}t'\in{}T,id_{t'}\in{}Comps(\Delta)$
    s.t. $\gamma(t')=id_{t'}$,\\
    $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
    $\land$
    $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$.

  \end{itemize}
  then
  $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))\Leftrightarrow\sigma'(id_t)(\texttt{spc})=\mathtt{true}$
\end{lemma}

\begin{niproof}

  Given a $t\in{}T$ and an $id_t\in{}Comps(\Delta)$
  s.t. $\gamma(t)=id_t$, a $T_s$, $F$, $Fset\subseteq{}T$ and assuming
  \begin{itemize}
  \item $t\in{}Firable(s')$
  \item $\nexists{}t'\in{}T_s~s.t.~t'\succ{}t$
  \item EH: $\forall{}t'\in{}T,id_{t'}\in{}Comps(\Delta)$
    s.t. $\gamma(t')=id_{t'}$,\\
    $(t'\in{}F\Rightarrow\sigma'(id_{t'})(\texttt{fired})=\mathtt{true})$
    $\land$
    $(\sigma'(id_{t'})(\texttt{fired})=\mathtt{true}\Rightarrow{}t'\in{}F~\lor~{}t'\in{}T_s)$.
  \end{itemize}
  
  let us show
  \begin{frameb}
    $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))\Leftrightarrow\sigma'(id_t)(\texttt{spc})=\mathtt{true}$.
  \end{frameb}

  \exT{}
  
  By property of the stabilize relation, \InCsCompT, and through the
  examination of the \texttt{priority_authorization_evaluation}
  process defined in the \texttt{transition} design architecture, we
  can deduce:
  \begin{equation*}
    \sigma'(id_t)(\texttt{spc})=\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]\label{eq:frd-eq-spc-prod-pauths}
  \end{equation*}

  Rewriting the goal with the above equation:  
  \begin{frameb}
    $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))\Leftrightarrow\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.
  \end{frameb}
  
  Then, the proof is in two parts:
  \begin{enumerate}
  \item
    $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))\Rightarrow\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$
  \item
    $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}\Rightarrow{}t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$
  \end{enumerate}

  Let us prove both sides of the equivalence:
  \begin{enumerate}
  \item\label{item:stab-comp-spc-fst-case} Assuming that
    $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$, let us
    show\\
    \fbox{$\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.}

    Let us perform case analysis on $input(t)$; there are 2 cases:
    \begin{itemize}
    \item \textbf{CASE} $input(t)=\emptyset$:

      By construction,
      ${<}\mathtt{input\_arcs\_number\Rightarrow}{}1{>}\in{}g_t$ and
      ${<}$\texttt{priority\_authorizations(0)}$\Rightarrow{}\mathtt{true}{>}\in{}i_t$.

      By property of the elaboration relation, we have
      $\Delta(id_t)(\texttt{ian})=1$, and by property of the stabilize
      relation, we have
      $\sigma'(id_t)(\texttt{pauths})[0]=\mathtt{true}$.
      
      Rewriting the goal with $\Delta(id_t)(\texttt{ian})=1$ and
      $\sigma'(id_t)(\texttt{pauths})[0]=\mathtt{true}$, and
      simplifying the goal: \qedbox{tautology.}
      
    \item \textbf{CASE} $input(t)\neq{}\emptyset$:

      Then, let us show an equivalent goal:\\
      \fbox{$\forall{}i\in[0,\Delta(id_t)(\texttt{ian})-1],~\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.}

      Given an $i\in{}[0,\Delta(id_t)(\texttt{ian})-1]$, let us show
      \fbox{$\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.}

      By construction,
      ${<}\mathtt{input\_arcs\_number\Rightarrow}{}\vert{}input(t)\vert{>}\in{}g_t$.

      By property of the elaboration relation, we have
      $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$. Then, we can deduce
      $i\in{}[0,\vert{}input(t)\vert-1]$.
      
      By construction, for all $i\in{}[0,\vert{}input(t)\vert-1]$,
      there exist a $p\in{}input(t)$ and an $id_p\in{}Comps(\Delta)$
      s.t. $\gamma(p)=id_p$, there exist a $g_p$, $i_p$, $o_p$
      s.t. $\mathtt{comp}(id_p,$ $\texttt{place},$ $g_p,$ $i_p,$
      $o_p)\in{}d.cs$, and there exist a
      $j\in{}[0,\vert{}output(p)\vert]$ and an
      $id_{ji}\in{}Sigs(\Delta)$ s.t.\\
      ${<}\mathtt{input\_arcs\_valid(i)\Rightarrow{}id_{ji}}{>}\in{}i_t$
      and
      ${<}\mathtt{output\_arcs\_valid(j)\Rightarrow{}id_{ji}}{>}\in{}o_t$.
      Let us take such a $p\in{}input(t)$, $id_p\in{}Comps(\Delta)$,
      $g_p$, $i_p$, $o_p$, $j\in{}[0,$ $\vert{}output(p)\vert]$ and
      $id_{ji}\in{}Sigs(\Delta)$.\\

      Now, let us perform case analysis on the nature of the arc
      connecting $p$ and $t$; there are 2 cases:
      
      \begin{itemize}
      \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{test})$ or
        $pre(p,t)=(\omega,\mathtt{inhib})$:

        By construction,
        ${<}\mathtt{priority\_authorizations(i)\Rightarrow{}true}{>}\in{}i_t$,
        and by property of the stabilize relation:
        \qedbox{$\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.}

      \item \textbf{CASE} $pre(p,t)=(\omega,\mathtt{basic})$:

        Let us define
        $output_c(p)=\{t\in{}T~\vert~\exists{}\omega,~pre(p,t)=(\omega,\mathtt{basic})\}$,
        the set of output transitions of $p$ that are in
        conflict. Then, there are two cases, one for each way to solve
        the conflicts between the output transitions of $p$:

        \begin{itemize}
        \item \textbf{CASE} For all pair of transitions in
          $output_c(p)$, all conflicts are solved by mutual exclusion:

          By construction,
          ${<}\mathtt{priority\_authorizations(i)\Rightarrow{}true}{>}\in{}i_t$,
          and by property of the stabilize relation:
          \qedbox{$\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.}
        \item \textbf{CASE} The priority relation is a strict total
          order over the set $output_c(p)$:
        \end{itemize}
        By construction, there exists an $id'_{ji}\in{}Sigs(\Delta)$
        s.t.\\
        ${<}\mathtt{priority\_authorizations(i)\Rightarrow{}id'_{ji}}{>}\in{}i_t$
        and\\
        ${<}\mathtt{priority\_authorizations(j)\Rightarrow{}id'_{ji}}{>}\in{}o_p$.

        By property of the stabilize relation, \InCsCompT{} and
        \InCsCompP, we can deduce:
        \begin{equation*}
          \label{eq:frd-eq-tpauthsi-ppauthsj}\sigma'(id_t)(\texttt{pauths})[i]=\sigma'(id'_{ji})=\sigma'(id_p)(\texttt{pauths})[j]\\
        \end{equation*}

        Rewriting the goal with the above equation:
        \fbox{$\sigma'(id_p)(\texttt{pauths})[j]=\mathtt{true}$.}

        By property of the stabilize relation, \InCsCompP, and
        through the examination of the \texttt{priority_evaluation}
        process defined in the \texttt{place} design behavior, we
        can deduce:
        \begin{equation}
          \label{eq:frd-eq-pauthsj}
          \sigma'(id_p)(\texttt{pauths})[j]=(\sigma'(id_p)(\texttt{sm})\ge{}\mathtt{vsots}+\sigma'(id_p)(\texttt{oaw})[j])
        \end{equation}

        Let us define the $\mathtt{vsots}$ term as follows:
        \begin{equation}
          \label{eq:frd-vsots}
          \mathtt{vsots}=\sum\limits_{i=0}^{j-1}
          \begin{cases}
            \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i].\\
            \hspace{19ex}\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}\\
            0~otherwise\\
          \end{cases}
        \end{equation}

        Rewriting the goal with \eqref{eq:frd-eq-pauthsj}:
        \fbox{$\sigma'(id_p)(\texttt{sm})\ge{}\mathtt{vsots}+\sigma'(id_p)(\texttt{oaw})[j]$}

        By definition of
        $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$, we
        can deduce:\\
        $s'.M(p)\ge{}\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)+\omega$.
        
        Then, there are three points to prove:
        \begin{enumerate}
        \item \fbox{$s'.M(p)=\sigma'(id_p)(\texttt{sm})$}
        \item \fbox{$\omega=\sigma'(id_p)(\texttt{oaw})[j]$}
        \item \fbox{$\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)=\mathtt{vsots}$}
        \end{enumerate}

        Let us prove these three points:
        \begin{enumerate}
        \item \fbox{$s'.M(p)=\sigma'(id_p)(\texttt{sm})$}

          Appealing to Lemma~\ref{lem:fe-equal-marking},
          \qedbox{$s'.M(p)=\sigma'(id_p)(\texttt{sm})$.}
        \item \fbox{$\omega=\sigma'(id_p)(\texttt{oaw})[j]$}

          By construction, and as
          $pre(p,t)=(\omega,\mathtt{basic})$, we know that
          ${<}$\texttt{output\_arcs\_weights(j)}$\Rightarrow\omega{>}\in{}i_p$.

          By property of the stabilize relation and \InCsCompP:\\
          \qedbox{$\omega=\sigma'(id_p)(\texttt{oaw})[j]$.}
          
        \item
          \fbox{$\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)=\mathtt{vsots}$}
        \end{enumerate}
        
        Let us replace the left and right term of the equality by
        their full definition:

        \begin{frameb}
          \begin{tabular}{c}
            $\sum\limits_{t_i\in{}Pr(t,F)}
            \begin{cases}
              \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})\\
              0~otherwise
            \end{cases}$ \\
            $=$ \\
            $\sum\limits_{i=0}^{j-1}
            \begin{cases}
              \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i].\\
              \hspace{19ex}\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}\\
              0~otherwise\\
            \end{cases}$ \\
          \end{tabular}
        \end{frameb}

        Now, we must reason on the priority status of transition
        $t$ regarding the group of conflicting output transitions
        of $p$. There 2 cases:
          
        \begin{itemize}
        \item \textbf{CASE} $t$ is the top-priority transition in
          the group of conflicting output transitions of $p$:

          In that case, the set $Pr(t,F)$ is empty and, by
          construction, $j=0$. Thus, the goal is a tautology
          \qedbox{$0=0$.}
          
        \item \textbf{CASE} $t$ is not the top-priority transition
          in the group of conflicting output transitions of $p$:
        \end{itemize}
        In that case, we know that there is a least one element
        in $Pr(t,F)$ and the index $j>0$.

        Let us replace the sum terms in the goal by equivalent terms:
        \begin{frameb}
          \begin{tabular}{c}
            $\sum\limits_{t_i\in{}Pr_p}
            \begin{cases}
              \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})~\mathtt{and}~t_i\in{}F\\
              0~otherwise
            \end{cases}$ \\
            $=$ \\
            $\sum\limits_{i\in{}IPr_p}
            \begin{cases}
              \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i]\\
              0~otherwise\\
            \end{cases}$ \\
          \end{tabular}
        \end{frameb}

        Let us define the set $Pr_p$ as
        \begin{center}
          $Pr_p=\{t_i~\vert~t_i\succ{}t\land\exists{}\omega~s.t.~pre(p,t_i)=(\omega,\mathtt{basic})\}$
        \end{center}
        and set $IPr_p$ as
        \begin{center}
          $IPr_p=\{i~\vert~i\in[0,j-1]\land\sigma'(id_p)(\texttt{oat})[i]=\texttt{basic}\}$
        \end{center}

        Let us define $f(t_i)$ as
        \begin{center}
          $f(t_i)=\begin{cases}
            \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})~\mathtt{and}~t_i\in{}F\\
            0~otherwise
          \end{cases}$
        \end{center}
        and $g(i)$ as              
        \begin{center}
          $g(i)=\begin{cases}
            \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i]\\
            0~otherwise\\
          \end{cases}$
        \end{center}

        then, we must prove
        \fbox{$\sum\limits_{t_i\in{}Pr_p}f(t_i)=\sum\limits_{i\in{}IPr_p}g(i)$.}

        To prove the above equality, it is sufficient to prove that
        there exists a bijection $\beta$ from $Pr_p$ to $IPr_p$ such
        that for all $t_i\in{}Pr_p$, $f(t_i)=g(\beta(t_i))$. Let us
        use the function $\beta$ that takes a $t_i\in{}Pr_p$ and
        yields the index denoting the position of $t_i$ in the
        priority-ordered version of set $Pr_p$. We assumed that a
        total order existed over the conflicting output transitions of
        place $p$, then there exists a total ordering of the
        transitions of set $Pr_p$, i.e. the conflicting output
        transitions of place $p$ with a higher priority than $t$. By
        property of the \hilecop{} transformation function, we know
        that the index returned by the function $\beta$ belongs to the
        interval $[0,j-1]$ and verifies
        $\sigma'(id_p)(\texttt{oat})[i]=\texttt{basic}$.  Given a
        $t_i\in{}Pr_p$, we must show \fbox{$f(t_i)=g(\beta(t_i))$.}

        Let us unfold terms $f(t_i)$ and $g(\beta(t_i))$ to their full definition:
        \begin{frameb}
          \begin{tabular}{c}
            $\begin{cases}
              \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})~\mathtt{and}~t_i\in{}F\\
              0~otherwise
            \end{cases}$ \\
            $=$ \\
            $\begin{cases}
              \sigma'(id_p)(\texttt{oaw})[\beta(t_i)]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[\beta(t_i)]\\
              0~otherwise\\
            \end{cases}$ \\
          \end{tabular}
        \end{frameb}
        
        By construction, there exists an
        $id_{t_i}\in{}Comps(\Delta)$ such that
        $\gamma(t_i)=id_{t_i}$, and there exist $g_{t_i}$, $i_{t_i}$
        and $o_{t_i}$ such that
        $\mathtt{comp}(id_{t_i},\texttt{transition},g_{t_i},i_{t_i},o_{t_i})\in{}d.cs$.\\
        
        By property of the function $\beta$ and by construction, we
        can deduce that the element of index $\beta(t_i)$ of the
        \texttt{otf} input port of PCI $id_p$ is connected the
        \texttt{fired} output port of TCI $id_{t_i}$. Thus, there
        exists an $id_{\beta{}i}\in{}Sigs(\Delta)$ s.t.
        ${<}\texttt{otf}(\beta(t_i))\mathtt{\Rightarrow{}id}_{\beta{}i}{>}\in{}i_p$
        and\\
        ${<}\texttt{fired}\mathtt{\Rightarrow{}id}_{\beta{}i}{>}\in{}o_{t_i}$.

        By property of the stabilize relation, $\mathtt{comp}(id_p,$
        $\texttt{place},$ $g_p,$ $i_p,$ $o_p)\in{}d.cs$ and\\
        $\mathtt{comp}(id_{t_i},\texttt{transition},g_{t_i},i_{t_i},o_{t_i})\in{}d.cs$,
        we have
        \begin{center}
          $\sigma'(id_{t_i})(\texttt{fired})=\sigma'(id_{\beta{}i})=\sigma'(id_p)(\texttt{otf})[\beta(t_i)]$
        \end{center}
        then, we can rewrite the goal with the above equation
        \begin{frameb}
          \begin{tabular}{c}
            $\begin{cases}
              \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})~\mathtt{and}~t_i\in{}F\\
              0~otherwise
            \end{cases}$ \\
            $=$ \\
            $\begin{cases}
              \sigma'(id_p)(\texttt{oaw})[\beta(t_i)]~\mathtt{if}~\sigma'(id_{t_i})(\texttt{fired})\\
              0~otherwise\\
            \end{cases}$ \\
          \end{tabular}
        \end{frameb}

        By property of the function $\beta$ and by construction, we
        can deduce that the element of index $\beta(t_i)$ of the
        \texttt{oaw} input port of PCI $id_p$ is connected to a
        constant value denoting the weight of the arc between place
        $p$ and transition $t_i$. Thus, we have
        \begin{center}
          ${<}\texttt{oaw}(\beta(t_i))\mathtt{\Rightarrow{}}\omega{>}\in{}i_p$
          where $pre(p,t_i)=(\omega,\mathtt{basic})$
        \end{center}

        By property of the stabilize relation and $\mathtt{comp}(id_p,$
        $\texttt{place},$ $g_p,$ $i_p,$ $o_p)\in{}d.cs$, we have
        \begin{center}
          $\sigma'(id_p)(\texttt{oaw})[\beta(t_i)]=\omega$
        \end{center}
        then, we can rewrite the goal with the above equation
        \begin{frameb}
          \begin{tabular}{c}
            $\begin{cases}
              \omega~\mathtt{if}~pre(p,t_i)=(\omega,\mathtt{basic})~\mathtt{and}~t_i\in{}F\\
              0~otherwise
            \end{cases}$ \\
            $=$ \\
            $\begin{cases}
              \omega~\mathtt{if}~\sigma'(id_{t_i})(\texttt{fired})\\
              0~otherwise\\
            \end{cases}$ \\
          \end{tabular}
        \end{frameb}

        Finally, proving the goal comes down to proving
        \begin{frameb}
          $t_i\in{}F\Leftrightarrow\sigma'(id_{t_i})(\texttt{fired})=\mathtt{true}$
        \end{frameb}

        Let us prove both sense of the equivalence:
        
        \begin{enumerate}
        \item Assuming $t_i\in{}F$, let us show
          \fbox{$\sigma'(id_{t_i})(\texttt{fired})=\mathtt{true}$}.

          Appealing to EH, proving the goal is trivial.
          
        \item Assuming
          $\sigma'(id_{t_i})(\texttt{fired})=\mathtt{true}$, let us
          show \fbox{$t_i\in{}F$}.

          Appealing to EH, we have $t_i\in{}F\lor{}t_i\in{}T_s$. There
          are two cases: either \qedbox{$t_i\in{}F$} or $t_i\in{}T$.
          In the case where $t_i\in{}T$, we can show a contradiction
          with the fact that $t$ is a top-priority transition in set
          $T_s$. By definition, transition $t_i$ has a higher firing
          priority than $t$, and thus, if $t_i$ belongs to set $T_s$,
          then $t$ is no longer a top-priority transition of set
          $T_s$; whence the \qedbox{contradiction}.
        \end{enumerate}
      \end{itemize}
    \end{itemize}
    
  \item Assuming that
    $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$,
    let us show\\
    \fbox{$t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$.}
    
    By definition of $t\in{}Sens(s'.M-\sum\limits_{t_i\in{}Pr(t,F)}pre(t_i))$:

    \begin{frameb}
      $\forall{}p\in{}P,\omega\in\mathbb{N}^{*},~$\\
      $\big((pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test}))\Rightarrow$
      ${}s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)\ge\omega\big)$\\
      $\land{}$ $\big(pre(p,t)=(\omega,\mathtt{inhib})\Rightarrow$
      ${}s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)<\omega\big)$
    \end{frameb}

    Given a $p\in{}P$ and an $\omega\in{}\mathbb{N}^{*}$, let us show 
    \begin{frameb}
      $\big((pre(p,t)=(\omega,\mathtt{basic})\lor{}pre(p,t)=(\omega,\mathtt{test}))\Rightarrow$
      ${}s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)\ge\omega\big)$\\
      $\land{}$ $\big(pre(p,t)=(\omega,\mathtt{inhib})\Rightarrow$
      ${}s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)<\omega\big)$
    \end{frameb}

    By construction, there exists an $id_p\in{}Comps(\Delta)$
    s.t. $\gamma(p)=id_p$. \exP{}
    
    To prove the goal, there are different cases:
    \begin{enumerate}
    \item Assuming that $pre(p,t)=(\omega,\mathtt{test})$, let us show
      \fbox{$s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)\ge\omega$.}

      Then, assuming that the priority relation is well-defined, there
      exists no transition $t_i$ connected by a $\mathtt{basic}$ arc
      to $p$ that verifies $t_i\succ{}t$. This is because $t$ is
      connected to $p$ by a $\mathtt{test}$ arc; thus, $t$ is not in
      conflict with the other output transitions of $p$; thus, there
      is no relation of priority between $t$ and the other output
      transitions of $p$.

      Then, we can deduce that
      $\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)=0$.

      Then, the new goal is $s'.M(p)\ge\omega$.

      Knowing that $t\in{}Firable(s')$, thus, $t\in{}Sens(s'.M)$,
      thus, we have \qedbox{$s'.M(p)\ge\omega$.}
      
    \item Assuming that $pre(p,t)=(\omega,\mathtt{inhib})$, let us
      show
      \fbox{$s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)<\omega$.}

      Use the same strategy as above.
      
    \item Assuming that $pre(p,t)=(\omega,\mathtt{basic})$, let us
      show
      \fbox{$s'.M(p)-\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)\ge\omega$.}

      Then, there are two cases:

      \begin{enumerate}
      \item \textbf{CASE} For all pair of transitions in
        $output_c(p)$, all conflicts are solved by mutual exclusion.

        Then, assuming that the priority relation is well-defined, it
        must not be defined over the set $output_c(t)$, and we know
        that $t\in{}output_c(p)$ since
        $pre(p,t)=(\omega,\mathtt{basic})$.

        Then, there exists no transition $t_i$ connected to $p$ by a
        $\mathtt{basic}$ arc that verifies $t_i\succ{}t$.

        Then, we can deduce $\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)=0$.
        
        Then, the new goal is $s'.M(p)\ge\omega$.

        We know $t\in{}Firable(s')$, thus, $t\in{}Sens(s'.M)$, thus,
        \qedbox{$s'.M(p)\ge\omega$.}
        
      \item \textbf{CASE} The priority relation is a strict total
        order over the set $output_c(p)$.
        
        By construction, there exists $id_t\in{}Comps(\Delta)$
        s.t. $\gamma(t)=id_t$. \exT{}

        By construction, there exist
        $j\in{}[0,\vert{}input(t)\vert-1]$,
        $k\in[0,\vert{}output(t)\vert-1]$, and
        $id_{kj}\in{}Sigs(\Delta)$ s.t.
        ${<}\mathtt{priority\_authorizations(j)\Rightarrow{}id_{kj}}{>}\in{}i_t$
        and\\
        ${<}\mathtt{priority\_authorizations(k)\Rightarrow{}id_{kj}}{>}\in{}o_p$.
        Let us take such an $j$, $k$ and $id_{kj}$.

        From
        $\prod\limits_{i=0}^{\Delta(id_t)(\texttt{ian})-1}\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$,
        we can deduce that for all $i\in{}[0,$ $\Delta(id_t)$
        $(\texttt{ian})-1]$, $\sigma'(id_t)(\texttt{pauths})[i]=\mathtt{true}$.

        By construction,
        ${<}\mathtt{input\_arcs\_number\Rightarrow}{}\vert{}input(t)\vert{>}\in{}g_t$,
        and by property of the elaboration relation, we have
        $\Delta(id_t)(\texttt{ian})=\vert{}input(t)\vert$. Then, from
        $j\in{}[0,\vert{}input(t)\vert-1]$, we can deduce
        $j\in[0,\Delta(id_t)(\texttt{ian})-1]$. And, from
        $\forall{}i\in{}[0,\Delta(id_t)(\texttt{ian})-1],~\sigma'(id_t)$
        $(\texttt{pauths})[i]=$ $\mathtt{true}$, we can deduce
        $\sigma'(id_t)(\texttt{pauths})[j]=\mathtt{true}$.
        
        By property of the stabilize relation, \InCsCompP{} and
        \InCsCompT{}:
        \begin{equation}
          \label{eq:frd-eq-pauthsk-pauthsj}
          \sigma'(id_p)(\texttt{pauths})[k]=\sigma'(id_{kj})=\sigma'(id_t)(\texttt{pauths})[j]=\mathtt{true}
        \end{equation}

        By property of the stabilize relation and \InCsCompP:
        \begin{equation}
          \label{eq:frd-eq-pauthsk}
          \sigma'(id_p)(\texttt{pauths})[k]=(\sigma'(id_p)(\texttt{sm})\ge{}\mathtt{vsots}+\sigma'(id_p)(\texttt{oaw})[k])
        \end{equation}

        Let us define the $\mathtt{vsots}$ term as follows:
        \begin{equation}
          \label{eq:frd-vsots-snd-case}
          \mathtt{vsots}=\sum\limits_{i=0}^{k-1}
          \begin{cases}
            \sigma'(id_p)(\texttt{oaw})[i]~\mathtt{if}~\sigma'(id_p)(\texttt{otf})[i].\\
            \hspace{19ex}\sigma'(id_p)(\texttt{oat})[i]=\mathtt{basic}\\
            0~otherwise\\
          \end{cases}
        \end{equation}
        
        From \eqref{eq:frd-eq-pauthsk-pauthsj} and
        \eqref{eq:frd-eq-pauthsk}, we can deduce that
        $\sigma'(id_p)(\texttt{sm})\ge{}\mathtt{vsots}+\sigma'(id_p)(\texttt{oaw})[k]$.

        Then, there are three points to prove:
        \begin{enumerate}
        \item \fbox{$s'.M(p)=\sigma'(id_p)(\texttt{sm})$}
        \item \fbox{$\omega=\sigma'(id_p)(\texttt{oaw})[k]$}
        \item
          \fbox{$\sum\limits_{t_i\in{}Pr(t,F)}pre(p,t_i)=\mathtt{vsots}$}
        \end{enumerate}
        
        See \ref{item:stab-comp-spc-fst-case} for the remainder of the
        proof.
        
      \end{enumerate}
      
    \end{enumerate}
  \end{enumerate}
  
\end{niproof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% FALLING EDGE NOT EQUAL FIRED LEMMA %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{lemma}[Falling edge equal not fired]
  \label{lem:fe-equal-not-fired}
  \fehyps{} then $\forall{}t,id_t~s.t.~\gamma(t)=id_t,$
  $~t\notin{}Fired(s')\Leftrightarrow\sigma'(id_t)(\texttt{fired})=\mathtt{false}$.
\end{lemma}

\begin{niproof}
  Proving the above lemma is trivial by appealing to
  Lemma~\nameref{lem:fe-equal-fired} and by reasoning on
  contrapositives.
\end{niproof}

% \appendix
% Cue to tell LaTeX that the following "chapters" are Appendices

% Include the appendices of the thesis as separate files from the Appendices folder
% Uncomment the lines as you write the Appendices

% \include{PlaceDesign}
% \include{TransitionDesign}
% \include{SignalNameRef}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\printbibliography[heading=bibintoc]

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
